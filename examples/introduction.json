{"history":[{"time":0,"state":{"pages":[{"id":0,"name":"Introduction","state":{"t":"tables.selector","v":0,"mode":"run","expr":"SheetOf(Note)","inner":{"t":"tables.sheet","v":0,"lines":[{"id":0,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"# Tables","note":{"type":"text","tag":"h1","text":"Tables"}}},{"id":41,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"A notes-spreadsheet-hybrid for programmers.","note":{"type":"text","tag":"p","text":"A notes-spreadsheet-hybrid for programmers."}}},{"id":70,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"## Shortcuts","note":{"type":"text","tag":"h2","text":"Shortcuts"}}},{"id":76,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"*⌘ = Meta = Ctrl (can be used interchangeably)*","note":{"type":"text","tag":"p","text":"*⌘ = Meta = Ctrl (can be used interchangeably)*"}}},{"id":66,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"Command Search: **⌘⇧P**","note":{"type":"text","tag":"p","text":"Command Search: **⌘⇧P**"}}},{"id":67,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"Shortcut Suggestions: **⌘?**","note":{"type":"text","tag":"p","text":"Shortcut Suggestions: **⌘?**"}}},{"id":68,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"Navigation: **Arrow Keys/`hjkl`**","note":{"type":"text","tag":"p","text":"Navigation: **Arrow Keys/`hjkl`**"}}},{"id":69,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"Go in/out: **`Enter`/`Escape`**","note":{"type":"text","tag":"p","text":"Go in/out: **`Enter`/`Escape`**"}}},{"id":71,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"## Notes","note":{"type":"text","tag":"h2","text":"Notes"}}},{"id":72,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"Format with Markdown","note":{"type":"text","tag":"p","text":"Format with Markdown"}}},{"id":74,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":1,"input":"<span className=\"text-sm text-gray-800\">(`*italic* **bold** [link text](link url)` etc)</span>","note":{"type":"text","tag":"p","text":"<span className=\"text-sm text-gray-800\">(`*italic* **bold** [link text](link url)` etc)</span>"}}},{"id":7,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"\"Formulas\" (JavaScript) start with `\"=\"`","note":{"type":"text","tag":"p","text":"\"Formulas\" (JavaScript) start with `\"=\"`"}}},{"id":82,"name":"x","visibility":"block","state":{"t":"tables.note","v":0,"level":1,"input":"= 12","note":{"type":"expr","code":" 12"}}},{"id":84,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":1,"input":"= Math.sqrt(x + x)","note":{"type":"expr","code":" Math.sqrt(x + x)"}}},{"id":80,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":1,"input":"**⌘`Space`** for completions","note":{"type":"text","tag":"p","text":"**⌘`Space`** for completions"}}},{"id":81,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":1,"input":"**⌘`D`** for docs (if available)","note":{"type":"text","tag":"p","text":"**⌘`D`** for docs (if available)"}}}]}},"isCollapsed":false,"children":[{"id":0,"name":"Tips","state":{"t":"tables.selector","v":0,"mode":"run","expr":"SheetOf(Note)","inner":{"t":"tables.sheet","v":0,"lines":[{"id":13,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"# Tips","note":{"type":"text","tag":"h1","text":"Tips"}}},{"id":0,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"Tables is heavily keyboard-focused. Try ⌘⇧P to see all commands for the current focus (or ⌘?).","note":{"type":"text","tag":"p","text":"Tables is heavily keyboard-focused. Try ⌘⇧P to see all commands for the current focus (or ⌘?)."}}},{"id":1,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}},{"id":2,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"Your document is automatically backed up to IndexedDB, but gets deleted after 7 days. So don't forget to save it to a local file.","note":{"type":"text","tag":"p","text":"Your document is automatically backed up to IndexedDB, but gets deleted after 7 days. So don't forget to save it to a local file."}}},{"id":3,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}},{"id":4,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"Tables gives you the full power of JavaScript and React.","note":{"type":"text","tag":"p","text":"Tables gives you the full power of JavaScript and React."}}},{"id":5,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"**Be aware:** You have the **power to break it** (but generally you can undo it – ⌘Z) and full responsibilty to **ensure you trust the code you run**.","note":{"type":"text","tag":"p","text":"**Be aware:** You have the **power to break it** (but generally you can undo it – ⌘Z) and full responsibilty to **ensure you trust the code you run**."}}},{"id":6,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"Also beware of side-effects in your code: Everything is automatically rerun as needed (for changes), so side-effects may execute for every character you type.","note":{"type":"text","tag":"p","text":"Also beware of side-effects in your code: Everything is automatically rerun as needed (for changes), so side-effects may execute for every character you type."}}},{"id":7,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}},{"id":8,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"If a shortcut triggers a browser action, try an alternative key combination by switching ⌘/Meta/Ctrl.","note":{"type":"text","tag":"p","text":"If a shortcut triggers a browser action, try an alternative key combination by switching ⌘/Meta/Ctrl."}}},{"id":9,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":1,"input":"For example:","note":{"type":"text","tag":"p","text":"For example:"}}},{"id":10,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":2,"input":"⌘N = Meta-N = Ctrl-N","note":{"type":"text","tag":"p","text":"⌘N = Meta-N = Ctrl-N"}}},{"id":11,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":2,"input":"⌘⇧P = Meta-Shift-P = Ctrl-Shift-P","note":{"type":"text","tag":"p","text":"⌘⇧P = Meta-Shift-P = Ctrl-Shift-P"}}},{"id":12,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":2,"input":"etc","note":{"type":"text","tag":"p","text":"etc"}}}]}},"isCollapsed":true,"children":[]},{"id":1,"name":"Formulas","state":{"t":"tables.selector","v":0,"mode":"run","expr":"SheetOf(Note)","inner":{"t":"tables.sheet","v":0,"lines":[{"id":0,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"# Formulas","note":{"type":"text","tag":"h1","text":"Formulas"}}},{"id":1,"name":"msInADay","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"= 24 /*h*/ * 60 /*min*/ * 60 /*sec*/ * 1000 /*ms*/","note":{"type":"expr","code":" 24 /*h*/ * 60 /*min*/ * 60 /*sec*/ * 1000 /*ms*/"}}},{"id":2,"name":"startOfThisYear","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"= new Date(new Date().getFullYear(), 0, 1)","note":{"type":"expr","code":" new Date(new Date().getFullYear(), 0, 1)"}}},{"id":3,"name":"daysInThisYear","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"= (Date.now() - startOfThisYear.getTime()) / msInADay","note":{"type":"expr","code":" (Date.now() - startOfThisYear.getTime()) / msInADay"}}},{"id":4,"name":"","visibility":"result","state":{"t":"tables.note","v":0,"level":0,"input":"= // using react:\n<p className=\"py-2\">\n  This year is already {/* preserve the space character before this comment */}\n  {daysInThisYear.toLocaleString(\"en-US\", { maximumFractionDigits: 1 })}\n  {} days long. {}\n  <span className=\"text-sm text-gray-700\">(Select this line and show or hide the code with ⌘M)</span>\n</p>","note":{"type":"expr","code":" // using react:\n<p className=\"py-2\">\n  This year is already {/* preserve the space character before this comment */}\n  {daysInThisYear.toLocaleString(\"en-US\", { maximumFractionDigits: 1 })}\n  {} days long. {}\n  <span className=\"text-sm text-gray-700\">(Select this line and show or hide the code with ⌘M)</span>\n</p>"}}},{"id":5,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"## External Libraries","note":{"type":"text","tag":"h2","text":"External Libraries"}}},{"id":6,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"[esm.sh](https://esm.sh/) works great for loading npm libraries","note":{"type":"text","tag":"p","text":"[esm.sh](https://esm.sh/) works great for loading npm libraries"}}},{"id":14,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"### Number Formatting","note":{"type":"text","tag":"h3","text":"Number Formatting"}}},{"id":7,"name":"numeral","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"= import('https://esm.sh/numeral')","note":{"type":"expr","code":" import('https://esm.sh/numeral')"}}},{"id":8,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"= numeral.default(123456.789).format('0,0.00')","note":{"type":"expr","code":" numeral.default(123456.789).format('0,0.00')"}}},{"id":10,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"### CSV Parsing","note":{"type":"text","tag":"h3","text":"CSV Parsing"}}},{"id":11,"name":"Papa","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"= import('https://esm.sh/papaparse')","note":{"type":"expr","code":" import('https://esm.sh/papaparse')"}}},{"id":12,"name":"csv","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"id,name,age,plan,email\n0,John,28,free,john@example.com\n1,Alice,34,premium,alice@boo\n2,Bob,43,premium,bob@b.b","note":{"type":"text","tag":"p","text":"id,name,age,plan,email\n0,John,28,free,john@example.com\n1,Alice,34,premium,alice@boo\n2,Bob,43,premium,bob@b.b"}}},{"id":13,"name":"data","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"= Papa.default.parse(csv.text, { header: true }).data","note":{"type":"expr","code":" Papa.default.parse(csv.text, { header: true }).data"}}},{"id":15,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"### Data Validation","note":{"type":"text","tag":"h3","text":"Data Validation"}}},{"id":16,"name":"validator","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"= import('https://esm.sh/validator')","note":{"type":"expr","code":" import('https://esm.sh/validator')"}}},{"id":17,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"= data.map(user => ({ ...user, validEmail: validator.default.isEmail(user.email) }))","note":{"type":"expr","code":" data.map(user => ({ ...user, validEmail: validator.default.isEmail(user.email) }))"}}},{"id":18,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"### Data Processing","note":{"type":"text","tag":"h3","text":"Data Processing"}}},{"id":19,"name":"lodash","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"= import('https://esm.sh/lodash')","note":{"type":"expr","code":" import('https://esm.sh/lodash')"}}},{"id":20,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"= lodash.default.groupBy(data, 'plan')","note":{"type":"expr","code":" lodash.default.groupBy(data, 'plan')"}}}]}},"isCollapsed":true,"children":[]},{"id":2,"name":"Markdown","state":{"t":"tables.selector","v":0,"mode":"run","expr":"SheetOf(Note)","inner":{"t":"tables.sheet","v":0,"lines":[{"id":0,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"# Markdown","note":{"type":"text","tag":"h1","text":"Markdown"}}},{"id":1,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"*`*italic*`*","note":{"type":"text","tag":"p","text":"*`*italic*`*"}}},{"id":2,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"**`**bold**`**","note":{"type":"text","tag":"p","text":"**`**bold**`**"}}},{"id":3,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"`[a link](url)`","note":{"type":"text","tag":"p","text":"`[a link](url)`"}}},{"id":4,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"- Lists","note":{"type":"text","tag":"li","text":"Lists"}}},{"id":5,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"[ ] Todos","note":{"type":"checkbox","checked":false,"text":"Todos"}}},{"id":6,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"[x] Done","note":{"type":"checkbox","checked":true,"text":"Done"}}},{"id":7,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"`# Headings`","note":{"type":"text","tag":"p","text":"`# Headings`"}}},{"id":8,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"Inline <span className=\"before:block before:absolute before:-inset-0.5 before:-skew-y-1 before:bg-blue-100 relative inline-block\"><span className=\"relative text-blue-950\">Html with [tailwindcss](https://tailwindcss.com/docs/utility-first)</span></span>","note":{"type":"text","tag":"p","text":"Inline <span className=\"before:block before:absolute before:-inset-0.5 before:-skew-y-1 before:bg-blue-100 relative inline-block\"><span className=\"relative text-blue-950\">Html with [tailwindcss](https://tailwindcss.com/docs/utility-first)</span></span>"}}}]}},"isCollapsed":true,"children":[]},{"id":3,"name":"Blocks","state":{"t":"tables.selector","v":0,"mode":"run","expr":"SheetOf(Note)","inner":{"t":"tables.sheet","v":0,"lines":[{"id":0,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"# Blocks","note":{"type":"text","tag":"h1","text":"Blocks"}}},{"id":1,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"Blocks are the equivalent to cells in a spreadsheet. Most things in Tables are Blocks.","note":{"type":"text","tag":"p","text":"Blocks are the equivalent to cells in a spreadsheet. Most things in Tables are Blocks."}}},{"id":3,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}},{"id":2,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"Every line here contains a `Note` Block, which allows writing Markdown or Formulas.","note":{"type":"text","tag":"p","text":"Every line here contains a `Note` Block, which allows writing Markdown or Formulas."}}},{"id":4,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"A `Note` Block also allows using another Block, for example `JSExpr`. Type:","note":{"type":"text","tag":"p","text":"A `Note` Block also allows using another Block, for example `JSExpr`. Type:"}}},{"id":5,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"/blocks.JSExpr","note":{"type":"block","isInstantiated":false,"code":"blocks.JSExpr"}}},{"id":6,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"and hit ⌘`Enter` to use it:","note":{"type":"text","tag":"p","text":"and hit ⌘`Enter` to use it:"}}},{"id":7,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"/blocks.JSExpr","note":{"type":"block","isInstantiated":true,"code":"blocks.JSExpr","state":"// This is a JSExpr Block now\nfunction Mark({ children }) {\n  return (\n    <span className=\"before:block before:absolute before:-inset-0.5 before:-skew-y-1 before:bg-blue-100 relative inline-block\">\n      <span className=\"relative text-blue-950\">\n        {children}\n      </span>\n    </span>\n  )\n}\n\n<p>\n  <Mark>Look</Mark> at it!\n</p>"}}},{"id":8,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}},{"id":9,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"All lines here are part of the `SheetOf` Block:","note":{"type":"text","tag":"p","text":"All lines here are part of the `SheetOf` Block:"}}},{"id":10,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"/blocks.SheetOf(blocks.Note)","note":{"type":"block","isInstantiated":false,"code":"blocks.SheetOf(blocks.Note)"}}},{"id":11,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"/blocks.SheetOf(blocks.Note)","note":{"type":"block","isInstantiated":true,"code":"blocks.SheetOf(blocks.Note)","state":{"t":"tables.sheet","v":0,"lines":[{"id":0,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"Now we have a Sheet inside a Sheet","note":{"type":"text","tag":"p","text":"Now we have a Sheet inside a Sheet"}}},{"id":1,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"= $9.text","note":{"type":"expr","code":" $9.text"}}}]}}}},{"id":12,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}},{"id":13,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}},{"id":14,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"There are other Blocks available in `blocks`. (Use completion/docs with ⌘`Space`/⌘`D`)","note":{"type":"text","tag":"p","text":"There are other Blocks available in `blocks`. (Use completion/docs with ⌘`Space`/⌘`D`)"}}},{"id":15,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"= blocks","note":{"type":"expr","code":" blocks"}}},{"id":16,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}},{"id":17,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"## Custom Blocks","note":{"type":"text","tag":"h2","text":"Custom Blocks"}}},{"id":18,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"You can build your own blocks. For now you either have to shoot me a message or look at the source code of the existing blocks to find out more.","note":{"type":"text","tag":"p","text":"You can build your own blocks. For now you either have to shoot me a message or look at the source code of the existing blocks to find out more."}}},{"id":19,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}},{"id":20,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"Ok, I'll give you a small example:","note":{"type":"text","tag":"p","text":"Ok, I'll give you a small example:"}}},{"id":21,"name":"RAW","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"/blocks.JSExpr","note":{"type":"block","isInstantiated":true,"code":"blocks.JSExpr","state":"tables.block.create({\n  init: \"\",\n  view({ state, update, env }, ref) {\n    return (\n      <textarea\n        ref={ref}\n        value={state}\n        onChange={ev => update(stateBefore => ev.target.value)}\n        />\n    )\n  },\n  recompute(state, update, env) {\n    return state\n  },\n  getResult(state) {\n    return state\n  },\n  fromJSON(json) {\n    return typeof json === 'string' ? json : ''\n  },\n  toJSON(state) {\n    return state\n  },\n})"}}},{"id":22,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"/RAW","note":{"type":"block","isInstantiated":false,"code":"RAW"}}},{"id":23,"name":"rawText","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"/RAW","note":{"type":"block","isInstantiated":true,"code":"RAW","state":"{\n  \"test\": \"foo\",\n  \"bar\": 12\n}"}}},{"id":24,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"= JSON.parse(rawText)","note":{"type":"expr","code":" JSON.parse(rawText)"}}}]}},"isCollapsed":true,"children":[]}]}],"viewState":{"sidebarOpen":true,"openPage":[0]},"template":{"id":1,"name":"","state":{"t":"tables.selector","v":0,"mode":"run","expr":"SheetOf(Note)","inner":{"t":"tables.sheet","v":0,"lines":[{"id":0,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}}]}},"isCollapsed":true,"children":[]}}},{"time":1709558050699,"state":{"pages":[{"id":0,"name":"Introduction","state":{"t":"tables.selector","v":0,"mode":"run","expr":"SheetOf(Note)","inner":{"t":"tables.sheet","v":0,"lines":[{"id":0,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"# Tables","note":{"type":"text","tag":"h1","text":"Tables"}}},{"id":41,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"A notes-spreadsheet-hybrid for programmers.","note":{"type":"text","tag":"p","text":"A notes-spreadsheet-hybrid for programmers."}}},{"id":70,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"## Shortcuts","note":{"type":"text","tag":"h2","text":"Shortcuts"}}},{"id":76,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"*⌘ = Meta = Ctrl (can be used interchangeably)*","note":{"type":"text","tag":"p","text":"*⌘ = Meta = Ctrl (can be used interchangeably)*"}}},{"id":66,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"Command Search: **⌘⇧P**","note":{"type":"text","tag":"p","text":"Command Search: **⌘⇧P**"}}},{"id":67,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"Shortcut Suggestions: **⌘?**","note":{"type":"text","tag":"p","text":"Shortcut Suggestions: **⌘?**"}}},{"id":68,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"Navigation: **Arrow Keys/`hjkl`**","note":{"type":"text","tag":"p","text":"Navigation: **Arrow Keys/`hjkl`**"}}},{"id":69,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"Go in/out: **`Enter`/`Escape`**","note":{"type":"text","tag":"p","text":"Go in/out: **`Enter`/`Escape`**"}}},{"id":71,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"## Notes","note":{"type":"text","tag":"h2","text":"Notes"}}},{"id":72,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"Format with Markdown","note":{"type":"text","tag":"p","text":"Format with Markdown"}}},{"id":74,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":1,"input":"<span className=\"text-sm text-gray-800\">(`*italic* **bold** [link text](link url)` etc)</span>","note":{"type":"text","tag":"p","text":"<span className=\"text-sm text-gray-800\">(`*italic* **bold** [link text](link url)` etc)</span>"}}},{"id":7,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"\"Formulas\" (JavaScript) start with `\"=\"`","note":{"type":"text","tag":"p","text":"\"Formulas\" (JavaScript) start with `\"=\"`"}}},{"id":82,"name":"x","visibility":"block","state":{"t":"tables.note","v":0,"level":1,"input":"= 12","note":{"type":"expr","code":" 12"}}},{"id":84,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":1,"input":"= Math.sqrt(x + x)","note":{"type":"expr","code":" Math.sqrt(x + x)"}}},{"id":80,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":1,"input":"**⌘`Space`** for completions","note":{"type":"text","tag":"p","text":"**⌘`Space`** for completions"}}},{"id":81,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":1,"input":"**⌘`D`** for docs (if available)","note":{"type":"text","tag":"p","text":"**⌘`D`** for docs (if available)"}}}]}},"isCollapsed":false,"children":[{"id":0,"name":"Tips","state":{"t":"tables.selector","v":0,"mode":"run","expr":"SheetOf(Note)","inner":{"t":"tables.sheet","v":0,"lines":[{"id":13,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"# Tips","note":{"type":"text","tag":"h1","text":"Tips"}}},{"id":0,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"Tables is heavily keyboard-focused. Try ⌘⇧P to see all commands for the current focus (or ⌘?).","note":{"type":"text","tag":"p","text":"Tables is heavily keyboard-focused. Try ⌘⇧P to see all commands for the current focus (or ⌘?)."}}},{"id":1,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}},{"id":2,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"Your document is automatically backed up to IndexedDB, but gets deleted after 7 days. So don't forget to save it to a local file.","note":{"type":"text","tag":"p","text":"Your document is automatically backed up to IndexedDB, but gets deleted after 7 days. So don't forget to save it to a local file."}}},{"id":3,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}},{"id":4,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"Tables gives you the full power of JavaScript and React.","note":{"type":"text","tag":"p","text":"Tables gives you the full power of JavaScript and React."}}},{"id":5,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"**Be aware:** You have the **power to break it** (but generally you can undo it – ⌘Z) and full responsibilty to **ensure you trust the code you run**.","note":{"type":"text","tag":"p","text":"**Be aware:** You have the **power to break it** (but generally you can undo it – ⌘Z) and full responsibilty to **ensure you trust the code you run**."}}},{"id":6,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"Also beware of side-effects in your code: Everything is automatically rerun as needed (for changes), so side-effects may execute for every character you type.","note":{"type":"text","tag":"p","text":"Also beware of side-effects in your code: Everything is automatically rerun as needed (for changes), so side-effects may execute for every character you type."}}},{"id":7,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}},{"id":8,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"If a shortcut triggers a browser action, try an alternative key combination by switching ⌘/Meta/Ctrl.","note":{"type":"text","tag":"p","text":"If a shortcut triggers a browser action, try an alternative key combination by switching ⌘/Meta/Ctrl."}}},{"id":9,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":1,"input":"For example:","note":{"type":"text","tag":"p","text":"For example:"}}},{"id":10,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":2,"input":"⌘N = Meta-N = Ctrl-N","note":{"type":"text","tag":"p","text":"⌘N = Meta-N = Ctrl-N"}}},{"id":11,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":2,"input":"⌘⇧P = Meta-Shift-P = Ctrl-Shift-P","note":{"type":"text","tag":"p","text":"⌘⇧P = Meta-Shift-P = Ctrl-Shift-P"}}},{"id":12,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":2,"input":"etc","note":{"type":"text","tag":"p","text":"etc"}}}]}},"isCollapsed":true,"children":[]},{"id":1,"name":"Formulas","state":{"t":"tables.selector","v":0,"mode":"run","expr":"SheetOf(Note)","inner":{"t":"tables.sheet","v":0,"lines":[{"id":0,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"# Formulas","note":{"type":"text","tag":"h1","text":"Formulas"}}},{"id":1,"name":"msInADay","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"= 24 /*h*/ * 60 /*min*/ * 60 /*sec*/ * 1000 /*ms*/","note":{"type":"expr","code":" 24 /*h*/ * 60 /*min*/ * 60 /*sec*/ * 1000 /*ms*/"}}},{"id":2,"name":"startOfThisYear","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"= new Date(new Date().getFullYear(), 0, 1)","note":{"type":"expr","code":" new Date(new Date().getFullYear(), 0, 1)"}}},{"id":3,"name":"daysInThisYear","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"= (Date.now() - startOfThisYear.getTime()) / msInADay","note":{"type":"expr","code":" (Date.now() - startOfThisYear.getTime()) / msInADay"}}},{"id":4,"name":"","visibility":"result","state":{"t":"tables.note","v":0,"level":0,"input":"= // using react:\n<p className=\"py-2\">\n  This year is already {/* preserve the space character before this comment */}\n  {daysInThisYear.toLocaleString(\"en-US\", { maximumFractionDigits: 1 })}\n  {} days long. {}\n  <span className=\"text-sm text-gray-700\">(Select this line and show or hide the code with ⌘M)</span>\n</p>","note":{"type":"expr","code":" // using react:\n<p className=\"py-2\">\n  This year is already {/* preserve the space character before this comment */}\n  {daysInThisYear.toLocaleString(\"en-US\", { maximumFractionDigits: 1 })}\n  {} days long. {}\n  <span className=\"text-sm text-gray-700\">(Select this line and show or hide the code with ⌘M)</span>\n</p>"}}},{"id":5,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"## External Libraries","note":{"type":"text","tag":"h2","text":"External Libraries"}}},{"id":6,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"[esm.sh](https://esm.sh/) works great for loading npm libraries","note":{"type":"text","tag":"p","text":"[esm.sh](https://esm.sh/) works great for loading npm libraries"}}},{"id":14,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"### Number Formatting","note":{"type":"text","tag":"h3","text":"Number Formatting"}}},{"id":7,"name":"numeral","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"= import('https://esm.sh/numeral')","note":{"type":"expr","code":" import('https://esm.sh/numeral')"}}},{"id":8,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"= numeral.default(123456.789).format('0,0.00')","note":{"type":"expr","code":" numeral.default(123456.789).format('0,0.00')"}}},{"id":10,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"### CSV Parsing","note":{"type":"text","tag":"h3","text":"CSV Parsing"}}},{"id":11,"name":"Papa","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"= import('https://esm.sh/papaparse')","note":{"type":"expr","code":" import('https://esm.sh/papaparse')"}}},{"id":12,"name":"csv","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"id,name,age,plan,email\n0,John,28,free,john@example.com\n1,Alice,34,premium,alice@boo\n2,Bob,43,premium,bob@b.b","note":{"type":"text","tag":"p","text":"id,name,age,plan,email\n0,John,28,free,john@example.com\n1,Alice,34,premium,alice@boo\n2,Bob,43,premium,bob@b.b"}}},{"id":13,"name":"data","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"= Papa.default.parse(csv.text, { header: true }).data","note":{"type":"expr","code":" Papa.default.parse(csv.text, { header: true }).data"}}},{"id":15,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"### Data Validation","note":{"type":"text","tag":"h3","text":"Data Validation"}}},{"id":16,"name":"validator","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"= import('https://esm.sh/validator')","note":{"type":"expr","code":" import('https://esm.sh/validator')"}}},{"id":17,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"= data.map(user => ({ ...user, validEmail: validator.default.isEmail(user.email) }))","note":{"type":"expr","code":" data.map(user => ({ ...user, validEmail: validator.default.isEmail(user.email) }))"}}},{"id":18,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"### Data Processing","note":{"type":"text","tag":"h3","text":"Data Processing"}}},{"id":19,"name":"lodash","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"= import('https://esm.sh/lodash')","note":{"type":"expr","code":" import('https://esm.sh/lodash')"}}},{"id":20,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"= lodash.default.groupBy(data, 'plan')","note":{"type":"expr","code":" lodash.default.groupBy(data, 'plan')"}}}]}},"isCollapsed":true,"children":[]},{"id":2,"name":"Markdown","state":{"t":"tables.selector","v":0,"mode":"run","expr":"SheetOf(Note)","inner":{"t":"tables.sheet","v":0,"lines":[{"id":0,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"# Markdown","note":{"type":"text","tag":"h1","text":"Markdown"}}},{"id":1,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"*`*italic*`*","note":{"type":"text","tag":"p","text":"*`*italic*`*"}}},{"id":2,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"**`**bold**`**","note":{"type":"text","tag":"p","text":"**`**bold**`**"}}},{"id":3,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"`[a link](url)`","note":{"type":"text","tag":"p","text":"`[a link](url)`"}}},{"id":4,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"- Lists","note":{"type":"text","tag":"li","text":"Lists"}}},{"id":5,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"[ ] Todos","note":{"type":"checkbox","checked":false,"text":"Todos"}}},{"id":6,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"[x] Done","note":{"type":"checkbox","checked":true,"text":"Done"}}},{"id":7,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"`# Headings`","note":{"type":"text","tag":"p","text":"`# Headings`"}}},{"id":8,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"Inline <span className=\"before:block before:absolute before:-inset-0.5 before:-skew-y-1 before:bg-blue-100 relative inline-block\"><span className=\"relative text-blue-950\">Html with [tailwindcss](https://tailwindcss.com/docs/utility-first)</span></span>","note":{"type":"text","tag":"p","text":"Inline <span className=\"before:block before:absolute before:-inset-0.5 before:-skew-y-1 before:bg-blue-100 relative inline-block\"><span className=\"relative text-blue-950\">Html with [tailwindcss](https://tailwindcss.com/docs/utility-first)</span></span>"}}}]}},"isCollapsed":true,"children":[]},{"id":3,"name":"Blocks","state":{"t":"tables.selector","v":0,"mode":"run","expr":"SheetOf(Note)","inner":{"t":"tables.sheet","v":0,"lines":[{"id":0,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"# Blocks","note":{"type":"text","tag":"h1","text":"Blocks"}}},{"id":1,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"Blocks are the equivalent to cells in a spreadsheet. Most things in Tables are Blocks.","note":{"type":"text","tag":"p","text":"Blocks are the equivalent to cells in a spreadsheet. Most things in Tables are Blocks."}}},{"id":3,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}},{"id":2,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"Every line here contains a `Note` Block, which allows writing Markdown or Formulas.","note":{"type":"text","tag":"p","text":"Every line here contains a `Note` Block, which allows writing Markdown or Formulas."}}},{"id":4,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"A `Note` Block also allows using another Block, for example `JSExpr`. Type:","note":{"type":"text","tag":"p","text":"A `Note` Block also allows using another Block, for example `JSExpr`. Type:"}}},{"id":5,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"/blocks.JSExpr","note":{"type":"block","isInstantiated":false,"code":"blocks.JSExpr"}}},{"id":6,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"and hit ⌘`Enter` to use it:","note":{"type":"text","tag":"p","text":"and hit ⌘`Enter` to use it:"}}},{"id":7,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"/blocks.JSExpr","note":{"type":"block","isInstantiated":true,"code":"blocks.JSExpr","state":"// This is a JSExpr Block now\nfunction Mark({ children }) {\n  return (\n    <span className=\"before:block before:absolute before:-inset-0.5 before:-skew-y-1 before:bg-blue-100 relative inline-block\">\n      <span className=\"relative text-blue-950\">\n        {children}\n      </span>\n    </span>\n  )\n}\n\n<p>\n  <Mark>Look</Mark> at it!\n</p>"}}},{"id":8,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}},{"id":9,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"All lines here are part of the `SheetOf` Block:","note":{"type":"text","tag":"p","text":"All lines here are part of the `SheetOf` Block:"}}},{"id":10,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"/blocks.SheetOf(blocks.Note)","note":{"type":"block","isInstantiated":false,"code":"blocks.SheetOf(blocks.Note)"}}},{"id":11,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"/blocks.SheetOf(blocks.Note)","note":{"type":"block","isInstantiated":true,"code":"blocks.SheetOf(blocks.Note)","state":{"t":"tables.sheet","v":0,"lines":[{"id":0,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"Now we have a Sheet inside a Sheet","note":{"type":"text","tag":"p","text":"Now we have a Sheet inside a Sheet"}}},{"id":1,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"= $9.text","note":{"type":"expr","code":" $9.text"}}}]}}}},{"id":12,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}},{"id":13,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}},{"id":14,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"There are other Blocks available in `blocks`. (Use completion/docs with ⌘`Space`/⌘`D`)","note":{"type":"text","tag":"p","text":"There are other Blocks available in `blocks`. (Use completion/docs with ⌘`Space`/⌘`D`)"}}},{"id":15,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"= blocks","note":{"type":"expr","code":" blocks"}}},{"id":16,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}},{"id":17,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"## Custom Blocks","note":{"type":"text","tag":"h2","text":"Custom Blocks"}}},{"id":18,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"You can build your own blocks. For now you either have to shoot me a message or look at the source code of the existing blocks to find out more.","note":{"type":"text","tag":"p","text":"You can build your own blocks. For now you either have to shoot me a message or look at the source code of the existing blocks to find out more."}}},{"id":19,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}},{"id":20,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"Ok, I'll give you a small example:","note":{"type":"text","tag":"p","text":"Ok, I'll give you a small example:"}}},{"id":21,"name":"RAW","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"/blocks.JSExpr","note":{"type":"block","isInstantiated":true,"code":"blocks.JSExpr","state":"tables.block.create({\n  init: \"\",\n  view({ state, update, env }, ref) {\n    return (\n      <textarea\n        ref={ref}\n        value={state}\n        onChange={ev => update(stateBefore => ev.target.value)}\n        />\n    )\n  },\n  recompute(state, update, env) {\n    return state\n  },\n  getResult(state) {\n    return state\n  },\n  fromJSON(json) {\n    return typeof json === 'string' ? json : ''\n  },\n  toJSON(state) {\n    return state\n  },\n})"}}},{"id":22,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"/RAW","note":{"type":"block","isInstantiated":false,"code":"RAW"}}},{"id":23,"name":"rawText","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"/RAW","note":{"type":"block","isInstantiated":false,"code":"RAW"}}},{"id":24,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"= JSON.parse(rawText)","note":{"type":"expr","code":" JSON.parse(rawText)"}}}]}},"isCollapsed":true,"children":[]}]}],"viewState":{"sidebarOpen":true,"openPage":[0]},"template":{"id":1,"name":"","state":{"t":"tables.selector","v":0,"mode":"run","expr":"SheetOf(Note)","inner":{"t":"tables.sheet","v":0,"lines":[{"id":0,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}}]}},"isCollapsed":true,"children":[]}},"prev":0},{"time":1709567381900,"state":{"pages":[{"id":0,"name":"Introduction","state":{"t":"tables.selector","v":0,"mode":"run","expr":"SheetOf(Note)","inner":{"t":"tables.sheet","v":0,"lines":[{"id":0,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"# Tables","note":{"type":"text","tag":"h1","text":"Tables"}}},{"id":41,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"A notes-spreadsheet-hybrid for programmers.","note":{"type":"text","tag":"p","text":"A notes-spreadsheet-hybrid for programmers."}}},{"id":86,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}},{"id":87,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"Everything in Tables is a Block. A Block can be thought of like a cell in a spreadsheet.","note":{"type":"text","tag":"p","text":"Everything in Tables is a Block. A Block can be thought of like a cell in a spreadsheet."}}},{"id":85,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"Tables is heavily keyboard-focused:","note":{"type":"text","tag":"p","text":"Tables is heavily keyboard-focused:"}}},{"id":88,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":1,"input":"Try **⌘K/⌘⇧P** to see all commands for the currently focused block(s). (Also try **⌘?**)","note":{"type":"text","tag":"p","text":"Try **⌘K/⌘⇧P** to see all commands for the currently focused block(s). (Also try **⌘?**)"}}},{"id":89,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":1,"input":"Use the ArrowKeys or `H`/`J`/`K`/`L` and `Enter`/`Escape` to move between Blocks.","note":{"type":"text","tag":"p","text":"Use the ArrowKeys or `H`/`J`/`K`/`L` and `Enter`/`Escape` to move between Blocks."}}},{"id":70,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"## Shortcuts","note":{"type":"text","tag":"h2","text":"Shortcuts"}}},{"id":76,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"*⌘ = Meta = Ctrl (can be used interchangeably, useful if the browser intercepts a variant)*","note":{"type":"text","tag":"p","text":"*⌘ = Meta = Ctrl (can be used interchangeably, useful if the browser intercepts a variant)*"}}},{"id":66,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"Command Search: **⌘K/⌘⇧P**","note":{"type":"text","tag":"p","text":"Command Search: **⌘K/⌘⇧P**"}}},{"id":67,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"Shortcut Suggestions: **⌘?**","note":{"type":"text","tag":"p","text":"Shortcut Suggestions: **⌘?**"}}},{"id":68,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"Navigation: **Arrow Keys/`HJKL`**","note":{"type":"text","tag":"p","text":"Navigation: **Arrow Keys/`HJKL`**"}}},{"id":69,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"Go in/out: **`Enter`/`Escape`**","note":{"type":"text","tag":"p","text":"Go in/out: **`Enter`/`Escape`**"}}},{"id":71,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"## Writing","note":{"type":"text","tag":"h2","text":"Writing"}}},{"id":72,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"Format with Markdown","note":{"type":"text","tag":"p","text":"Format with Markdown"}}},{"id":74,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":1,"input":"<span className=\"text-sm text-gray-800\">(`*italic* **bold** [link text](link url)` etc)</span>","note":{"type":"text","tag":"p","text":"<span className=\"text-sm text-gray-800\">(`*italic* **bold** [link text](link url)` etc)</span>"}}},{"id":7,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"\"Formulas\" (JavaScript) start with `\"=\"`","note":{"type":"text","tag":"p","text":"\"Formulas\" (JavaScript) start with `\"=\"`"}}},{"id":82,"name":"x","visibility":"block","state":{"t":"tables.note","v":0,"level":1,"input":"= 12","note":{"type":"expr","code":" 12"}}},{"id":84,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":1,"input":"= Math.sqrt(x + x)","note":{"type":"expr","code":" Math.sqrt(x + x)"}}},{"id":80,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":1,"input":"**⌘`Space`** for completions","note":{"type":"text","tag":"p","text":"**⌘`Space`** for completions"}}},{"id":81,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":1,"input":"**⌘`D`** for docs (if available)","note":{"type":"text","tag":"p","text":"**⌘`D`** for docs (if available)"}}}]}},"isCollapsed":false,"children":[{"id":0,"name":"Tips","state":{"t":"tables.selector","v":0,"mode":"run","expr":"SheetOf(Note)","inner":{"t":"tables.sheet","v":0,"lines":[{"id":13,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"# Tips","note":{"type":"text","tag":"h1","text":"Tips"}}},{"id":2,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"Your document is automatically backed up to IndexedDB, but gets deleted after 7 days. So don't forget to save it to a local file.","note":{"type":"text","tag":"p","text":"Your document is automatically backed up to IndexedDB, but gets deleted after 7 days. So don't forget to save it to a local file."}}},{"id":3,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}},{"id":4,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"Tables gives you the full power of JavaScript and React.","note":{"type":"text","tag":"p","text":"Tables gives you the full power of JavaScript and React."}}},{"id":5,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"**Be aware:** You have the **power to break it** (but generally you can undo it – ⌘Z) and full responsibilty to **ensure you trust the code you run**.","note":{"type":"text","tag":"p","text":"**Be aware:** You have the **power to break it** (but generally you can undo it – ⌘Z) and full responsibilty to **ensure you trust the code you run**."}}},{"id":6,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"Also beware of side-effects in your code: Everything is automatically rerun as needed (for changes), so side-effects may execute for every character you type.","note":{"type":"text","tag":"p","text":"Also beware of side-effects in your code: Everything is automatically rerun as needed (for changes), so side-effects may execute for every character you type."}}},{"id":7,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}},{"id":8,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"If a shortcut triggers a browser action, try an alternative key combination by switching ⌘/Meta/Ctrl.","note":{"type":"text","tag":"p","text":"If a shortcut triggers a browser action, try an alternative key combination by switching ⌘/Meta/Ctrl."}}},{"id":9,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":1,"input":"For example:","note":{"type":"text","tag":"p","text":"For example:"}}},{"id":10,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":2,"input":"⌘N = Meta-N = Ctrl-N","note":{"type":"text","tag":"p","text":"⌘N = Meta-N = Ctrl-N"}}},{"id":11,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":2,"input":"⌘⇧P = Meta-Shift-P = Ctrl-Shift-P","note":{"type":"text","tag":"p","text":"⌘⇧P = Meta-Shift-P = Ctrl-Shift-P"}}},{"id":12,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":2,"input":"etc","note":{"type":"text","tag":"p","text":"etc"}}}]}},"isCollapsed":true,"children":[]},{"id":1,"name":"Formulas","state":{"t":"tables.selector","v":0,"mode":"run","expr":"SheetOf(Note)","inner":{"t":"tables.sheet","v":0,"lines":[{"id":0,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"# Formulas","note":{"type":"text","tag":"h1","text":"Formulas"}}},{"id":1,"name":"msInADay","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"= 24 /*h*/ * 60 /*min*/ * 60 /*sec*/ * 1000 /*ms*/","note":{"type":"expr","code":" 24 /*h*/ * 60 /*min*/ * 60 /*sec*/ * 1000 /*ms*/"}}},{"id":2,"name":"startOfThisYear","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"= new Date(new Date().getFullYear(), 0, 1)","note":{"type":"expr","code":" new Date(new Date().getFullYear(), 0, 1)"}}},{"id":3,"name":"daysInThisYear","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"= (Date.now() - startOfThisYear.getTime()) / msInADay","note":{"type":"expr","code":" (Date.now() - startOfThisYear.getTime()) / msInADay"}}},{"id":4,"name":"","visibility":"result","state":{"t":"tables.note","v":0,"level":0,"input":"= // using react:\n<p className=\"py-2\">\n  This year is already {/* preserve the space character before this comment */}\n  {daysInThisYear.toLocaleString(\"en-US\", { maximumFractionDigits: 1 })}\n  {} days long. {}\n  <span className=\"text-sm text-gray-700\">(Select this line and show or hide the code with ⌘M)</span>\n</p>","note":{"type":"expr","code":" // using react:\n<p className=\"py-2\">\n  This year is already {/* preserve the space character before this comment */}\n  {daysInThisYear.toLocaleString(\"en-US\", { maximumFractionDigits: 1 })}\n  {} days long. {}\n  <span className=\"text-sm text-gray-700\">(Select this line and show or hide the code with ⌘M)</span>\n</p>"}}},{"id":5,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"## External Libraries","note":{"type":"text","tag":"h2","text":"External Libraries"}}},{"id":6,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"[esm.sh](https://esm.sh/) works great for loading npm libraries","note":{"type":"text","tag":"p","text":"[esm.sh](https://esm.sh/) works great for loading npm libraries"}}},{"id":14,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"### Number Formatting","note":{"type":"text","tag":"h3","text":"Number Formatting"}}},{"id":7,"name":"numeral","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"= import('https://esm.sh/numeral')","note":{"type":"expr","code":" import('https://esm.sh/numeral')"}}},{"id":8,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"= numeral.default(123456.789).format('0,0.00')","note":{"type":"expr","code":" numeral.default(123456.789).format('0,0.00')"}}},{"id":10,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"### CSV Parsing","note":{"type":"text","tag":"h3","text":"CSV Parsing"}}},{"id":11,"name":"Papa","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"= import('https://esm.sh/papaparse')","note":{"type":"expr","code":" import('https://esm.sh/papaparse')"}}},{"id":12,"name":"csv","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"id,name,age,plan,email\n0,John,28,free,john@example.com\n1,Alice,34,premium,alice@boo\n2,Bob,43,premium,bob@b.b","note":{"type":"text","tag":"p","text":"id,name,age,plan,email\n0,John,28,free,john@example.com\n1,Alice,34,premium,alice@boo\n2,Bob,43,premium,bob@b.b"}}},{"id":13,"name":"data","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"= Papa.default.parse(csv.text, { header: true }).data","note":{"type":"expr","code":" Papa.default.parse(csv.text, { header: true }).data"}}},{"id":15,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"### Data Validation","note":{"type":"text","tag":"h3","text":"Data Validation"}}},{"id":16,"name":"validator","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"= import('https://esm.sh/validator')","note":{"type":"expr","code":" import('https://esm.sh/validator')"}}},{"id":17,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"= data.map(user => ({ ...user, validEmail: validator.default.isEmail(user.email) }))","note":{"type":"expr","code":" data.map(user => ({ ...user, validEmail: validator.default.isEmail(user.email) }))"}}},{"id":18,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"### Data Processing","note":{"type":"text","tag":"h3","text":"Data Processing"}}},{"id":19,"name":"lodash","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"= import('https://esm.sh/lodash')","note":{"type":"expr","code":" import('https://esm.sh/lodash')"}}},{"id":20,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"= lodash.default.groupBy(data, 'plan')","note":{"type":"expr","code":" lodash.default.groupBy(data, 'plan')"}}}]}},"isCollapsed":true,"children":[]},{"id":2,"name":"Markdown","state":{"t":"tables.selector","v":0,"mode":"run","expr":"SheetOf(Note)","inner":{"t":"tables.sheet","v":0,"lines":[{"id":0,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"# Markdown","note":{"type":"text","tag":"h1","text":"Markdown"}}},{"id":1,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"*`*italic*`*","note":{"type":"text","tag":"p","text":"*`*italic*`*"}}},{"id":2,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"**`**bold**`**","note":{"type":"text","tag":"p","text":"**`**bold**`**"}}},{"id":3,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"`[a link](url)`","note":{"type":"text","tag":"p","text":"`[a link](url)`"}}},{"id":4,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"- Lists","note":{"type":"text","tag":"li","text":"Lists"}}},{"id":5,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"[ ] Todos","note":{"type":"checkbox","checked":false,"text":"Todos"}}},{"id":6,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"[x] Done","note":{"type":"checkbox","checked":true,"text":"Done"}}},{"id":7,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"`# Headings`","note":{"type":"text","tag":"p","text":"`# Headings`"}}},{"id":8,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"Inline <span className=\"before:block before:absolute before:-inset-0.5 before:-skew-y-1 before:bg-blue-100 relative inline-block\"><span className=\"relative text-blue-950\">Html with [tailwindcss](https://tailwindcss.com/docs/utility-first)</span></span>","note":{"type":"text","tag":"p","text":"Inline <span className=\"before:block before:absolute before:-inset-0.5 before:-skew-y-1 before:bg-blue-100 relative inline-block\"><span className=\"relative text-blue-950\">Html with [tailwindcss](https://tailwindcss.com/docs/utility-first)</span></span>"}}}]}},"isCollapsed":true,"children":[]},{"id":3,"name":"Blocks","state":{"t":"tables.selector","v":0,"mode":"run","expr":"SheetOf(Note)","inner":{"t":"tables.sheet","v":0,"lines":[{"id":0,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"# Blocks","note":{"type":"text","tag":"h1","text":"Blocks"}}},{"id":1,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"Blocks are the equivalent to cells in a spreadsheet. Most things in Tables are Blocks.","note":{"type":"text","tag":"p","text":"Blocks are the equivalent to cells in a spreadsheet. Most things in Tables are Blocks."}}},{"id":3,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}},{"id":2,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"Every line here contains a `Note` Block, which allows writing Markdown or Formulas.","note":{"type":"text","tag":"p","text":"Every line here contains a `Note` Block, which allows writing Markdown or Formulas."}}},{"id":4,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"A `Note` Block also allows using another Block, for example `JSExpr`. Type:","note":{"type":"text","tag":"p","text":"A `Note` Block also allows using another Block, for example `JSExpr`. Type:"}}},{"id":5,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"/blocks.JSExpr","note":{"type":"block","isInstantiated":false,"code":"blocks.JSExpr"}}},{"id":6,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"and hit ⌘`Enter` to use it:","note":{"type":"text","tag":"p","text":"and hit ⌘`Enter` to use it:"}}},{"id":7,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"/blocks.JSExpr","note":{"type":"block","isInstantiated":true,"code":"blocks.JSExpr","state":"// This is a JSExpr Block now\nfunction Mark({ children }) {\n  return (\n    <span className=\"before:block before:absolute before:-inset-0.5 before:-skew-y-2 before:bg-blue-400 relative inline-block\">\n      <span className=\"relative text-white px-0.5 tracking-wide\">\n        {children}\n      </span>\n    </span>\n  )\n}\n\n<p className=\"py-1\">\n  <Mark>Look</Mark> at it!\n</p>"}}},{"id":8,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}},{"id":9,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"All lines here are part of the `SheetOf` Block:","note":{"type":"text","tag":"p","text":"All lines here are part of the `SheetOf` Block:"}}},{"id":10,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"/blocks.SheetOf(blocks.Note)","note":{"type":"block","isInstantiated":false,"code":"blocks.SheetOf(blocks.Note)"}}},{"id":11,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"/blocks.SheetOf(blocks.Note)","note":{"type":"block","isInstantiated":true,"code":"blocks.SheetOf(blocks.Note)","state":{"t":"tables.sheet","v":0,"lines":[{"id":0,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"Now we have a Sheet inside of a Sheet","note":{"type":"text","tag":"p","text":"Now we have a Sheet inside of a Sheet"}}},{"id":1,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"= $9.text","note":{"type":"expr","code":" $9.text"}}}]}}}},{"id":12,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}},{"id":13,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}},{"id":14,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"There are other Blocks available in `blocks`. (Use completion/docs with ⌘`Space`/⌘`D`)","note":{"type":"text","tag":"p","text":"There are other Blocks available in `blocks`. (Use completion/docs with ⌘`Space`/⌘`D`)"}}},{"id":15,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"= blocks","note":{"type":"expr","code":" blocks"}}},{"id":16,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}},{"id":17,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"## Custom Blocks","note":{"type":"text","tag":"h2","text":"Custom Blocks"}}},{"id":18,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"You can build your own blocks. For now you either have to shoot me a message or look at the source code of the existing blocks to find out more.","note":{"type":"text","tag":"p","text":"You can build your own blocks. For now you either have to shoot me a message or look at the source code of the existing blocks to find out more."}}},{"id":19,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}},{"id":20,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"Ok, I'll give you a small example:","note":{"type":"text","tag":"p","text":"Ok, I'll give you a small example:"}}},{"id":21,"name":"RAW","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"/blocks.JSExpr","note":{"type":"block","isInstantiated":true,"code":"blocks.JSExpr","state":"tables.core.block.create({\n  init: \"\",\n  view({ state, dispatch, env }, ref) {\n    return (\n      <textarea\n        ref={ref}\n        value={state}\n        onChange={ev => dispatch(stateBefore => ({ state: ev.target.value }))}\n        rows={state.split('\\n').length}\n        />\n    )\n  },\n  recompute(state, update, env) {\n    return state\n  },\n  getResult(state) {\n    return state\n  },\n  fromJSON(json) {\n    return typeof json === 'string' ? json : ''\n  },\n  toJSON(state) {\n    return state\n  },\n})"}}},{"id":22,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"/RAW","note":{"type":"block","isInstantiated":false,"code":"RAW"}}},{"id":23,"name":"rawText","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"/RAW","note":{"type":"block","isInstantiated":true,"code":"RAW","state":"{\n  \"hello\": \"world\"\n}"}}},{"id":24,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"= JSON.parse(rawText)","note":{"type":"expr","code":" JSON.parse(rawText)"}}}]}},"isCollapsed":true,"children":[]}]}],"viewState":{"sidebarOpen":true,"openPage":[0]},"template":{"id":1,"name":"","state":{"t":"tables.selector","v":0,"mode":"run","expr":"SheetOf(Note)","inner":{"t":"tables.sheet","v":0,"lines":[{"id":0,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}}]}},"isCollapsed":true,"children":[]}},"prev":0},{"time":1709912944231,"state":{"pages":[{"id":0,"name":"Introduction","state":{"t":"tables.selector","v":0,"mode":"run","expr":"SheetOf(Note)","inner":{"t":"tables.sheet","v":0,"lines":[{"id":0,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"# Tables","note":{"type":"text","tag":"h1","text":"Tables"}}},{"id":41,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"A notes-spreadsheet-hybrid for programmers.","note":{"type":"text","tag":"p","text":"A notes-spreadsheet-hybrid for programmers."}}},{"id":86,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}},{"id":87,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"Everything in Tables is a Block. A Block can be thought of like a cell in a spreadsheet.","note":{"type":"text","tag":"p","text":"Everything in Tables is a Block. A Block can be thought of like a cell in a spreadsheet."}}},{"id":85,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"Tables is heavily keyboard-focused:","note":{"type":"text","tag":"p","text":"Tables is heavily keyboard-focused:"}}},{"id":88,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":1,"input":"Try **⌘K/⌘⇧P** to see all commands for the currently focused block(s). (Also try **⌘?**)","note":{"type":"text","tag":"p","text":"Try **⌘K/⌘⇧P** to see all commands for the currently focused block(s). (Also try **⌘?**)"}}},{"id":89,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":1,"input":"Use the ArrowKeys or `H`/`J`/`K`/`L` and `Enter`/`Escape` to move between Blocks.","note":{"type":"text","tag":"p","text":"Use the ArrowKeys or `H`/`J`/`K`/`L` and `Enter`/`Escape` to move between Blocks."}}},{"id":70,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"## Shortcuts","note":{"type":"text","tag":"h2","text":"Shortcuts"}}},{"id":76,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"*⌘ = Meta = Ctrl (can be used interchangeably, useful if the browser intercepts a variant)*","note":{"type":"text","tag":"p","text":"*⌘ = Meta = Ctrl (can be used interchangeably, useful if the browser intercepts a variant)*"}}},{"id":66,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"Command Search: **⌘K/⌘⇧P**","note":{"type":"text","tag":"p","text":"Command Search: **⌘K/⌘⇧P**"}}},{"id":67,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"Shortcut Suggestions: **⌘?**","note":{"type":"text","tag":"p","text":"Shortcut Suggestions: **⌘?**"}}},{"id":68,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"Navigation: **Arrow Keys/`HJKL`**","note":{"type":"text","tag":"p","text":"Navigation: **Arrow Keys/`HJKL`**"}}},{"id":69,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"Go in/out: **`Enter`/`Escape`**","note":{"type":"text","tag":"p","text":"Go in/out: **`Enter`/`Escape`**"}}},{"id":71,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"## Writing","note":{"type":"text","tag":"h2","text":"Writing"}}},{"id":72,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"Format with Markdown","note":{"type":"text","tag":"p","text":"Format with Markdown"}}},{"id":74,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":1,"input":"<span className=\"text-sm text-gray-800\">(`*italic* **bold** [link text](link url)` etc)</span>","note":{"type":"text","tag":"p","text":"<span className=\"text-sm text-gray-800\">(`*italic* **bold** [link text](link url)` etc)</span>"}}},{"id":7,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"\"Formulas\" (JavaScript) start with `\"=\"`","note":{"type":"text","tag":"p","text":"\"Formulas\" (JavaScript) start with `\"=\"`"}}},{"id":82,"name":"x","visibility":"block","state":{"t":"tables.note","v":0,"level":1,"input":"= 12","note":{"type":"expr","code":" 12"}}},{"id":84,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":1,"input":"= Math.sqrt(x + x)","note":{"type":"expr","code":" Math.sqrt(x + x)"}}},{"id":80,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":1,"input":"**⌘`Space`** for completions","note":{"type":"text","tag":"p","text":"**⌘`Space`** for completions"}}},{"id":81,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":1,"input":"**⌘`D`** for docs (if available)","note":{"type":"text","tag":"p","text":"**⌘`D`** for docs (if available)"}}}]}},"isCollapsed":false,"children":[{"id":0,"name":"Tips","state":{"t":"tables.selector","v":0,"mode":"run","expr":"SheetOf(Note)","inner":{"t":"tables.sheet","v":0,"lines":[{"id":13,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"# Tips","note":{"type":"text","tag":"h1","text":"Tips"}}},{"id":2,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"Your document is automatically backed up to IndexedDB, but gets deleted after 7 days. So don't forget to save it to a local file.","note":{"type":"text","tag":"p","text":"Your document is automatically backed up to IndexedDB, but gets deleted after 7 days. So don't forget to save it to a local file."}}},{"id":3,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}},{"id":4,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"Tables gives you the full power of JavaScript and React.","note":{"type":"text","tag":"p","text":"Tables gives you the full power of JavaScript and React."}}},{"id":5,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"**Be aware:** You have the **power to break it** (but generally you can undo it – ⌘Z) and full responsibilty to **ensure you trust the code you run**.","note":{"type":"text","tag":"p","text":"**Be aware:** You have the **power to break it** (but generally you can undo it – ⌘Z) and full responsibilty to **ensure you trust the code you run**."}}},{"id":6,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"Also beware of side-effects in your code: Everything is automatically rerun as needed (for changes), so side-effects may execute for every character you type.","note":{"type":"text","tag":"p","text":"Also beware of side-effects in your code: Everything is automatically rerun as needed (for changes), so side-effects may execute for every character you type."}}},{"id":7,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}},{"id":8,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"If a shortcut triggers a browser action, try an alternative key combination by switching ⌘/Meta/Ctrl.","note":{"type":"text","tag":"p","text":"If a shortcut triggers a browser action, try an alternative key combination by switching ⌘/Meta/Ctrl."}}},{"id":9,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":1,"input":"For example:","note":{"type":"text","tag":"p","text":"For example:"}}},{"id":10,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":2,"input":"⌘N = Meta-N = Ctrl-N","note":{"type":"text","tag":"p","text":"⌘N = Meta-N = Ctrl-N"}}},{"id":11,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":2,"input":"⌘⇧P = Meta-Shift-P = Ctrl-Shift-P","note":{"type":"text","tag":"p","text":"⌘⇧P = Meta-Shift-P = Ctrl-Shift-P"}}},{"id":12,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":2,"input":"etc","note":{"type":"text","tag":"p","text":"etc"}}}]}},"isCollapsed":true,"children":[]},{"id":1,"name":"Formulas","state":{"t":"tables.selector","v":0,"mode":"run","expr":"SheetOf(Note)","inner":{"t":"tables.sheet","v":0,"lines":[{"id":0,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"# Formulas","note":{"type":"text","tag":"h1","text":"Formulas"}}},{"id":1,"name":"msInADay","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"= 24 /*h*/ * 60 /*min*/ * 60 /*sec*/ * 1000 /*ms*/","note":{"type":"expr","code":" 24 /*h*/ * 60 /*min*/ * 60 /*sec*/ * 1000 /*ms*/"}}},{"id":2,"name":"startOfThisYear","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"= new Date(new Date().getFullYear(), 0, 1)","note":{"type":"expr","code":" new Date(new Date().getFullYear(), 0, 1)"}}},{"id":3,"name":"daysInThisYear","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"= (Date.now() - startOfThisYear.getTime()) / msInADay","note":{"type":"expr","code":" (Date.now() - startOfThisYear.getTime()) / msInADay"}}},{"id":4,"name":"","visibility":"result","state":{"t":"tables.note","v":0,"level":0,"input":"= // using react:\n<p className=\"py-2\">\n  This year is already {/* preserve the space character before this comment */}\n  {daysInThisYear.toLocaleString(\"en-US\", { maximumFractionDigits: 1 })}\n  {} days long. {}\n  <span className=\"text-sm text-gray-700\">(Select this line and show or hide the code with ⌘M)</span>\n</p>","note":{"type":"expr","code":" // using react:\n<p className=\"py-2\">\n  This year is already {/* preserve the space character before this comment */}\n  {daysInThisYear.toLocaleString(\"en-US\", { maximumFractionDigits: 1 })}\n  {} days long. {}\n  <span className=\"text-sm text-gray-700\">(Select this line and show or hide the code with ⌘M)</span>\n</p>"}}},{"id":5,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"## External Libraries","note":{"type":"text","tag":"h2","text":"External Libraries"}}},{"id":6,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"[esm.sh](https://esm.sh/) works great for loading npm libraries","note":{"type":"text","tag":"p","text":"[esm.sh](https://esm.sh/) works great for loading npm libraries"}}},{"id":14,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"### Number Formatting","note":{"type":"text","tag":"h3","text":"Number Formatting"}}},{"id":7,"name":"numeral","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"= import('https://esm.sh/numeral')","note":{"type":"expr","code":" import('https://esm.sh/numeral')"}}},{"id":8,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"= numeral.default(123456.789).format('0,0.00')","note":{"type":"expr","code":" numeral.default(123456.789).format('0,0.00')"}}},{"id":10,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"### CSV Parsing","note":{"type":"text","tag":"h3","text":"CSV Parsing"}}},{"id":11,"name":"Papa","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"= import('https://esm.sh/papaparse')","note":{"type":"expr","code":" import('https://esm.sh/papaparse')"}}},{"id":12,"name":"csv","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"id,name,age,plan,email\n0,John,28,free,john@example.com\n1,Alice,34,premium,alice@boo\n2,Bob,43,premium,bob@b.b","note":{"type":"text","tag":"p","text":"id,name,age,plan,email\n0,John,28,free,john@example.com\n1,Alice,34,premium,alice@boo\n2,Bob,43,premium,bob@b.b"}}},{"id":13,"name":"data","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"= Papa.default.parse(csv.text, { header: true }).data","note":{"type":"expr","code":" Papa.default.parse(csv.text, { header: true }).data"}}},{"id":15,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"### Data Validation","note":{"type":"text","tag":"h3","text":"Data Validation"}}},{"id":16,"name":"validator","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"= import('https://esm.sh/validator')","note":{"type":"expr","code":" import('https://esm.sh/validator')"}}},{"id":17,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"= data.map(user => ({ ...user, validEmail: validator.default.isEmail(user.email) }))","note":{"type":"expr","code":" data.map(user => ({ ...user, validEmail: validator.default.isEmail(user.email) }))"}}},{"id":18,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"### Data Processing","note":{"type":"text","tag":"h3","text":"Data Processing"}}},{"id":19,"name":"lodash","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"= import('https://esm.sh/lodash')","note":{"type":"expr","code":" import('https://esm.sh/lodash')"}}},{"id":20,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"= lodash.default.groupBy(data, 'plan')","note":{"type":"expr","code":" lodash.default.groupBy(data, 'plan')"}}}]}},"isCollapsed":true,"children":[]},{"id":2,"name":"Markdown","state":{"t":"tables.selector","v":0,"mode":"run","expr":"SheetOf(Note)","inner":{"t":"tables.sheet","v":0,"lines":[{"id":0,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"# Markdown","note":{"type":"text","tag":"h1","text":"Markdown"}}},{"id":1,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"*`*italic*`*","note":{"type":"text","tag":"p","text":"*`*italic*`*"}}},{"id":2,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"**`**bold**`**","note":{"type":"text","tag":"p","text":"**`**bold**`**"}}},{"id":3,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"`[a link](url)`","note":{"type":"text","tag":"p","text":"`[a link](url)`"}}},{"id":4,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"- Lists","note":{"type":"text","tag":"li","text":"Lists"}}},{"id":5,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"[ ] Todos","note":{"type":"checkbox","checked":false,"text":"Todos"}}},{"id":6,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"[x] Done","note":{"type":"checkbox","checked":true,"text":"Done"}}},{"id":7,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"`# Headings`","note":{"type":"text","tag":"p","text":"`# Headings`"}}},{"id":8,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"Inline <span className=\"before:block before:absolute before:-inset-0.5 before:-skew-y-1 before:bg-blue-100 relative inline-block\"><span className=\"relative text-blue-950\">Html with [tailwindcss](https://tailwindcss.com/docs/utility-first)</span></span>","note":{"type":"text","tag":"p","text":"Inline <span className=\"before:block before:absolute before:-inset-0.5 before:-skew-y-1 before:bg-blue-100 relative inline-block\"><span className=\"relative text-blue-950\">Html with [tailwindcss](https://tailwindcss.com/docs/utility-first)</span></span>"}}}]}},"isCollapsed":true,"children":[]},{"id":3,"name":"Blocks","state":{"t":"tables.selector","v":0,"mode":"run","expr":"SheetOf(Note)","inner":{"t":"tables.sheet","v":0,"lines":[{"id":0,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"# Blocks","note":{"type":"text","tag":"h1","text":"Blocks"}}},{"id":1,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"Blocks are the equivalent to cells in a spreadsheet. Most things in Tables are Blocks.","note":{"type":"text","tag":"p","text":"Blocks are the equivalent to cells in a spreadsheet. Most things in Tables are Blocks."}}},{"id":3,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}},{"id":2,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"Every line here contains a `Note` Block, which allows writing Markdown or Formulas.","note":{"type":"text","tag":"p","text":"Every line here contains a `Note` Block, which allows writing Markdown or Formulas."}}},{"id":4,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"A `Note` Block also allows using another Block, for example `JSExpr`. Type:","note":{"type":"text","tag":"p","text":"A `Note` Block also allows using another Block, for example `JSExpr`. Type:"}}},{"id":5,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"/blocks.JSExpr","note":{"type":"block","isInstantiated":false,"code":"blocks.JSExpr"}}},{"id":6,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"and hit ⌘`Enter` to use it:","note":{"type":"text","tag":"p","text":"and hit ⌘`Enter` to use it:"}}},{"id":7,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"/blocks.JSExpr","note":{"type":"block","isInstantiated":true,"code":"blocks.JSExpr","state":"// This is a JSExpr Block now\nfunction Mark({ children }) {\n  return (\n    <span className=\"before:block before:absolute before:-inset-0.5 before:-skew-y-2 before:bg-blue-400 relative inline-block\">\n      <span className=\"relative text-white px-0.5 tracking-wide\">\n        {children}\n      </span>\n    </span>\n  )\n}\n\n<p className=\"py-1\">\n  <Mark>Look</Mark> at it!\n</p>"}}},{"id":8,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}},{"id":9,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"All lines here are part of the `SheetOf` Block:","note":{"type":"text","tag":"p","text":"All lines here are part of the `SheetOf` Block:"}}},{"id":10,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"/blocks.SheetOf(blocks.Note)","note":{"type":"block","isInstantiated":false,"code":"blocks.SheetOf(blocks.Note)"}}},{"id":11,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"/blocks.SheetOf(blocks.Note)","note":{"type":"block","isInstantiated":true,"code":"blocks.SheetOf(blocks.Note)","state":{"t":"tables.sheet","v":0,"lines":[{"id":0,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"Now we have a Sheet inside of a Sheet","note":{"type":"text","tag":"p","text":"Now we have a Sheet inside of a Sheet"}}},{"id":1,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"= $9.text","note":{"type":"expr","code":" $9.text"}}}]}}}},{"id":12,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}},{"id":13,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}},{"id":14,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"There are other Blocks available in `blocks`. (Use completion/docs with ⌘`Space`/⌘`D`)","note":{"type":"text","tag":"p","text":"There are other Blocks available in `blocks`. (Use completion/docs with ⌘`Space`/⌘`D`)"}}},{"id":15,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"= blocks","note":{"type":"expr","code":" blocks"}}},{"id":16,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}},{"id":17,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"## Custom Blocks","note":{"type":"text","tag":"h2","text":"Custom Blocks"}}},{"id":18,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"You can build your own blocks. For now you either have to shoot me a message or look at the source code of the existing blocks to find out more.","note":{"type":"text","tag":"p","text":"You can build your own blocks. For now you either have to shoot me a message or look at the source code of the existing blocks to find out more."}}},{"id":19,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}},{"id":20,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"Ok, I'll give you a small example:","note":{"type":"text","tag":"p","text":"Ok, I'll give you a small example:"}}},{"id":21,"name":"RAW","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"/blocks.JSExpr","note":{"type":"block","isInstantiated":true,"code":"blocks.JSExpr","state":"tables.core.block.create({\n  init: \"\",\n  view({ state, dispatch, env }, ref) {\n    return (\n      <textarea\n        ref={ref}\n        value={state}\n        onChange={ev => dispatch(stateBefore => ({ state: ev.target.value }))}\n        rows={state.split('\\n').length}\n        />\n    )\n  },\n  recompute(state, update, env) {\n    return state\n  },\n  getResult(state) {\n    return state\n  },\n  fromJSON(json) {\n    return typeof json === 'string' ? json : ''\n  },\n  toJSON(state) {\n    return state\n  },\n})"}}},{"id":22,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"/RAW","note":{"type":"block","isInstantiated":false,"code":"RAW"}}},{"id":23,"name":"rawText","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"/RAW","note":{"type":"block","isInstantiated":true,"code":"RAW","state":"{\n  \"hello\": \"world\"\n}"}}},{"id":24,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"= JSON.parse(rawText)","note":{"type":"expr","code":" JSON.parse(rawText)"}}}]}},"isCollapsed":true,"children":[]}]}],"viewState":{"sidebarOpen":true,"openPage":[0]},"template":{"id":1,"name":"","state":{"t":"tables.selector","v":0,"mode":"run","expr":"SheetOf(Note)","inner":{"t":"tables.sheet","v":0,"lines":[{"id":0,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}}]}},"isCollapsed":true,"children":[]}},"prev":0},{"time":1709913113917,"state":{"pages":[{"id":0,"name":"Introduction","state":{"t":"tables.selector","v":0,"mode":"run","expr":"SheetOf(Note)","inner":{"t":"tables.sheet","v":0,"lines":[{"id":0,"name":"","visibility":"result","state":{"t":"tables.note","v":0,"level":0,"input":"= <img className=\"h-20 self-start mb-2\" src={tables.assets.logoTypeSvg} />","note":{"type":"expr","code":" <img className=\"h-20 self-start mb-2\" src={tables.assets.logoTypeSvg} />"}}},{"id":41,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"A notes-spreadsheet-hybrid for programmers.","note":{"type":"text","tag":"p","text":"A notes-spreadsheet-hybrid for programmers."}}},{"id":86,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}},{"id":87,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"Everything in tables is a Block. A Block can be thought of like a cell in a spreadsheet.","note":{"type":"text","tag":"p","text":"Everything in tables is a Block. A Block can be thought of like a cell in a spreadsheet."}}},{"id":85,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"tables is heavily keyboard-focused:","note":{"type":"text","tag":"p","text":"tables is heavily keyboard-focused:"}}},{"id":88,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":1,"input":"Try **⌘K/⌘⇧P** to see all commands for the currently focused block(s). (Also try **⌘?**)","note":{"type":"text","tag":"p","text":"Try **⌘K/⌘⇧P** to see all commands for the currently focused block(s). (Also try **⌘?**)"}}},{"id":89,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":1,"input":"Use the ArrowKeys or `H`/`J`/`K`/`L` and `Enter`/`Escape` to move between Blocks.","note":{"type":"text","tag":"p","text":"Use the ArrowKeys or `H`/`J`/`K`/`L` and `Enter`/`Escape` to move between Blocks."}}},{"id":70,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"## Shortcuts","note":{"type":"text","tag":"h2","text":"Shortcuts"}}},{"id":76,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"*⌘ = Meta = Ctrl (can be used interchangeably, useful if the browser intercepts a variant)*","note":{"type":"text","tag":"p","text":"*⌘ = Meta = Ctrl (can be used interchangeably, useful if the browser intercepts a variant)*"}}},{"id":66,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"Command Search: **⌘K/⌘⇧P**","note":{"type":"text","tag":"p","text":"Command Search: **⌘K/⌘⇧P**"}}},{"id":67,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"Shortcut Suggestions: **⌘?**","note":{"type":"text","tag":"p","text":"Shortcut Suggestions: **⌘?**"}}},{"id":68,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"Navigation: **Arrow Keys/`HJKL`**","note":{"type":"text","tag":"p","text":"Navigation: **Arrow Keys/`HJKL`**"}}},{"id":69,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"Go in/out: **`Enter`/`Escape`**","note":{"type":"text","tag":"p","text":"Go in/out: **`Enter`/`Escape`**"}}},{"id":71,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"## Writing","note":{"type":"text","tag":"h2","text":"Writing"}}},{"id":72,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"Format with Markdown","note":{"type":"text","tag":"p","text":"Format with Markdown"}}},{"id":74,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":1,"input":"<span className=\"text-sm text-gray-800\">(`*italic* **bold** [link text](link url)` etc)</span>","note":{"type":"text","tag":"p","text":"<span className=\"text-sm text-gray-800\">(`*italic* **bold** [link text](link url)` etc)</span>"}}},{"id":7,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"\"Formulas\" (JavaScript) start with `\"=\"`","note":{"type":"text","tag":"p","text":"\"Formulas\" (JavaScript) start with `\"=\"`"}}},{"id":82,"name":"x","visibility":"block","state":{"t":"tables.note","v":0,"level":1,"input":"= 12","note":{"type":"expr","code":" 12"}}},{"id":84,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":1,"input":"= Math.sqrt(x + x)","note":{"type":"expr","code":" Math.sqrt(x + x)"}}},{"id":80,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":1,"input":"**⌘`Space`** for completions","note":{"type":"text","tag":"p","text":"**⌘`Space`** for completions"}}},{"id":81,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":1,"input":"**⌘`D`** for docs (if available)","note":{"type":"text","tag":"p","text":"**⌘`D`** for docs (if available)"}}}]}},"isCollapsed":false,"children":[{"id":0,"name":"Tips","state":{"t":"tables.selector","v":0,"mode":"run","expr":"SheetOf(Note)","inner":{"t":"tables.sheet","v":0,"lines":[{"id":13,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"# Tips","note":{"type":"text","tag":"h1","text":"Tips"}}},{"id":2,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"Your document is automatically backed up to IndexedDB, but gets deleted after 7 days. So don't forget to save it to a local file.","note":{"type":"text","tag":"p","text":"Your document is automatically backed up to IndexedDB, but gets deleted after 7 days. So don't forget to save it to a local file."}}},{"id":3,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}},{"id":4,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"tables gives you the full power of JavaScript and React.","note":{"type":"text","tag":"p","text":"tables gives you the full power of JavaScript and React."}}},{"id":5,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"**Be aware:** You have the **power to break it** (but generally you can undo it – ⌘Z) and full responsibilty to **ensure you trust the code you run**.","note":{"type":"text","tag":"p","text":"**Be aware:** You have the **power to break it** (but generally you can undo it – ⌘Z) and full responsibilty to **ensure you trust the code you run**."}}},{"id":6,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"Also beware of side-effects in your code: Everything is automatically rerun as needed (for changes), so side-effects may execute for every character you type.","note":{"type":"text","tag":"p","text":"Also beware of side-effects in your code: Everything is automatically rerun as needed (for changes), so side-effects may execute for every character you type."}}},{"id":7,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}},{"id":8,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"If a shortcut triggers a browser action, try an alternative key combination by switching ⌘/Meta/Ctrl.","note":{"type":"text","tag":"p","text":"If a shortcut triggers a browser action, try an alternative key combination by switching ⌘/Meta/Ctrl."}}},{"id":9,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":1,"input":"For example:","note":{"type":"text","tag":"p","text":"For example:"}}},{"id":10,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":2,"input":"⌘N = Meta-N = Ctrl-N","note":{"type":"text","tag":"p","text":"⌘N = Meta-N = Ctrl-N"}}},{"id":11,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":2,"input":"⌘⇧P = Meta-Shift-P = Ctrl-Shift-P","note":{"type":"text","tag":"p","text":"⌘⇧P = Meta-Shift-P = Ctrl-Shift-P"}}},{"id":12,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":2,"input":"etc","note":{"type":"text","tag":"p","text":"etc"}}}]}},"isCollapsed":true,"children":[]},{"id":1,"name":"Formulas","state":{"t":"tables.selector","v":0,"mode":"run","expr":"SheetOf(Note)","inner":{"t":"tables.sheet","v":0,"lines":[{"id":0,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"# Formulas","note":{"type":"text","tag":"h1","text":"Formulas"}}},{"id":1,"name":"msInADay","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"= 24 /*h*/ * 60 /*min*/ * 60 /*sec*/ * 1000 /*ms*/","note":{"type":"expr","code":" 24 /*h*/ * 60 /*min*/ * 60 /*sec*/ * 1000 /*ms*/"}}},{"id":2,"name":"startOfThisYear","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"= new Date(new Date().getFullYear(), 0, 1)","note":{"type":"expr","code":" new Date(new Date().getFullYear(), 0, 1)"}}},{"id":3,"name":"daysInThisYear","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"= (Date.now() - startOfThisYear.getTime()) / msInADay","note":{"type":"expr","code":" (Date.now() - startOfThisYear.getTime()) / msInADay"}}},{"id":4,"name":"","visibility":"result","state":{"t":"tables.note","v":0,"level":0,"input":"= // using react:\n<p className=\"py-2\">\n  This year is already {/* preserve the space character before this comment */}\n  {daysInThisYear.toLocaleString(\"en-US\", { maximumFractionDigits: 1 })}\n  {} days long. {}\n  <span className=\"text-sm text-gray-700\">(Select this line and show or hide the code with ⌘M)</span>\n</p>","note":{"type":"expr","code":" // using react:\n<p className=\"py-2\">\n  This year is already {/* preserve the space character before this comment */}\n  {daysInThisYear.toLocaleString(\"en-US\", { maximumFractionDigits: 1 })}\n  {} days long. {}\n  <span className=\"text-sm text-gray-700\">(Select this line and show or hide the code with ⌘M)</span>\n</p>"}}},{"id":5,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"## External Libraries","note":{"type":"text","tag":"h2","text":"External Libraries"}}},{"id":6,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"[esm.sh](https://esm.sh/) works great for loading npm libraries","note":{"type":"text","tag":"p","text":"[esm.sh](https://esm.sh/) works great for loading npm libraries"}}},{"id":14,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"### Number Formatting","note":{"type":"text","tag":"h3","text":"Number Formatting"}}},{"id":7,"name":"numeral","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"= import('https://esm.sh/numeral')","note":{"type":"expr","code":" import('https://esm.sh/numeral')"}}},{"id":8,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"= numeral.default(123456.789).format('0,0.00')","note":{"type":"expr","code":" numeral.default(123456.789).format('0,0.00')"}}},{"id":10,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"### CSV Parsing","note":{"type":"text","tag":"h3","text":"CSV Parsing"}}},{"id":11,"name":"Papa","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"= import('https://esm.sh/papaparse')","note":{"type":"expr","code":" import('https://esm.sh/papaparse')"}}},{"id":12,"name":"csv","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"id,name,age,plan,email\n0,John,28,free,john@example.com\n1,Alice,34,premium,alice@boo\n2,Bob,43,premium,bob@b.b","note":{"type":"text","tag":"p","text":"id,name,age,plan,email\n0,John,28,free,john@example.com\n1,Alice,34,premium,alice@boo\n2,Bob,43,premium,bob@b.b"}}},{"id":13,"name":"data","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"= Papa.default.parse(csv.text, { header: true }).data","note":{"type":"expr","code":" Papa.default.parse(csv.text, { header: true }).data"}}},{"id":15,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"### Data Validation","note":{"type":"text","tag":"h3","text":"Data Validation"}}},{"id":16,"name":"validator","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"= import('https://esm.sh/validator')","note":{"type":"expr","code":" import('https://esm.sh/validator')"}}},{"id":17,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"= data.map(user => ({ ...user, validEmail: validator.default.isEmail(user.email) }))","note":{"type":"expr","code":" data.map(user => ({ ...user, validEmail: validator.default.isEmail(user.email) }))"}}},{"id":18,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"### Data Processing","note":{"type":"text","tag":"h3","text":"Data Processing"}}},{"id":19,"name":"lodash","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"= import('https://esm.sh/lodash')","note":{"type":"expr","code":" import('https://esm.sh/lodash')"}}},{"id":20,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"= lodash.default.groupBy(data, 'plan')","note":{"type":"expr","code":" lodash.default.groupBy(data, 'plan')"}}}]}},"isCollapsed":true,"children":[]},{"id":2,"name":"Markdown","state":{"t":"tables.selector","v":0,"mode":"run","expr":"SheetOf(Note)","inner":{"t":"tables.sheet","v":0,"lines":[{"id":0,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"# Markdown","note":{"type":"text","tag":"h1","text":"Markdown"}}},{"id":1,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"*`*italic*`*","note":{"type":"text","tag":"p","text":"*`*italic*`*"}}},{"id":2,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"**`**bold**`**","note":{"type":"text","tag":"p","text":"**`**bold**`**"}}},{"id":3,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"`[a link](url)`","note":{"type":"text","tag":"p","text":"`[a link](url)`"}}},{"id":4,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"- Lists","note":{"type":"text","tag":"li","text":"Lists"}}},{"id":5,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"[ ] Todos","note":{"type":"checkbox","checked":false,"text":"Todos"}}},{"id":6,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"[x] Done","note":{"type":"checkbox","checked":true,"text":"Done"}}},{"id":7,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"`# Headings`","note":{"type":"text","tag":"p","text":"`# Headings`"}}},{"id":8,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"Inline <span className=\"before:block before:absolute before:-inset-0.5 before:-skew-y-1 before:bg-blue-100 relative inline-block\"><span className=\"relative text-blue-950\">Html with [tailwindcss](https://tailwindcss.com/docs/utility-first)</span></span>","note":{"type":"text","tag":"p","text":"Inline <span className=\"before:block before:absolute before:-inset-0.5 before:-skew-y-1 before:bg-blue-100 relative inline-block\"><span className=\"relative text-blue-950\">Html with [tailwindcss](https://tailwindcss.com/docs/utility-first)</span></span>"}}}]}},"isCollapsed":true,"children":[]},{"id":3,"name":"Blocks","state":{"t":"tables.selector","v":0,"mode":"run","expr":"SheetOf(Note)","inner":{"t":"tables.sheet","v":0,"lines":[{"id":0,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"# Blocks","note":{"type":"text","tag":"h1","text":"Blocks"}}},{"id":1,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"Blocks are the equivalent to cells in a spreadsheet. Most things in tables are Blocks.","note":{"type":"text","tag":"p","text":"Blocks are the equivalent to cells in a spreadsheet. Most things in tables are Blocks."}}},{"id":3,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}},{"id":2,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"Every line here contains a `Note` Block, which allows writing Markdown or Formulas.","note":{"type":"text","tag":"p","text":"Every line here contains a `Note` Block, which allows writing Markdown or Formulas."}}},{"id":4,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"A `Note` Block also allows using another Block, for example `JSExpr`. Type:","note":{"type":"text","tag":"p","text":"A `Note` Block also allows using another Block, for example `JSExpr`. Type:"}}},{"id":5,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"/blocks.JSExpr","note":{"type":"block","isInstantiated":false,"code":"blocks.JSExpr"}}},{"id":6,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"and hit ⌘`Enter` to use it:","note":{"type":"text","tag":"p","text":"and hit ⌘`Enter` to use it:"}}},{"id":7,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"/blocks.JSExpr","note":{"type":"block","isInstantiated":true,"code":"blocks.JSExpr","state":"// This is a JSExpr Block now\nfunction Mark({ children }) {\n  return (\n    <span className=\"before:block before:absolute before:-inset-0.5 before:-skew-y-2 before:bg-blue-400 relative inline-block\">\n      <span className=\"relative text-white px-0.5 tracking-wide\">\n        {children}\n      </span>\n    </span>\n  )\n}\n\n<p className=\"py-1\">\n  <Mark>Look</Mark> at it!\n</p>"}}},{"id":8,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}},{"id":9,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"All lines here are part of the `SheetOf` Block:","note":{"type":"text","tag":"p","text":"All lines here are part of the `SheetOf` Block:"}}},{"id":10,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"/blocks.SheetOf(blocks.Note)","note":{"type":"block","isInstantiated":false,"code":"blocks.SheetOf(blocks.Note)"}}},{"id":11,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"/blocks.SheetOf(blocks.Note)","note":{"type":"block","isInstantiated":true,"code":"blocks.SheetOf(blocks.Note)","state":{"t":"tables.sheet","v":0,"lines":[{"id":0,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"Now we have a Sheet inside of a Sheet","note":{"type":"text","tag":"p","text":"Now we have a Sheet inside of a Sheet"}}},{"id":1,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"= $9.text","note":{"type":"expr","code":" $9.text"}}}]}}}},{"id":12,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}},{"id":13,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}},{"id":14,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"There are other Blocks available in `blocks`. (Use completion/docs with ⌘`Space`/⌘`D`)","note":{"type":"text","tag":"p","text":"There are other Blocks available in `blocks`. (Use completion/docs with ⌘`Space`/⌘`D`)"}}},{"id":15,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"= blocks","note":{"type":"expr","code":" blocks"}}},{"id":16,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}},{"id":17,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"## Custom Blocks","note":{"type":"text","tag":"h2","text":"Custom Blocks"}}},{"id":18,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"You can build your own blocks. For now you either have to shoot me a message or look at the source code of the existing blocks to find out more.","note":{"type":"text","tag":"p","text":"You can build your own blocks. For now you either have to shoot me a message or look at the source code of the existing blocks to find out more."}}},{"id":19,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}},{"id":20,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"Ok, I'll give you a small example:","note":{"type":"text","tag":"p","text":"Ok, I'll give you a small example:"}}},{"id":21,"name":"RAW","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"/blocks.JSExpr","note":{"type":"block","isInstantiated":true,"code":"blocks.JSExpr","state":"tables.core.block.create({\n  init: \"\",\n  view({ state, dispatch, env }, ref) {\n    return (\n      <textarea\n        ref={ref}\n        value={state}\n        onChange={ev => dispatch(stateBefore => ({ state: ev.target.value }))}\n        rows={state.split('\\n').length}\n        />\n    )\n  },\n  recompute(state, update, env) {\n    return state\n  },\n  getResult(state) {\n    return state\n  },\n  fromJSON(json) {\n    return typeof json === 'string' ? json : ''\n  },\n  toJSON(state) {\n    return state\n  },\n})"}}},{"id":22,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"/RAW","note":{"type":"block","isInstantiated":false,"code":"RAW"}}},{"id":23,"name":"rawText","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"/RAW","note":{"type":"block","isInstantiated":true,"code":"RAW","state":"{\n  \"hello\": \"world\"\n}"}}},{"id":24,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"= JSON.parse(rawText)","note":{"type":"expr","code":" JSON.parse(rawText)"}}}]}},"isCollapsed":true,"children":[]}]}],"viewState":{"sidebarOpen":true,"openPage":[0]},"template":{"id":1,"name":"","state":{"t":"tables.selector","v":0,"mode":"run","expr":"SheetOf(Note)","inner":{"t":"tables.sheet","v":0,"lines":[{"id":0,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}}]}},"isCollapsed":true,"children":[]}},"prev":0},{"time":1710769501783,"state":{"pages":[{"id":0,"name":"Introduction","state":{"t":"resheet.selector","v":0,"mode":"run","expr":"SheetOf(Note)","inner":{"t":"resheet.sheet","v":1,"lines":[{"id":0,"name":"","visibility":"result","state":{"t":"resheet.note","v":1,"level":0,"input":"= <img className=\"h-20 self-start mb-2\" src={tables.assets.logoTypeSvg} />","note":{"type":"expr","code":" <img className=\"h-20 self-start mb-2\" src={tables.assets.logoTypeSvg} />"}}},{"id":41,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"A notes-spreadsheet-hybrid for programmers.","note":{"type":"text","tag":"p","text":"A notes-spreadsheet-hybrid for programmers."}}},{"id":86,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}},{"id":87,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"Everything in tables is a Block. A Block can be thought of like a cell in a spreadsheet.","note":{"type":"text","tag":"p","text":"Everything in tables is a Block. A Block can be thought of like a cell in a spreadsheet."}}},{"id":85,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"tables is heavily keyboard-focused:","note":{"type":"text","tag":"p","text":"tables is heavily keyboard-focused:"}}},{"id":88,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":1,"input":"Try **⌘K/⌘⇧P** to see all commands for the currently focused block(s). (Also try **⌘?**)","note":{"type":"text","tag":"p","text":"Try **⌘K/⌘⇧P** to see all commands for the currently focused block(s). (Also try **⌘?**)"}}},{"id":89,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":1,"input":"Use the ArrowKeys or `H`/`J`/`K`/`L` and `Enter`/`Escape` to move between Blocks.","note":{"type":"text","tag":"p","text":"Use the ArrowKeys or `H`/`J`/`K`/`L` and `Enter`/`Escape` to move between Blocks."}}},{"id":70,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"## Shortcuts","note":{"type":"text","tag":"h2","text":"Shortcuts"}}},{"id":76,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"*⌘ = Meta = Ctrl (can be used interchangeably, useful if the browser intercepts a variant)*","note":{"type":"text","tag":"p","text":"*⌘ = Meta = Ctrl (can be used interchangeably, useful if the browser intercepts a variant)*"}}},{"id":66,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"Command Search: **⌘K/⌘⇧P**","note":{"type":"text","tag":"p","text":"Command Search: **⌘K/⌘⇧P**"}}},{"id":67,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"Shortcut Suggestions: **⌘?**","note":{"type":"text","tag":"p","text":"Shortcut Suggestions: **⌘?**"}}},{"id":68,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"Navigation: **Arrow Keys/`HJKL`**","note":{"type":"text","tag":"p","text":"Navigation: **Arrow Keys/`HJKL`**"}}},{"id":69,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"Go in/out: **`Enter`/`Escape`**","note":{"type":"text","tag":"p","text":"Go in/out: **`Enter`/`Escape`**"}}},{"id":71,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"## Writing","note":{"type":"text","tag":"h2","text":"Writing"}}},{"id":72,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"Format with Markdown","note":{"type":"text","tag":"p","text":"Format with Markdown"}}},{"id":74,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":1,"input":"<span className=\"text-sm text-gray-800\">(`*italic* **bold** [link text](link url)` etc)</span>","note":{"type":"text","tag":"p","text":"<span className=\"text-sm text-gray-800\">(`*italic* **bold** [link text](link url)` etc)</span>"}}},{"id":7,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"\"Formulas\" (JavaScript) start with `\"=\"`","note":{"type":"text","tag":"p","text":"\"Formulas\" (JavaScript) start with `\"=\"`"}}},{"id":82,"name":"x","visibility":"block","state":{"t":"resheet.note","v":1,"level":1,"input":"= 12","note":{"type":"expr","code":" 12"}}},{"id":84,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":1,"input":"= Math.sqrt(x + x)","note":{"type":"expr","code":" Math.sqrt(x + x)"}}},{"id":80,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":1,"input":"**⌘`Space`** for completions","note":{"type":"text","tag":"p","text":"**⌘`Space`** for completions"}}},{"id":81,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":1,"input":"**⌘`D`** for docs (if available)","note":{"type":"text","tag":"p","text":"**⌘`D`** for docs (if available)"}}}]}},"isCollapsed":false,"children":[{"id":0,"name":"Tips","state":{"t":"resheet.selector","v":0,"mode":"run","expr":"SheetOf(Note)","inner":{"t":"resheet.sheet","v":1,"lines":[{"id":13,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"# Tips","note":{"type":"text","tag":"h1","text":"Tips"}}},{"id":2,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"Your document is automatically backed up to IndexedDB, but gets deleted after 7 days. So don't forget to save it to a local file.","note":{"type":"text","tag":"p","text":"Your document is automatically backed up to IndexedDB, but gets deleted after 7 days. So don't forget to save it to a local file."}}},{"id":3,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}},{"id":4,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"tables gives you the full power of JavaScript and React.","note":{"type":"text","tag":"p","text":"tables gives you the full power of JavaScript and React."}}},{"id":5,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"**Be aware:** You have the **power to break it** (but generally you can undo it – ⌘Z) and full responsibilty to **ensure you trust the code you run**.","note":{"type":"text","tag":"p","text":"**Be aware:** You have the **power to break it** (but generally you can undo it – ⌘Z) and full responsibilty to **ensure you trust the code you run**."}}},{"id":6,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"Also beware of side-effects in your code: Everything is automatically rerun as needed (for changes), so side-effects may execute for every character you type.","note":{"type":"text","tag":"p","text":"Also beware of side-effects in your code: Everything is automatically rerun as needed (for changes), so side-effects may execute for every character you type."}}},{"id":7,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}},{"id":8,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"If a shortcut triggers a browser action, try an alternative key combination by switching ⌘/Meta/Ctrl.","note":{"type":"text","tag":"p","text":"If a shortcut triggers a browser action, try an alternative key combination by switching ⌘/Meta/Ctrl."}}},{"id":9,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":1,"input":"For example:","note":{"type":"text","tag":"p","text":"For example:"}}},{"id":10,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":2,"input":"⌘N = Meta-N = Ctrl-N","note":{"type":"text","tag":"p","text":"⌘N = Meta-N = Ctrl-N"}}},{"id":11,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":2,"input":"⌘⇧P = Meta-Shift-P = Ctrl-Shift-P","note":{"type":"text","tag":"p","text":"⌘⇧P = Meta-Shift-P = Ctrl-Shift-P"}}},{"id":12,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":2,"input":"etc","note":{"type":"text","tag":"p","text":"etc"}}}]}},"isCollapsed":true,"children":[]},{"id":1,"name":"Formulas","state":{"t":"resheet.selector","v":0,"mode":"run","expr":"SheetOf(Note)","inner":{"t":"resheet.sheet","v":1,"lines":[{"id":0,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"# Formulas","note":{"type":"text","tag":"h1","text":"Formulas"}}},{"id":1,"name":"msInADay","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= 24 /*h*/ * 60 /*min*/ * 60 /*sec*/ * 1000 /*ms*/","note":{"type":"expr","code":" 24 /*h*/ * 60 /*min*/ * 60 /*sec*/ * 1000 /*ms*/"}}},{"id":2,"name":"startOfThisYear","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= new Date(new Date().getFullYear(), 0, 1)","note":{"type":"expr","code":" new Date(new Date().getFullYear(), 0, 1)"}}},{"id":3,"name":"daysInThisYear","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= (Date.now() - startOfThisYear.getTime()) / msInADay","note":{"type":"expr","code":" (Date.now() - startOfThisYear.getTime()) / msInADay"}}},{"id":4,"name":"","visibility":"result","state":{"t":"resheet.note","v":1,"level":0,"input":"= // using react:\n<p className=\"py-2\">\n  This year is already {/* preserve the space character before this comment */}\n  {daysInThisYear.toLocaleString(\"en-US\", { maximumFractionDigits: 1 })}\n  {} days long. {}\n  <span className=\"text-sm text-gray-700\">(Select this line and show or hide the code with ⌘M)</span>\n</p>","note":{"type":"expr","code":" // using react:\n<p className=\"py-2\">\n  This year is already {/* preserve the space character before this comment */}\n  {daysInThisYear.toLocaleString(\"en-US\", { maximumFractionDigits: 1 })}\n  {} days long. {}\n  <span className=\"text-sm text-gray-700\">(Select this line and show or hide the code with ⌘M)</span>\n</p>"}}},{"id":5,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"## External Libraries","note":{"type":"text","tag":"h2","text":"External Libraries"}}},{"id":6,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"[esm.sh](https://esm.sh/) works great for loading npm libraries","note":{"type":"text","tag":"p","text":"[esm.sh](https://esm.sh/) works great for loading npm libraries"}}},{"id":14,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"### Number Formatting","note":{"type":"text","tag":"h3","text":"Number Formatting"}}},{"id":7,"name":"numeral","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= import('https://esm.sh/numeral')","note":{"type":"expr","code":" import('https://esm.sh/numeral')"}}},{"id":8,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= numeral.default(123456.789).format('0,0.00')","note":{"type":"expr","code":" numeral.default(123456.789).format('0,0.00')"}}},{"id":10,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"### CSV Parsing","note":{"type":"text","tag":"h3","text":"CSV Parsing"}}},{"id":11,"name":"Papa","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= import('https://esm.sh/papaparse')","note":{"type":"expr","code":" import('https://esm.sh/papaparse')"}}},{"id":12,"name":"csv","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"id,name,age,plan,email\n0,John,28,free,john@example.com\n1,Alice,34,premium,alice@boo\n2,Bob,43,premium,bob@b.b","note":{"type":"text","tag":"p","text":"id,name,age,plan,email\n0,John,28,free,john@example.com\n1,Alice,34,premium,alice@boo\n2,Bob,43,premium,bob@b.b"}}},{"id":13,"name":"data","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= Papa.default.parse(csv.text, { header: true }).data","note":{"type":"expr","code":" Papa.default.parse(csv.text, { header: true }).data"}}},{"id":15,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"### Data Validation","note":{"type":"text","tag":"h3","text":"Data Validation"}}},{"id":16,"name":"validator","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= import('https://esm.sh/validator')","note":{"type":"expr","code":" import('https://esm.sh/validator')"}}},{"id":17,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= data.map(user => ({ ...user, validEmail: validator.default.isEmail(user.email) }))","note":{"type":"expr","code":" data.map(user => ({ ...user, validEmail: validator.default.isEmail(user.email) }))"}}},{"id":18,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"### Data Processing","note":{"type":"text","tag":"h3","text":"Data Processing"}}},{"id":19,"name":"lodash","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= import('https://esm.sh/lodash')","note":{"type":"expr","code":" import('https://esm.sh/lodash')"}}},{"id":20,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= lodash.default.groupBy(data, 'plan')","note":{"type":"expr","code":" lodash.default.groupBy(data, 'plan')"}}}]}},"isCollapsed":true,"children":[]},{"id":2,"name":"Markdown","state":{"t":"resheet.selector","v":0,"mode":"run","expr":"SheetOf(Note)","inner":{"t":"resheet.sheet","v":1,"lines":[{"id":0,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"# Markdown","note":{"type":"text","tag":"h1","text":"Markdown"}}},{"id":1,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"*`*italic*`*","note":{"type":"text","tag":"p","text":"*`*italic*`*"}}},{"id":2,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"**`**bold**`**","note":{"type":"text","tag":"p","text":"**`**bold**`**"}}},{"id":3,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"`[a link](url)`","note":{"type":"text","tag":"p","text":"`[a link](url)`"}}},{"id":4,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"- Lists","note":{"type":"text","tag":"li","text":"Lists"}}},{"id":5,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"[ ] Todos","note":{"type":"checkbox","checked":false,"text":"Todos"}}},{"id":6,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"[x] Done","note":{"type":"checkbox","checked":true,"text":"Done"}}},{"id":7,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"`# Headings`","note":{"type":"text","tag":"p","text":"`# Headings`"}}},{"id":8,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"Inline <span className=\"before:block before:absolute before:-inset-0.5 before:-skew-y-1 before:bg-blue-100 relative inline-block\"><span className=\"relative text-blue-950\">Html with [tailwindcss](https://tailwindcss.com/docs/utility-first)</span></span>","note":{"type":"text","tag":"p","text":"Inline <span className=\"before:block before:absolute before:-inset-0.5 before:-skew-y-1 before:bg-blue-100 relative inline-block\"><span className=\"relative text-blue-950\">Html with [tailwindcss](https://tailwindcss.com/docs/utility-first)</span></span>"}}}]}},"isCollapsed":true,"children":[]},{"id":3,"name":"Blocks","state":{"t":"resheet.selector","v":0,"mode":"run","expr":"SheetOf(Note)","inner":{"t":"resheet.sheet","v":1,"lines":[{"id":0,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"# Blocks","note":{"type":"text","tag":"h1","text":"Blocks"}}},{"id":1,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"Blocks are the equivalent to cells in a spreadsheet. Most things in tables are Blocks.","note":{"type":"text","tag":"p","text":"Blocks are the equivalent to cells in a spreadsheet. Most things in tables are Blocks."}}},{"id":3,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}},{"id":2,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"Every line here contains a `Note` Block, which allows writing Markdown or Formulas.","note":{"type":"text","tag":"p","text":"Every line here contains a `Note` Block, which allows writing Markdown or Formulas."}}},{"id":4,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"A `Note` Block also allows using another Block, for example `JSExpr`. Type:","note":{"type":"text","tag":"p","text":"A `Note` Block also allows using another Block, for example `JSExpr`. Type:"}}},{"id":5,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"/blocks.JSExpr","note":{"type":"block","isInstantiated":false,"code":"blocks.JSExpr"}}},{"id":6,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"and hit ⌘`Enter` to use it:","note":{"type":"text","tag":"p","text":"and hit ⌘`Enter` to use it:"}}},{"id":7,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"/blocks.JSExpr","note":{"type":"block","isInstantiated":true,"code":"blocks.JSExpr","state":"// This is a JSExpr Block now\nfunction Mark({ children }) {\n  return (\n    <span className=\"before:block before:absolute before:-inset-0.5 before:-skew-y-2 before:bg-blue-400 relative inline-block\">\n      <span className=\"relative text-white px-0.5 tracking-wide\">\n        {children}\n      </span>\n    </span>\n  )\n}\n\n<p className=\"py-1\">\n  <Mark>Look</Mark> at it!\n</p>"}}},{"id":8,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}},{"id":9,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"All lines here are part of the `SheetOf` Block:","note":{"type":"text","tag":"p","text":"All lines here are part of the `SheetOf` Block:"}}},{"id":10,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"/blocks.SheetOf(blocks.Note)","note":{"type":"block","isInstantiated":false,"code":"blocks.SheetOf(blocks.Note)"}}},{"id":11,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"/blocks.SheetOf(blocks.Note)","note":{"type":"block","isInstantiated":true,"code":"blocks.SheetOf(blocks.Note)","state":{"t":"resheet.sheet","v":1,"lines":[{"id":0,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"Now we have a Sheet inside of a Sheet","note":{"type":"text","tag":"p","text":"Now we have a Sheet inside of a Sheet"}}},{"id":1,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= $9.text","note":{"type":"expr","code":" $9.text"}}}]}}}},{"id":12,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}},{"id":13,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}},{"id":14,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"There are other Blocks available in `blocks`. (Use completion/docs with ⌘`Space`/⌘`D`)","note":{"type":"text","tag":"p","text":"There are other Blocks available in `blocks`. (Use completion/docs with ⌘`Space`/⌘`D`)"}}},{"id":15,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= blocks","note":{"type":"expr","code":" blocks"}}},{"id":16,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}},{"id":17,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"## Custom Blocks","note":{"type":"text","tag":"h2","text":"Custom Blocks"}}},{"id":18,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"You can build your own blocks. For now you either have to shoot me a message or look at the source code of the existing blocks to find out more.","note":{"type":"text","tag":"p","text":"You can build your own blocks. For now you either have to shoot me a message or look at the source code of the existing blocks to find out more."}}},{"id":19,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}},{"id":20,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"Ok, I'll give you a small example:","note":{"type":"text","tag":"p","text":"Ok, I'll give you a small example:"}}},{"id":21,"name":"RAW","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"/blocks.JSExpr","note":{"type":"block","isInstantiated":true,"code":"blocks.JSExpr","state":"tables.core.block.create({\n  init: \"\",\n  view({ state, dispatch, env }, ref) {\n    return (\n      <textarea\n        ref={ref}\n        value={state}\n        onChange={ev => dispatch(stateBefore => ({ state: ev.target.value }))}\n        rows={state.split('\\n').length}\n        />\n    )\n  },\n  recompute(state, update, env) {\n    return state\n  },\n  getResult(state) {\n    return state\n  },\n  fromJSON(json) {\n    return typeof json === 'string' ? json : ''\n  },\n  toJSON(state) {\n    return state\n  },\n})"}}},{"id":22,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"/RAW","note":{"type":"block","isInstantiated":false,"code":"RAW"}}},{"id":23,"name":"rawText","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"/RAW","note":{"type":"block","isInstantiated":true,"code":"RAW","state":"{\n  \"hello\": \"world\"\n}"}}},{"id":24,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= JSON.parse(rawText)","note":{"type":"expr","code":" JSON.parse(rawText)"}}}]}},"isCollapsed":true,"children":[]}]}],"viewState":{"sidebarOpen":true,"openPage":[0]},"template":{"id":1,"name":"","state":{"t":"resheet.selector","v":0,"mode":"run","expr":"SheetOf(Note)","inner":{"t":"resheet.sheet","v":1,"lines":[{"id":0,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}}]}},"isCollapsed":true,"children":[]}},"prev":0},{"time":1710769603597,"state":{"pages":[{"id":0,"name":"Introduction","state":{"t":"resheet.selector","v":0,"mode":"run","expr":"SheetOf(Note)","inner":{"t":"resheet.sheet","v":1,"lines":[{"id":0,"name":"","visibility":"result","state":{"t":"resheet.note","v":1,"level":0,"input":"= <img className=\"h-20 self-start mb-2\" src={tables.assets.logoTypeSvg} alt=\"ReSheet\"/>","note":{"type":"expr","code":" <img className=\"h-20 self-start mb-2\" src={tables.assets.logoTypeSvg} alt=\"ReSheet\"/>"}}},{"id":41,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"A notes-spreadsheet-hybrid for programmers.","note":{"type":"text","tag":"p","text":"A notes-spreadsheet-hybrid for programmers."}}},{"id":86,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}},{"id":87,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"Everything in ReSheet is a Block. A Block can be thought of like a cell in a spreadsheet.","note":{"type":"text","tag":"p","text":"Everything in ReSheet is a Block. A Block can be thought of like a cell in a spreadsheet."}}},{"id":85,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"ReSheet is heavily keyboard-focused:","note":{"type":"text","tag":"p","text":"ReSheet is heavily keyboard-focused:"}}},{"id":88,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":1,"input":"Try **⌘K/⌘⇧P** to see all commands for the currently focused block(s). (Also try **⌘?**)","note":{"type":"text","tag":"p","text":"Try **⌘K/⌘⇧P** to see all commands for the currently focused block(s). (Also try **⌘?**)"}}},{"id":89,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":1,"input":"Use the ArrowKeys or `H`/`J`/`K`/`L` and `Enter`/`Escape` to move between Blocks.","note":{"type":"text","tag":"p","text":"Use the ArrowKeys or `H`/`J`/`K`/`L` and `Enter`/`Escape` to move between Blocks."}}},{"id":70,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"## Shortcuts","note":{"type":"text","tag":"h2","text":"Shortcuts"}}},{"id":76,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"*⌘ = Meta = Ctrl (can be used interchangeably, useful if the browser intercepts a variant)*","note":{"type":"text","tag":"p","text":"*⌘ = Meta = Ctrl (can be used interchangeably, useful if the browser intercepts a variant)*"}}},{"id":66,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"Command Search: **⌘K/⌘⇧P**","note":{"type":"text","tag":"p","text":"Command Search: **⌘K/⌘⇧P**"}}},{"id":67,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"Shortcut Suggestions: **⌘?**","note":{"type":"text","tag":"p","text":"Shortcut Suggestions: **⌘?**"}}},{"id":68,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"Navigation: **Arrow Keys/`HJKL`**","note":{"type":"text","tag":"p","text":"Navigation: **Arrow Keys/`HJKL`**"}}},{"id":69,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"Go in/out: **`Enter`/`Escape`**","note":{"type":"text","tag":"p","text":"Go in/out: **`Enter`/`Escape`**"}}},{"id":71,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"## Writing","note":{"type":"text","tag":"h2","text":"Writing"}}},{"id":72,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"Format with Markdown","note":{"type":"text","tag":"p","text":"Format with Markdown"}}},{"id":74,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":1,"input":"<span className=\"text-sm text-gray-800\">(`*italic* **bold** [link text](link url)` etc)</span>","note":{"type":"text","tag":"p","text":"<span className=\"text-sm text-gray-800\">(`*italic* **bold** [link text](link url)` etc)</span>"}}},{"id":7,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"\"Formulas\" (JavaScript) start with `\"=\"`","note":{"type":"text","tag":"p","text":"\"Formulas\" (JavaScript) start with `\"=\"`"}}},{"id":82,"name":"x","visibility":"block","state":{"t":"resheet.note","v":1,"level":1,"input":"= 12","note":{"type":"expr","code":" 12"}}},{"id":84,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":1,"input":"= Math.sqrt(x + x)","note":{"type":"expr","code":" Math.sqrt(x + x)"}}},{"id":80,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":1,"input":"**⌘`Space`** for completions","note":{"type":"text","tag":"p","text":"**⌘`Space`** for completions"}}},{"id":81,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":1,"input":"**⌘`D`** for docs (if available)","note":{"type":"text","tag":"p","text":"**⌘`D`** for docs (if available)"}}}]}},"isCollapsed":false,"children":[{"id":0,"name":"Tips","state":{"t":"resheet.selector","v":0,"mode":"run","expr":"SheetOf(Note)","inner":{"t":"resheet.sheet","v":1,"lines":[{"id":13,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"# Tips","note":{"type":"text","tag":"h1","text":"Tips"}}},{"id":2,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"Your document is automatically backed up to IndexedDB, but gets deleted after 7 days. So don't forget to save it to a local file.","note":{"type":"text","tag":"p","text":"Your document is automatically backed up to IndexedDB, but gets deleted after 7 days. So don't forget to save it to a local file."}}},{"id":3,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}},{"id":4,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"ReSheet gives you the full power of JavaScript and React.","note":{"type":"text","tag":"p","text":"ReSheet gives you the full power of JavaScript and React."}}},{"id":5,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"**Be aware:** You have the **power to break it** (but generally you can undo it – ⌘Z) and full responsibilty to **ensure you trust the code you run**.","note":{"type":"text","tag":"p","text":"**Be aware:** You have the **power to break it** (but generally you can undo it – ⌘Z) and full responsibilty to **ensure you trust the code you run**."}}},{"id":6,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"Also beware of side-effects in your code: Everything is automatically rerun as needed (for changes), so side-effects may execute for every character you type.","note":{"type":"text","tag":"p","text":"Also beware of side-effects in your code: Everything is automatically rerun as needed (for changes), so side-effects may execute for every character you type."}}},{"id":7,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}},{"id":8,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"If a shortcut triggers a browser action, try an alternative key combination by switching ⌘/Meta/Ctrl.","note":{"type":"text","tag":"p","text":"If a shortcut triggers a browser action, try an alternative key combination by switching ⌘/Meta/Ctrl."}}},{"id":9,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":1,"input":"For example:","note":{"type":"text","tag":"p","text":"For example:"}}},{"id":10,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":2,"input":"⌘N = Meta-N = Ctrl-N","note":{"type":"text","tag":"p","text":"⌘N = Meta-N = Ctrl-N"}}},{"id":11,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":2,"input":"⌘⇧P = Meta-Shift-P = Ctrl-Shift-P","note":{"type":"text","tag":"p","text":"⌘⇧P = Meta-Shift-P = Ctrl-Shift-P"}}},{"id":12,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":2,"input":"etc","note":{"type":"text","tag":"p","text":"etc"}}}]}},"isCollapsed":true,"children":[]},{"id":1,"name":"Formulas","state":{"t":"resheet.selector","v":0,"mode":"run","expr":"SheetOf(Note)","inner":{"t":"resheet.sheet","v":1,"lines":[{"id":0,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"# Formulas","note":{"type":"text","tag":"h1","text":"Formulas"}}},{"id":1,"name":"msInADay","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= 24 /*h*/ * 60 /*min*/ * 60 /*sec*/ * 1000 /*ms*/","note":{"type":"expr","code":" 24 /*h*/ * 60 /*min*/ * 60 /*sec*/ * 1000 /*ms*/"}}},{"id":2,"name":"startOfThisYear","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= new Date(new Date().getFullYear(), 0, 1)","note":{"type":"expr","code":" new Date(new Date().getFullYear(), 0, 1)"}}},{"id":3,"name":"daysInThisYear","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= (Date.now() - startOfThisYear.getTime()) / msInADay","note":{"type":"expr","code":" (Date.now() - startOfThisYear.getTime()) / msInADay"}}},{"id":4,"name":"","visibility":"result","state":{"t":"resheet.note","v":1,"level":0,"input":"= // using react:\n<p className=\"py-2\">\n  This year is already {/* preserve the space character before this comment */}\n  {daysInThisYear.toLocaleString(\"en-US\", { maximumFractionDigits: 1 })}\n  {} days long. {}\n  <span className=\"text-sm text-gray-700\">(Select this line and show or hide the code with ⌘M)</span>\n</p>","note":{"type":"expr","code":" // using react:\n<p className=\"py-2\">\n  This year is already {/* preserve the space character before this comment */}\n  {daysInThisYear.toLocaleString(\"en-US\", { maximumFractionDigits: 1 })}\n  {} days long. {}\n  <span className=\"text-sm text-gray-700\">(Select this line and show or hide the code with ⌘M)</span>\n</p>"}}},{"id":5,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"## External Libraries","note":{"type":"text","tag":"h2","text":"External Libraries"}}},{"id":6,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"[esm.sh](https://esm.sh/) works great for loading npm libraries","note":{"type":"text","tag":"p","text":"[esm.sh](https://esm.sh/) works great for loading npm libraries"}}},{"id":14,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"### Number Formatting","note":{"type":"text","tag":"h3","text":"Number Formatting"}}},{"id":7,"name":"numeral","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= import('https://esm.sh/numeral')","note":{"type":"expr","code":" import('https://esm.sh/numeral')"}}},{"id":8,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= numeral.default(123456.789).format('0,0.00')","note":{"type":"expr","code":" numeral.default(123456.789).format('0,0.00')"}}},{"id":10,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"### CSV Parsing","note":{"type":"text","tag":"h3","text":"CSV Parsing"}}},{"id":11,"name":"Papa","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= import('https://esm.sh/papaparse')","note":{"type":"expr","code":" import('https://esm.sh/papaparse')"}}},{"id":12,"name":"csv","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"id,name,age,plan,email\n0,John,28,free,john@example.com\n1,Alice,34,premium,alice@boo\n2,Bob,43,premium,bob@b.b","note":{"type":"text","tag":"p","text":"id,name,age,plan,email\n0,John,28,free,john@example.com\n1,Alice,34,premium,alice@boo\n2,Bob,43,premium,bob@b.b"}}},{"id":13,"name":"data","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= Papa.default.parse(csv.text, { header: true }).data","note":{"type":"expr","code":" Papa.default.parse(csv.text, { header: true }).data"}}},{"id":15,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"### Data Validation","note":{"type":"text","tag":"h3","text":"Data Validation"}}},{"id":16,"name":"validator","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= import('https://esm.sh/validator')","note":{"type":"expr","code":" import('https://esm.sh/validator')"}}},{"id":17,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= data.map(user => ({ ...user, validEmail: validator.default.isEmail(user.email) }))","note":{"type":"expr","code":" data.map(user => ({ ...user, validEmail: validator.default.isEmail(user.email) }))"}}},{"id":18,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"### Data Processing","note":{"type":"text","tag":"h3","text":"Data Processing"}}},{"id":19,"name":"lodash","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= import('https://esm.sh/lodash')","note":{"type":"expr","code":" import('https://esm.sh/lodash')"}}},{"id":20,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= lodash.default.groupBy(data, 'plan')","note":{"type":"expr","code":" lodash.default.groupBy(data, 'plan')"}}}]}},"isCollapsed":true,"children":[]},{"id":2,"name":"Markdown","state":{"t":"resheet.selector","v":0,"mode":"run","expr":"SheetOf(Note)","inner":{"t":"resheet.sheet","v":1,"lines":[{"id":0,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"# Markdown","note":{"type":"text","tag":"h1","text":"Markdown"}}},{"id":1,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"*`*italic*`*","note":{"type":"text","tag":"p","text":"*`*italic*`*"}}},{"id":2,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"**`**bold**`**","note":{"type":"text","tag":"p","text":"**`**bold**`**"}}},{"id":3,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"`[a link](url)`","note":{"type":"text","tag":"p","text":"`[a link](url)`"}}},{"id":4,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"- Lists","note":{"type":"text","tag":"li","text":"Lists"}}},{"id":5,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"[ ] Todos","note":{"type":"checkbox","checked":false,"text":"Todos"}}},{"id":6,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"[x] Done","note":{"type":"checkbox","checked":true,"text":"Done"}}},{"id":7,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"`# Headings`","note":{"type":"text","tag":"p","text":"`# Headings`"}}},{"id":8,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"Inline <span className=\"before:block before:absolute before:-inset-0.5 before:-skew-y-1 before:bg-blue-100 relative inline-block\"><span className=\"relative text-blue-950\">Html with [tailwindcss](https://tailwindcss.com/docs/utility-first)</span></span>","note":{"type":"text","tag":"p","text":"Inline <span className=\"before:block before:absolute before:-inset-0.5 before:-skew-y-1 before:bg-blue-100 relative inline-block\"><span className=\"relative text-blue-950\">Html with [tailwindcss](https://tailwindcss.com/docs/utility-first)</span></span>"}}}]}},"isCollapsed":true,"children":[]},{"id":3,"name":"Blocks","state":{"t":"resheet.selector","v":0,"mode":"run","expr":"SheetOf(Note)","inner":{"t":"resheet.sheet","v":1,"lines":[{"id":0,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"# Blocks","note":{"type":"text","tag":"h1","text":"Blocks"}}},{"id":1,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"Blocks are the equivalent to cells in a spreadsheet. Most things in ReSheet are Blocks.","note":{"type":"text","tag":"p","text":"Blocks are the equivalent to cells in a spreadsheet. Most things in ReSheet are Blocks."}}},{"id":3,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}},{"id":2,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"Every line here contains a `Note` Block, which allows writing Markdown or Formulas.","note":{"type":"text","tag":"p","text":"Every line here contains a `Note` Block, which allows writing Markdown or Formulas."}}},{"id":4,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"A `Note` Block also allows using another Block, for example `JSExpr`. Type:","note":{"type":"text","tag":"p","text":"A `Note` Block also allows using another Block, for example `JSExpr`. Type:"}}},{"id":5,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"/blocks.JSExpr","note":{"type":"block","isInstantiated":false,"code":"blocks.JSExpr"}}},{"id":6,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"and hit ⌘`Enter` to use it:","note":{"type":"text","tag":"p","text":"and hit ⌘`Enter` to use it:"}}},{"id":7,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"/blocks.JSExpr","note":{"type":"block","isInstantiated":true,"code":"blocks.JSExpr","state":"// This is a JSExpr Block now\nfunction Mark({ children }) {\n  return (\n    <span className=\"before:block before:absolute before:-inset-0.5 before:-skew-y-2 before:bg-blue-400 relative inline-block\">\n      <span className=\"relative text-white px-0.5 tracking-wide\">\n        {children}\n      </span>\n    </span>\n  )\n}\n\n<p className=\"py-1\">\n  <Mark>Look</Mark> at it!\n</p>"}}},{"id":8,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}},{"id":9,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"All lines here are part of the `SheetOf` Block:","note":{"type":"text","tag":"p","text":"All lines here are part of the `SheetOf` Block:"}}},{"id":10,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"/blocks.SheetOf(blocks.Note)","note":{"type":"block","isInstantiated":false,"code":"blocks.SheetOf(blocks.Note)"}}},{"id":11,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"/blocks.SheetOf(blocks.Note)","note":{"type":"block","isInstantiated":true,"code":"blocks.SheetOf(blocks.Note)","state":{"t":"resheet.sheet","v":1,"lines":[{"id":0,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"Now we have a Sheet inside of a Sheet","note":{"type":"text","tag":"p","text":"Now we have a Sheet inside of a Sheet"}}},{"id":1,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= $9.text","note":{"type":"expr","code":" $9.text"}}}]}}}},{"id":12,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}},{"id":13,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}},{"id":14,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"There are other Blocks available in `blocks`. (Use completion/docs with ⌘`Space`/⌘`D`)","note":{"type":"text","tag":"p","text":"There are other Blocks available in `blocks`. (Use completion/docs with ⌘`Space`/⌘`D`)"}}},{"id":15,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= blocks","note":{"type":"expr","code":" blocks"}}},{"id":16,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}},{"id":17,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"## Custom Blocks","note":{"type":"text","tag":"h2","text":"Custom Blocks"}}},{"id":18,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"You can build your own blocks. For now you either have to shoot me a message or look at the source code of the existing blocks to find out more.","note":{"type":"text","tag":"p","text":"You can build your own blocks. For now you either have to shoot me a message or look at the source code of the existing blocks to find out more."}}},{"id":19,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}},{"id":20,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"Ok, I'll give you a small example:","note":{"type":"text","tag":"p","text":"Ok, I'll give you a small example:"}}},{"id":21,"name":"RAW","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"/blocks.JSExpr","note":{"type":"block","isInstantiated":true,"code":"blocks.JSExpr","state":"resheet.core.block.create({\n  init: \"\",\n  view({ state, dispatch, env }, ref) {\n    return (\n      <textarea\n        ref={ref}\n        value={state}\n        onChange={ev => dispatch(stateBefore => ({ state: ev.target.value }))}\n        rows={state.split('\\n').length}\n        />\n    )\n  },\n  recompute(state, update, env) {\n    return state\n  },\n  getResult(state) {\n    return state\n  },\n  fromJSON(json) {\n    return typeof json === 'string' ? json : ''\n  },\n  toJSON(state) {\n    return state\n  },\n})"}}},{"id":22,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"/RAW","note":{"type":"block","isInstantiated":false,"code":"RAW"}}},{"id":23,"name":"rawText","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"/RAW","note":{"type":"block","isInstantiated":true,"code":"RAW","state":"{\n  \"hello\": \"world\"\n}"}}},{"id":24,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= JSON.parse(rawText)","note":{"type":"expr","code":" JSON.parse(rawText)"}}}]}},"isCollapsed":true,"children":[]}]}],"viewState":{"sidebarOpen":true,"openPage":[0]},"template":{"id":1,"name":"","state":{"t":"resheet.selector","v":0,"mode":"run","expr":"SheetOf(Note)","inner":{"t":"resheet.sheet","v":1,"lines":[{"id":0,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}}]}},"isCollapsed":true,"children":[]}},"prev":0},{"time":1710918315795,"state":{"pages":[{"id":0,"name":"Introduction","state":{"t":"resheet.selector","v":0,"mode":"run","expr":"SheetOf(Note)","inner":{"t":"resheet.sheet","v":1,"lines":[{"id":0,"name":"","visibility":"result","state":{"t":"resheet.note","v":1,"level":0,"input":"= <img className=\"h-20 self-start mb-2\" src={tables.assets.logoTypeSvg} alt=\"ReSheet\"/>","note":{"type":"expr","code":" <img className=\"h-20 self-start mb-2\" src={tables.assets.logoTypeSvg} alt=\"ReSheet\"/>"}}},{"id":41,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"A notes-spreadsheet-hybrid for programmers.","note":{"type":"text","tag":"p","text":"A notes-spreadsheet-hybrid for programmers."}}},{"id":86,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}},{"id":87,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"Everything in ReSheet is a Block. A Block can be thought of like a cell in a spreadsheet.","note":{"type":"text","tag":"p","text":"Everything in ReSheet is a Block. A Block can be thought of like a cell in a spreadsheet."}}},{"id":85,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"ReSheet is heavily keyboard-focused:","note":{"type":"text","tag":"p","text":"ReSheet is heavily keyboard-focused:"}}},{"id":88,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":1,"input":"Try **⌘K/⌘⇧P** to see all commands for the currently focused block(s). (Also try **⌘?**)","note":{"type":"text","tag":"p","text":"Try **⌘K/⌘⇧P** to see all commands for the currently focused block(s). (Also try **⌘?**)"}}},{"id":89,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":1,"input":"Use the ArrowKeys or `H`/`J`/`K`/`L` and `Enter`/`Escape` to move between Blocks.","note":{"type":"text","tag":"p","text":"Use the ArrowKeys or `H`/`J`/`K`/`L` and `Enter`/`Escape` to move between Blocks."}}},{"id":70,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"## Shortcuts","note":{"type":"text","tag":"h2","text":"Shortcuts"}}},{"id":76,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"*⌘ = Meta = Ctrl (can be used interchangeably, useful if the browser intercepts a variant)*","note":{"type":"text","tag":"p","text":"*⌘ = Meta = Ctrl (can be used interchangeably, useful if the browser intercepts a variant)*"}}},{"id":66,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"Command Search: **⌘K/⌘⇧P**","note":{"type":"text","tag":"p","text":"Command Search: **⌘K/⌘⇧P**"}}},{"id":67,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"Shortcut Suggestions: **⌘?**","note":{"type":"text","tag":"p","text":"Shortcut Suggestions: **⌘?**"}}},{"id":68,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"Navigation: **Arrow Keys/`HJKL`**","note":{"type":"text","tag":"p","text":"Navigation: **Arrow Keys/`HJKL`**"}}},{"id":69,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"Go in/out: **`Enter`/`Escape`**","note":{"type":"text","tag":"p","text":"Go in/out: **`Enter`/`Escape`**"}}},{"id":71,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"## Writing","note":{"type":"text","tag":"h2","text":"Writing"}}},{"id":72,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"Format with Markdown","note":{"type":"text","tag":"p","text":"Format with Markdown"}}},{"id":74,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":1,"input":"<span className=\"text-sm text-gray-800\">(`*italic* **bold** [link text](link url)` etc)</span>","note":{"type":"text","tag":"p","text":"<span className=\"text-sm text-gray-800\">(`*italic* **bold** [link text](link url)` etc)</span>"}}},{"id":7,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"\"Formulas\" (JavaScript) start with `\"=\"`","note":{"type":"text","tag":"p","text":"\"Formulas\" (JavaScript) start with `\"=\"`"}}},{"id":82,"name":"x","visibility":"block","state":{"t":"resheet.note","v":1,"level":1,"input":"= 12","note":{"type":"expr","code":" 12"}}},{"id":84,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":1,"input":"= Math.sqrt(x + x)","note":{"type":"expr","code":" Math.sqrt(x + x)"}}},{"id":80,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":1,"input":"**⌘`Space`** for completions","note":{"type":"text","tag":"p","text":"**⌘`Space`** for completions"}}},{"id":81,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":1,"input":"**⌘`D`** for docs (if available)","note":{"type":"text","tag":"p","text":"**⌘`D`** for docs (if available)"}}}]}},"isCollapsed":false,"children":[{"id":0,"name":"Tips","state":{"t":"resheet.selector","v":0,"mode":"run","expr":"SheetOf(Note)","inner":{"t":"resheet.sheet","v":1,"lines":[{"id":13,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"# Tips","note":{"type":"text","tag":"h1","text":"Tips"}}},{"id":2,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"Your document is automatically backed up to IndexedDB, but gets deleted after 7 days. So don't forget to save it to a local file.","note":{"type":"text","tag":"p","text":"Your document is automatically backed up to IndexedDB, but gets deleted after 7 days. So don't forget to save it to a local file."}}},{"id":3,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}},{"id":4,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"ReSheet gives you the full power of JavaScript and React.","note":{"type":"text","tag":"p","text":"ReSheet gives you the full power of JavaScript and React."}}},{"id":5,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"**Be aware:** You have the **power to break it** (but generally you can undo it – ⌘Z) and full responsibilty to **ensure you trust the code you run**.","note":{"type":"text","tag":"p","text":"**Be aware:** You have the **power to break it** (but generally you can undo it – ⌘Z) and full responsibilty to **ensure you trust the code you run**."}}},{"id":6,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"Also beware of side-effects in your code: Everything is automatically rerun as needed (for changes), so side-effects may execute for every character you type.","note":{"type":"text","tag":"p","text":"Also beware of side-effects in your code: Everything is automatically rerun as needed (for changes), so side-effects may execute for every character you type."}}},{"id":7,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}},{"id":8,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"If a shortcut triggers a browser action, try an alternative key combination by switching ⌘/Meta/Ctrl.","note":{"type":"text","tag":"p","text":"If a shortcut triggers a browser action, try an alternative key combination by switching ⌘/Meta/Ctrl."}}},{"id":9,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":1,"input":"For example:","note":{"type":"text","tag":"p","text":"For example:"}}},{"id":10,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":2,"input":"⌘N = Meta-N = Ctrl-N","note":{"type":"text","tag":"p","text":"⌘N = Meta-N = Ctrl-N"}}},{"id":11,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":2,"input":"⌘⇧P = Meta-Shift-P = Ctrl-Shift-P","note":{"type":"text","tag":"p","text":"⌘⇧P = Meta-Shift-P = Ctrl-Shift-P"}}},{"id":12,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":2,"input":"etc","note":{"type":"text","tag":"p","text":"etc"}}}]}},"isCollapsed":true,"children":[]},{"id":1,"name":"Formulas","state":{"t":"resheet.selector","v":0,"mode":"run","expr":"SheetOf(Note)","inner":{"t":"resheet.sheet","v":1,"lines":[{"id":0,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"# Formulas","note":{"type":"text","tag":"h1","text":"Formulas"}}},{"id":1,"name":"msInADay","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= 24 /*h*/ * 60 /*min*/ * 60 /*sec*/ * 1000 /*ms*/","note":{"type":"expr","code":" 24 /*h*/ * 60 /*min*/ * 60 /*sec*/ * 1000 /*ms*/"}}},{"id":2,"name":"startOfThisYear","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= new Date(new Date().getFullYear(), 0, 1)","note":{"type":"expr","code":" new Date(new Date().getFullYear(), 0, 1)"}}},{"id":3,"name":"daysInThisYear","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= (Date.now() - startOfThisYear.getTime()) / msInADay","note":{"type":"expr","code":" (Date.now() - startOfThisYear.getTime()) / msInADay"}}},{"id":4,"name":"","visibility":"result","state":{"t":"resheet.note","v":1,"level":0,"input":"= // using react:\n<p className=\"py-2\">\n  This year is already {/* preserve the space character before this comment */}\n  {daysInThisYear.toLocaleString(\"en-US\", { maximumFractionDigits: 1 })}\n  {} days long. {}\n  <span className=\"text-sm text-gray-700\">(Select this line and show or hide the code with ⌘M)</span>\n</p>","note":{"type":"expr","code":" // using react:\n<p className=\"py-2\">\n  This year is already {/* preserve the space character before this comment */}\n  {daysInThisYear.toLocaleString(\"en-US\", { maximumFractionDigits: 1 })}\n  {} days long. {}\n  <span className=\"text-sm text-gray-700\">(Select this line and show or hide the code with ⌘M)</span>\n</p>"}}},{"id":5,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"## External Libraries","note":{"type":"text","tag":"h2","text":"External Libraries"}}},{"id":6,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"[esm.sh](https://esm.sh/) works great for loading npm libraries","note":{"type":"text","tag":"p","text":"[esm.sh](https://esm.sh/) works great for loading npm libraries"}}},{"id":14,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"### Number Formatting","note":{"type":"text","tag":"h3","text":"Number Formatting"}}},{"id":7,"name":"numeral","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= import('https://esm.sh/numeral')","note":{"type":"expr","code":" import('https://esm.sh/numeral')"}}},{"id":8,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= numeral.default(123456.789).format('0,0.00')","note":{"type":"expr","code":" numeral.default(123456.789).format('0,0.00')"}}},{"id":10,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"### CSV Parsing","note":{"type":"text","tag":"h3","text":"CSV Parsing"}}},{"id":11,"name":"Papa","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= import('https://esm.sh/papaparse')","note":{"type":"expr","code":" import('https://esm.sh/papaparse')"}}},{"id":12,"name":"csv","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"id,name,age,plan,email\n0,John,28,free,john@example.com\n1,Alice,34,premium,alice@boo\n2,Bob,43,premium,bob@b.b","note":{"type":"text","tag":"p","text":"id,name,age,plan,email\n0,John,28,free,john@example.com\n1,Alice,34,premium,alice@boo\n2,Bob,43,premium,bob@b.b"}}},{"id":13,"name":"data","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= Papa.default.parse(csv.text, { header: true }).data","note":{"type":"expr","code":" Papa.default.parse(csv.text, { header: true }).data"}}},{"id":15,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"### Data Validation","note":{"type":"text","tag":"h3","text":"Data Validation"}}},{"id":16,"name":"validator","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= import('https://esm.sh/validator')","note":{"type":"expr","code":" import('https://esm.sh/validator')"}}},{"id":17,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= data.map(user => ({ ...user, validEmail: validator.default.isEmail(user.email) }))","note":{"type":"expr","code":" data.map(user => ({ ...user, validEmail: validator.default.isEmail(user.email) }))"}}},{"id":18,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"### Data Processing","note":{"type":"text","tag":"h3","text":"Data Processing"}}},{"id":19,"name":"lodash","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= import('https://esm.sh/lodash')","note":{"type":"expr","code":" import('https://esm.sh/lodash')"}}},{"id":20,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= lodash.default.groupBy(data, 'plan')","note":{"type":"expr","code":" lodash.default.groupBy(data, 'plan')"}}}]}},"isCollapsed":true,"children":[]},{"id":2,"name":"Markdown","state":{"t":"resheet.selector","v":0,"mode":"run","expr":"SheetOf(Note)","inner":{"t":"resheet.sheet","v":1,"lines":[{"id":0,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"# Markdown","note":{"type":"text","tag":"h1","text":"Markdown"}}},{"id":1,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"*`*italic*`*","note":{"type":"text","tag":"p","text":"*`*italic*`*"}}},{"id":2,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"**`**bold**`**","note":{"type":"text","tag":"p","text":"**`**bold**`**"}}},{"id":3,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"`[a link](url)`","note":{"type":"text","tag":"p","text":"`[a link](url)`"}}},{"id":4,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"- Lists","note":{"type":"text","tag":"li","text":"Lists"}}},{"id":5,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"[ ] Todos","note":{"type":"checkbox","checked":false,"text":"Todos"}}},{"id":6,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"[x] Done","note":{"type":"checkbox","checked":true,"text":"Done"}}},{"id":7,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"`# Headings`","note":{"type":"text","tag":"p","text":"`# Headings`"}}},{"id":8,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"Inline <span className=\"before:block before:absolute before:-inset-0.5 before:-skew-y-1 before:bg-blue-100 relative inline-block\"><span className=\"relative text-blue-950\">Html with [tailwindcss](https://tailwindcss.com/docs/utility-first)</span></span>","note":{"type":"text","tag":"p","text":"Inline <span className=\"before:block before:absolute before:-inset-0.5 before:-skew-y-1 before:bg-blue-100 relative inline-block\"><span className=\"relative text-blue-950\">Html with [tailwindcss](https://tailwindcss.com/docs/utility-first)</span></span>"}}}]}},"isCollapsed":true,"children":[]},{"id":3,"name":"Blocks","state":{"t":"resheet.selector","v":0,"mode":"run","expr":"SheetOf(Note)","inner":{"t":"resheet.sheet","v":1,"lines":[{"id":0,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"# Blocks","note":{"type":"text","tag":"h1","text":"Blocks"}}},{"id":1,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"Blocks are the equivalent to cells in a spreadsheet. Most things in ReSheet are Blocks.","note":{"type":"text","tag":"p","text":"Blocks are the equivalent to cells in a spreadsheet. Most things in ReSheet are Blocks."}}},{"id":3,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}},{"id":2,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"Every line here contains a `Note` Block, which allows writing Markdown or Formulas.","note":{"type":"text","tag":"p","text":"Every line here contains a `Note` Block, which allows writing Markdown or Formulas."}}},{"id":4,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"A `Note` Block also allows using another Block, for example `JSExpr`. Type:","note":{"type":"text","tag":"p","text":"A `Note` Block also allows using another Block, for example `JSExpr`. Type:"}}},{"id":5,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"/blocks.JSExpr","note":{"type":"block","isInstantiated":false,"code":"blocks.JSExpr"}}},{"id":6,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"and hit ⌘`Enter` to use it:","note":{"type":"text","tag":"p","text":"and hit ⌘`Enter` to use it:"}}},{"id":7,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"/blocks.JSExpr","note":{"type":"block","isInstantiated":true,"code":"blocks.JSExpr","state":"// This is a JSExpr Block now\nfunction Mark({ children }) {\n  return (\n    <span className=\"before:block before:absolute before:-inset-0.5 before:-skew-y-2 before:bg-blue-400 relative inline-block\">\n      <span className=\"relative text-white px-0.5 tracking-wide\">\n        {children}\n      </span>\n    </span>\n  )\n}\n\n<p className=\"py-1\">\n  <Mark>Look</Mark> at it!\n</p>"}}},{"id":8,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}},{"id":9,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"All lines here are part of the `SheetOf` Block:","note":{"type":"text","tag":"p","text":"All lines here are part of the `SheetOf` Block:"}}},{"id":10,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"/blocks.SheetOf(blocks.Note)","note":{"type":"block","isInstantiated":false,"code":"blocks.SheetOf(blocks.Note)"}}},{"id":11,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"/blocks.SheetOf(blocks.Note)","note":{"type":"block","isInstantiated":true,"code":"blocks.SheetOf(blocks.Note)","state":{"t":"resheet.sheet","v":1,"lines":[{"id":0,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"Now we have a Sheet inside of a Sheet","note":{"type":"text","tag":"p","text":"Now we have a Sheet inside of a Sheet"}}},{"id":1,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= $9.text","note":{"type":"expr","code":" $9.text"}}}]}}}},{"id":12,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}},{"id":13,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}},{"id":14,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"There are other Blocks available in `blocks`. (Use completion/docs with ⌘`Space`/⌘`D`)","note":{"type":"text","tag":"p","text":"There are other Blocks available in `blocks`. (Use completion/docs with ⌘`Space`/⌘`D`)"}}},{"id":15,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= blocks","note":{"type":"expr","code":" blocks"}}},{"id":16,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}},{"id":17,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"## Custom Blocks","note":{"type":"text","tag":"h2","text":"Custom Blocks"}}},{"id":18,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"You can build your own blocks. For now you either have to shoot me a message or look at the source code of the existing blocks to find out more.","note":{"type":"text","tag":"p","text":"You can build your own blocks. For now you either have to shoot me a message or look at the source code of the existing blocks to find out more."}}},{"id":19,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}},{"id":20,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"Ok, I'll give you a small example:","note":{"type":"text","tag":"p","text":"Ok, I'll give you a small example:"}}},{"id":21,"name":"RAW","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"/blocks.JSExpr","note":{"type":"block","isInstantiated":true,"code":"blocks.JSExpr","state":"resheet.core.block.create({\n  init: \"\",\n  view({ state, dispatch, env }, ref) {\n    return (\n      <textarea\n        ref={ref}\n        value={state}\n        onChange={ev => dispatch(stateBefore => ({ state: ev.target.value }))}\n        rows={state.split('\\n').length}\n        />\n    )\n  },\n  recompute(state, update, env) {\n    return state\n  },\n  getResult(state) {\n    return state\n  },\n  fromJSON(json) {\n    return typeof json === 'string' ? json : ''\n  },\n  toJSON(state) {\n    return state\n  },\n})"}}},{"id":22,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"/RAW","note":{"type":"block","isInstantiated":false,"code":"RAW"}}},{"id":23,"name":"rawText","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"/RAW","note":{"type":"block","isInstantiated":true,"code":"RAW","state":"{\n  \"hello\": \"world\"\n}"}}},{"id":24,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= JSON.parse(rawText)","note":{"type":"expr","code":" JSON.parse(rawText)"}}}]}},"isCollapsed":true,"children":[]}]}],"viewState":{"sidebarOpen":true,"openPage":[0]},"template":{"id":1,"name":"","state":{"t":"resheet.selector","v":0,"mode":"run","expr":"SheetOf(Note)","inner":{"t":"resheet.sheet","v":1,"lines":[{"id":0,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}}]}},"isCollapsed":true,"children":[]}},"prev":0},{"time":1710919820552,"state":{"pages":[{"id":0,"name":"Introduction","state":{"t":"resheet.selector","v":0,"mode":"run","expr":"SheetOf(Note)","inner":{"t":"resheet.sheet","v":1,"lines":[{"id":0,"name":"","visibility":"result","state":{"t":"resheet.note","v":1,"level":0,"input":"= <h1 className=\"flex space-x-2 items-baseline my-2 text-5xl\">\n    <img className=\"h-12\" src={tables.assets.logoSvg} alt=\"ReSheet Logo\"/>\n    <span>ReSheet</span>\n    <span className=\"text-2xl\">alpha</span>\n  </h1>","note":{"type":"expr","code":" <h1 className=\"flex space-x-2 items-baseline my-2 text-5xl\">\n    <img className=\"h-12\" src={tables.assets.logoSvg} alt=\"ReSheet Logo\"/>\n    <span>ReSheet</span>\n    <span className=\"text-2xl\">alpha</span>\n  </h1>"}}},{"id":41,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"A notes-spreadsheet-hybrid for programmers.","note":{"type":"text","tag":"p","text":"A notes-spreadsheet-hybrid for programmers."}}},{"id":86,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}},{"id":87,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"Everything in ReSheet is a Block. A Block can be thought of like a cell in a spreadsheet.","note":{"type":"text","tag":"p","text":"Everything in ReSheet is a Block. A Block can be thought of like a cell in a spreadsheet."}}},{"id":85,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"ReSheet is heavily keyboard-focused:","note":{"type":"text","tag":"p","text":"ReSheet is heavily keyboard-focused:"}}},{"id":88,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":1,"input":"Try **⌘K/⌘⇧P** to see all commands for the currently focused block(s). (Also try **⌘?**)","note":{"type":"text","tag":"p","text":"Try **⌘K/⌘⇧P** to see all commands for the currently focused block(s). (Also try **⌘?**)"}}},{"id":89,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":1,"input":"Use the ArrowKeys or `H`/`J`/`K`/`L` and `Enter`/`Escape` to move between Blocks.","note":{"type":"text","tag":"p","text":"Use the ArrowKeys or `H`/`J`/`K`/`L` and `Enter`/`Escape` to move between Blocks."}}},{"id":70,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"## Shortcuts","note":{"type":"text","tag":"h2","text":"Shortcuts"}}},{"id":76,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"*⌘ = Meta = Ctrl (can be used interchangeably, useful if the browser intercepts a variant)*","note":{"type":"text","tag":"p","text":"*⌘ = Meta = Ctrl (can be used interchangeably, useful if the browser intercepts a variant)*"}}},{"id":66,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"Command Search: **⌘K/⌘⇧P**","note":{"type":"text","tag":"p","text":"Command Search: **⌘K/⌘⇧P**"}}},{"id":67,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"Shortcut Suggestions: **⌘?**","note":{"type":"text","tag":"p","text":"Shortcut Suggestions: **⌘?**"}}},{"id":68,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"Navigation: **Arrow Keys/`HJKL`**","note":{"type":"text","tag":"p","text":"Navigation: **Arrow Keys/`HJKL`**"}}},{"id":69,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"Go in/out: **`Enter`/`Escape`**","note":{"type":"text","tag":"p","text":"Go in/out: **`Enter`/`Escape`**"}}},{"id":71,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"## Writing","note":{"type":"text","tag":"h2","text":"Writing"}}},{"id":72,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"Format with Markdown","note":{"type":"text","tag":"p","text":"Format with Markdown"}}},{"id":74,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":1,"input":"<span className=\"text-sm text-gray-800\">(`*italic* **bold** [link text](link url)` etc)</span>","note":{"type":"text","tag":"p","text":"<span className=\"text-sm text-gray-800\">(`*italic* **bold** [link text](link url)` etc)</span>"}}},{"id":7,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"\"Formulas\" (JavaScript) start with `\"=\"`","note":{"type":"text","tag":"p","text":"\"Formulas\" (JavaScript) start with `\"=\"`"}}},{"id":82,"name":"x","visibility":"block","state":{"t":"resheet.note","v":1,"level":1,"input":"= 12","note":{"type":"expr","code":" 12"}}},{"id":84,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":1,"input":"= Math.sqrt(x + x)","note":{"type":"expr","code":" Math.sqrt(x + x)"}}},{"id":80,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":1,"input":"**⌘`Space`** for completions","note":{"type":"text","tag":"p","text":"**⌘`Space`** for completions"}}},{"id":81,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":1,"input":"**⌘`D`** for docs (if available)","note":{"type":"text","tag":"p","text":"**⌘`D`** for docs (if available)"}}}]}},"isCollapsed":false,"children":[{"id":0,"name":"Tips","state":{"t":"resheet.selector","v":0,"mode":"run","expr":"SheetOf(Note)","inner":{"t":"resheet.sheet","v":1,"lines":[{"id":13,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"# Tips","note":{"type":"text","tag":"h1","text":"Tips"}}},{"id":2,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"Your document is automatically backed up to IndexedDB, but gets deleted after 7 days. So don't forget to save it to a local file.","note":{"type":"text","tag":"p","text":"Your document is automatically backed up to IndexedDB, but gets deleted after 7 days. So don't forget to save it to a local file."}}},{"id":3,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}},{"id":4,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"ReSheet gives you the full power of JavaScript and React.","note":{"type":"text","tag":"p","text":"ReSheet gives you the full power of JavaScript and React."}}},{"id":5,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"**Be aware:** You have the **power to break it** (but generally you can undo it – ⌘Z) and full responsibilty to **ensure you trust the code you run**.","note":{"type":"text","tag":"p","text":"**Be aware:** You have the **power to break it** (but generally you can undo it – ⌘Z) and full responsibilty to **ensure you trust the code you run**."}}},{"id":6,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"Also beware of side-effects in your code: Everything is automatically rerun as needed (for changes), so side-effects may execute for every character you type.","note":{"type":"text","tag":"p","text":"Also beware of side-effects in your code: Everything is automatically rerun as needed (for changes), so side-effects may execute for every character you type."}}},{"id":7,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}},{"id":8,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"If a shortcut triggers a browser action, try an alternative key combination by switching ⌘/Meta/Ctrl.","note":{"type":"text","tag":"p","text":"If a shortcut triggers a browser action, try an alternative key combination by switching ⌘/Meta/Ctrl."}}},{"id":9,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":1,"input":"For example:","note":{"type":"text","tag":"p","text":"For example:"}}},{"id":10,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":2,"input":"⌘N = Meta-N = Ctrl-N","note":{"type":"text","tag":"p","text":"⌘N = Meta-N = Ctrl-N"}}},{"id":11,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":2,"input":"⌘⇧P = Meta-Shift-P = Ctrl-Shift-P","note":{"type":"text","tag":"p","text":"⌘⇧P = Meta-Shift-P = Ctrl-Shift-P"}}},{"id":12,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":2,"input":"etc","note":{"type":"text","tag":"p","text":"etc"}}}]}},"isCollapsed":true,"children":[]},{"id":1,"name":"Formulas","state":{"t":"resheet.selector","v":0,"mode":"run","expr":"SheetOf(Note)","inner":{"t":"resheet.sheet","v":1,"lines":[{"id":0,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"# Formulas","note":{"type":"text","tag":"h1","text":"Formulas"}}},{"id":1,"name":"msInADay","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= 24 /*h*/ * 60 /*min*/ * 60 /*sec*/ * 1000 /*ms*/","note":{"type":"expr","code":" 24 /*h*/ * 60 /*min*/ * 60 /*sec*/ * 1000 /*ms*/"}}},{"id":2,"name":"startOfThisYear","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= new Date(new Date().getFullYear(), 0, 1)","note":{"type":"expr","code":" new Date(new Date().getFullYear(), 0, 1)"}}},{"id":3,"name":"daysInThisYear","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= (Date.now() - startOfThisYear.getTime()) / msInADay","note":{"type":"expr","code":" (Date.now() - startOfThisYear.getTime()) / msInADay"}}},{"id":4,"name":"","visibility":"result","state":{"t":"resheet.note","v":1,"level":0,"input":"= // using react:\n<p className=\"py-2\">\n  This year is already {/* preserve the space character before this comment */}\n  {daysInThisYear.toLocaleString(\"en-US\", { maximumFractionDigits: 1 })}\n  {} days long. {}\n  <span className=\"text-sm text-gray-700\">(Select this line and show or hide the code with ⌘M)</span>\n</p>","note":{"type":"expr","code":" // using react:\n<p className=\"py-2\">\n  This year is already {/* preserve the space character before this comment */}\n  {daysInThisYear.toLocaleString(\"en-US\", { maximumFractionDigits: 1 })}\n  {} days long. {}\n  <span className=\"text-sm text-gray-700\">(Select this line and show or hide the code with ⌘M)</span>\n</p>"}}},{"id":5,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"## External Libraries","note":{"type":"text","tag":"h2","text":"External Libraries"}}},{"id":6,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"[esm.sh](https://esm.sh/) works great for loading npm libraries","note":{"type":"text","tag":"p","text":"[esm.sh](https://esm.sh/) works great for loading npm libraries"}}},{"id":14,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"### Number Formatting","note":{"type":"text","tag":"h3","text":"Number Formatting"}}},{"id":7,"name":"numeral","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= import('https://esm.sh/numeral')","note":{"type":"expr","code":" import('https://esm.sh/numeral')"}}},{"id":8,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= numeral.default(123456.789).format('0,0.00')","note":{"type":"expr","code":" numeral.default(123456.789).format('0,0.00')"}}},{"id":10,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"### CSV Parsing","note":{"type":"text","tag":"h3","text":"CSV Parsing"}}},{"id":11,"name":"Papa","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= import('https://esm.sh/papaparse')","note":{"type":"expr","code":" import('https://esm.sh/papaparse')"}}},{"id":12,"name":"csv","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"id,name,age,plan,email\n0,John,28,free,john@example.com\n1,Alice,34,premium,alice@boo\n2,Bob,43,premium,bob@b.b","note":{"type":"text","tag":"p","text":"id,name,age,plan,email\n0,John,28,free,john@example.com\n1,Alice,34,premium,alice@boo\n2,Bob,43,premium,bob@b.b"}}},{"id":13,"name":"data","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= Papa.default.parse(csv.text, { header: true }).data","note":{"type":"expr","code":" Papa.default.parse(csv.text, { header: true }).data"}}},{"id":15,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"### Data Validation","note":{"type":"text","tag":"h3","text":"Data Validation"}}},{"id":16,"name":"validator","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= import('https://esm.sh/validator')","note":{"type":"expr","code":" import('https://esm.sh/validator')"}}},{"id":17,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= data.map(user => ({ ...user, validEmail: validator.default.isEmail(user.email) }))","note":{"type":"expr","code":" data.map(user => ({ ...user, validEmail: validator.default.isEmail(user.email) }))"}}},{"id":18,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"### Data Processing","note":{"type":"text","tag":"h3","text":"Data Processing"}}},{"id":19,"name":"lodash","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= import('https://esm.sh/lodash')","note":{"type":"expr","code":" import('https://esm.sh/lodash')"}}},{"id":20,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= lodash.default.groupBy(data, 'plan')","note":{"type":"expr","code":" lodash.default.groupBy(data, 'plan')"}}}]}},"isCollapsed":true,"children":[]},{"id":2,"name":"Markdown","state":{"t":"resheet.selector","v":0,"mode":"run","expr":"SheetOf(Note)","inner":{"t":"resheet.sheet","v":1,"lines":[{"id":0,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"# Markdown","note":{"type":"text","tag":"h1","text":"Markdown"}}},{"id":1,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"*`*italic*`*","note":{"type":"text","tag":"p","text":"*`*italic*`*"}}},{"id":2,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"**`**bold**`**","note":{"type":"text","tag":"p","text":"**`**bold**`**"}}},{"id":3,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"`[a link](url)`","note":{"type":"text","tag":"p","text":"`[a link](url)`"}}},{"id":4,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"- Lists","note":{"type":"text","tag":"li","text":"Lists"}}},{"id":5,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"[ ] Todos","note":{"type":"checkbox","checked":false,"text":"Todos"}}},{"id":6,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"[x] Done","note":{"type":"checkbox","checked":true,"text":"Done"}}},{"id":7,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"`# Headings`","note":{"type":"text","tag":"p","text":"`# Headings`"}}},{"id":8,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"Inline <span className=\"before:block before:absolute before:-inset-0.5 before:-skew-y-1 before:bg-blue-100 relative inline-block\"><span className=\"relative text-blue-950\">Html with [tailwindcss](https://tailwindcss.com/docs/utility-first)</span></span>","note":{"type":"text","tag":"p","text":"Inline <span className=\"before:block before:absolute before:-inset-0.5 before:-skew-y-1 before:bg-blue-100 relative inline-block\"><span className=\"relative text-blue-950\">Html with [tailwindcss](https://tailwindcss.com/docs/utility-first)</span></span>"}}}]}},"isCollapsed":true,"children":[]},{"id":3,"name":"Blocks","state":{"t":"resheet.selector","v":0,"mode":"run","expr":"SheetOf(Note)","inner":{"t":"resheet.sheet","v":1,"lines":[{"id":0,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"# Blocks","note":{"type":"text","tag":"h1","text":"Blocks"}}},{"id":1,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"Blocks are the equivalent to cells in a spreadsheet. Most things in ReSheet are Blocks.","note":{"type":"text","tag":"p","text":"Blocks are the equivalent to cells in a spreadsheet. Most things in ReSheet are Blocks."}}},{"id":3,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}},{"id":2,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"Every line here contains a `Note` Block, which allows writing Markdown or Formulas.","note":{"type":"text","tag":"p","text":"Every line here contains a `Note` Block, which allows writing Markdown or Formulas."}}},{"id":4,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"A `Note` Block also allows using another Block, for example `JSExpr`. Type:","note":{"type":"text","tag":"p","text":"A `Note` Block also allows using another Block, for example `JSExpr`. Type:"}}},{"id":5,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"/blocks.JSExpr","note":{"type":"block","isInstantiated":false,"code":"blocks.JSExpr"}}},{"id":6,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"and hit ⌘`Enter` to use it:","note":{"type":"text","tag":"p","text":"and hit ⌘`Enter` to use it:"}}},{"id":7,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"/blocks.JSExpr","note":{"type":"block","isInstantiated":true,"code":"blocks.JSExpr","state":"// This is a JSExpr Block now\nfunction Mark({ children }) {\n  return (\n    <span className=\"before:block before:absolute before:-inset-0.5 before:-skew-y-2 before:bg-blue-400 relative inline-block\">\n      <span className=\"relative text-white px-0.5 tracking-wide\">\n        {children}\n      </span>\n    </span>\n  )\n}\n\n<p className=\"py-1\">\n  <Mark>Look</Mark> at it!\n</p>"}}},{"id":8,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}},{"id":9,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"All lines here are part of the `SheetOf` Block:","note":{"type":"text","tag":"p","text":"All lines here are part of the `SheetOf` Block:"}}},{"id":10,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"/blocks.SheetOf(blocks.Note)","note":{"type":"block","isInstantiated":false,"code":"blocks.SheetOf(blocks.Note)"}}},{"id":11,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"/blocks.SheetOf(blocks.Note)","note":{"type":"block","isInstantiated":true,"code":"blocks.SheetOf(blocks.Note)","state":{"t":"resheet.sheet","v":1,"lines":[{"id":0,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"Now we have a Sheet inside of a Sheet","note":{"type":"text","tag":"p","text":"Now we have a Sheet inside of a Sheet"}}},{"id":1,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= $9.text","note":{"type":"expr","code":" $9.text"}}}]}}}},{"id":12,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}},{"id":13,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}},{"id":14,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"There are other Blocks available in `blocks`. (Use completion/docs with ⌘`Space`/⌘`D`)","note":{"type":"text","tag":"p","text":"There are other Blocks available in `blocks`. (Use completion/docs with ⌘`Space`/⌘`D`)"}}},{"id":15,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= blocks","note":{"type":"expr","code":" blocks"}}},{"id":16,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}},{"id":17,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"## Custom Blocks","note":{"type":"text","tag":"h2","text":"Custom Blocks"}}},{"id":18,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"You can build your own blocks. For now you either have to shoot me a message or look at the source code of the existing blocks to find out more.","note":{"type":"text","tag":"p","text":"You can build your own blocks. For now you either have to shoot me a message or look at the source code of the existing blocks to find out more."}}},{"id":19,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}},{"id":20,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"Ok, I'll give you a small example:","note":{"type":"text","tag":"p","text":"Ok, I'll give you a small example:"}}},{"id":21,"name":"RAW","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"/blocks.JSExpr","note":{"type":"block","isInstantiated":true,"code":"blocks.JSExpr","state":"resheet.core.block.create({\n  init: \"\",\n  view({ state, dispatch, env }, ref) {\n    return (\n      <textarea\n        ref={ref}\n        value={state}\n        onChange={ev => dispatch(stateBefore => ({ state: ev.target.value }))}\n        rows={state.split('\\n').length}\n        />\n    )\n  },\n  recompute(state, update, env) {\n    return state\n  },\n  getResult(state) {\n    return state\n  },\n  fromJSON(json) {\n    return typeof json === 'string' ? json : ''\n  },\n  toJSON(state) {\n    return state\n  },\n})"}}},{"id":22,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"/RAW","note":{"type":"block","isInstantiated":false,"code":"RAW"}}},{"id":23,"name":"rawText","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"/RAW","note":{"type":"block","isInstantiated":true,"code":"RAW","state":"{\n  \"hello\": \"world\"\n}"}}},{"id":24,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= JSON.parse(rawText)","note":{"type":"expr","code":" JSON.parse(rawText)"}}}]}},"isCollapsed":true,"children":[]}]}],"viewState":{"sidebarOpen":true,"openPage":[0]},"template":{"id":1,"name":"","state":{"t":"resheet.selector","v":0,"mode":"run","expr":"SheetOf(Note)","inner":{"t":"resheet.sheet","v":1,"lines":[{"id":0,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}}]}},"isCollapsed":true,"children":[]}},"prev":0},{"time":1711096443275,"state":{"pages":[{"id":0,"name":"Introduction","state":{"t":"resheet.selector","v":0,"mode":"run","expr":"SheetOf(Note)","inner":{"t":"resheet.sheet","v":1,"lines":[{"id":0,"name":"","visibility":"result","state":{"t":"resheet.note","v":1,"level":0,"input":"= <h1 className=\"flex space-x-2 items-baseline my-2 text-5xl\">\n    <img className=\"h-12\" src={tables.assets.logoSvg} alt=\"ReSheet Logo\"/>\n    <span>ReSheet</span>\n    <span className=\"text-2xl\">alpha</span>\n  </h1>","note":{"type":"expr","code":" <h1 className=\"flex space-x-2 items-baseline my-2 text-5xl\">\n    <img className=\"h-12\" src={tables.assets.logoSvg} alt=\"ReSheet Logo\"/>\n    <span>ReSheet</span>\n    <span className=\"text-2xl\">alpha</span>\n  </h1>"}}},{"id":41,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"A notes-spreadsheet-hybrid for programmers.","note":{"type":"text","tag":"p","text":"A notes-spreadsheet-hybrid for programmers."}}},{"id":86,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}},{"id":87,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"Everything in ReSheet is a Block. A Block can be thought of like a cell in a spreadsheet.","note":{"type":"text","tag":"p","text":"Everything in ReSheet is a Block. A Block can be thought of like a cell in a spreadsheet."}}},{"id":85,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"ReSheet is heavily keyboard-focused:","note":{"type":"text","tag":"p","text":"ReSheet is heavily keyboard-focused:"}}},{"id":88,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":1,"input":"Try **⌘K/⌘⇧P** to see all commands for the currently focused block(s). (Also try **⌘?**)","note":{"type":"text","tag":"p","text":"Try **⌘K/⌘⇧P** to see all commands for the currently focused block(s). (Also try **⌘?**)"}}},{"id":89,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":1,"input":"Use the ArrowKeys or `H`/`J`/`K`/`L` and `Enter`/`Escape` to move between Blocks.","note":{"type":"text","tag":"p","text":"Use the ArrowKeys or `H`/`J`/`K`/`L` and `Enter`/`Escape` to move between Blocks."}}},{"id":70,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"## Shortcuts","note":{"type":"text","tag":"h2","text":"Shortcuts"}}},{"id":76,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"*⌘ = Meta = Ctrl (can be used interchangeably, useful if the browser intercepts a variant)*","note":{"type":"text","tag":"p","text":"*⌘ = Meta = Ctrl (can be used interchangeably, useful if the browser intercepts a variant)*"}}},{"id":66,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"Command Search: **⌘K/⌘⇧P**","note":{"type":"text","tag":"p","text":"Command Search: **⌘K/⌘⇧P**"}}},{"id":67,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"Shortcut Suggestions: **⌘?**","note":{"type":"text","tag":"p","text":"Shortcut Suggestions: **⌘?**"}}},{"id":68,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"Navigation: **Arrow Keys/`HJKL`**","note":{"type":"text","tag":"p","text":"Navigation: **Arrow Keys/`HJKL`**"}}},{"id":69,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"Go in/out: **`Enter`/`Escape`**","note":{"type":"text","tag":"p","text":"Go in/out: **`Enter`/`Escape`**"}}},{"id":71,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"## Writing","note":{"type":"text","tag":"h2","text":"Writing"}}},{"id":72,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"Format with Markdown","note":{"type":"text","tag":"p","text":"Format with Markdown"}}},{"id":74,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":1,"input":"<span className=\"text-sm text-gray-800\">(`*italic* **bold** [link text](link url)` etc)</span>","note":{"type":"text","tag":"p","text":"<span className=\"text-sm text-gray-800\">(`*italic* **bold** [link text](link url)` etc)</span>"}}},{"id":7,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"\"Formulas\" (JavaScript) start with `\"=\"`","note":{"type":"text","tag":"p","text":"\"Formulas\" (JavaScript) start with `\"=\"`"}}},{"id":82,"name":"x","visibility":"block","state":{"t":"resheet.note","v":1,"level":1,"input":"= 12","note":{"type":"expr","code":" 12"}}},{"id":84,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":1,"input":"= Math.sqrt(x + x)","note":{"type":"expr","code":" Math.sqrt(x + x)"}}},{"id":80,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":1,"input":"**⌘`Space`** for completions","note":{"type":"text","tag":"p","text":"**⌘`Space`** for completions"}}},{"id":81,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":1,"input":"**⌘`D`** for docs (if available)","note":{"type":"text","tag":"p","text":"**⌘`D`** for docs (if available)"}}}]}},"isCollapsed":false,"children":[{"id":0,"name":"Tips","state":{"t":"resheet.selector","v":0,"mode":"run","expr":"SheetOf(Note)","inner":{"t":"resheet.sheet","v":1,"lines":[{"id":13,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"# Tips","note":{"type":"text","tag":"h1","text":"Tips"}}},{"id":2,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"Your document is automatically backed up to IndexedDB, but gets deleted after 7 days. So don't forget to save it to a local file.","note":{"type":"text","tag":"p","text":"Your document is automatically backed up to IndexedDB, but gets deleted after 7 days. So don't forget to save it to a local file."}}},{"id":3,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}},{"id":4,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"ReSheet gives you the full power of JavaScript and React.","note":{"type":"text","tag":"p","text":"ReSheet gives you the full power of JavaScript and React."}}},{"id":5,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"**Be aware:** You have the **power to break it** (but generally you can undo it – ⌘Z) and full responsibilty to **ensure you trust the code you run**.","note":{"type":"text","tag":"p","text":"**Be aware:** You have the **power to break it** (but generally you can undo it – ⌘Z) and full responsibilty to **ensure you trust the code you run**."}}},{"id":6,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"Also beware of side-effects in your code: Everything is automatically rerun as needed (for changes), so side-effects may execute for every character you type.","note":{"type":"text","tag":"p","text":"Also beware of side-effects in your code: Everything is automatically rerun as needed (for changes), so side-effects may execute for every character you type."}}},{"id":7,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}},{"id":8,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"If a shortcut triggers a browser action, try an alternative key combination by switching ⌘/Meta/Ctrl.","note":{"type":"text","tag":"p","text":"If a shortcut triggers a browser action, try an alternative key combination by switching ⌘/Meta/Ctrl."}}},{"id":9,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":1,"input":"For example:","note":{"type":"text","tag":"p","text":"For example:"}}},{"id":10,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":2,"input":"⌘N = Meta-N = Ctrl-N","note":{"type":"text","tag":"p","text":"⌘N = Meta-N = Ctrl-N"}}},{"id":11,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":2,"input":"⌘⇧P = Meta-Shift-P = Ctrl-Shift-P","note":{"type":"text","tag":"p","text":"⌘⇧P = Meta-Shift-P = Ctrl-Shift-P"}}},{"id":12,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":2,"input":"etc","note":{"type":"text","tag":"p","text":"etc"}}}]}},"isCollapsed":true,"children":[]},{"id":1,"name":"Formulas","state":{"t":"resheet.selector","v":0,"mode":"run","expr":"SheetOf(Note)","inner":{"t":"resheet.sheet","v":1,"lines":[{"id":0,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"# Formulas","note":{"type":"text","tag":"h1","text":"Formulas"}}},{"id":1,"name":"msInADay","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= 24 /*h*/ * 60 /*min*/ * 60 /*sec*/ * 1000 /*ms*/","note":{"type":"expr","code":" 24 /*h*/ * 60 /*min*/ * 60 /*sec*/ * 1000 /*ms*/"}}},{"id":2,"name":"startOfThisYear","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= new Date(new Date().getFullYear(), 0, 1)","note":{"type":"expr","code":" new Date(new Date().getFullYear(), 0, 1)"}}},{"id":3,"name":"daysInThisYear","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= (Date.now() - startOfThisYear.getTime()) / msInADay","note":{"type":"expr","code":" (Date.now() - startOfThisYear.getTime()) / msInADay"}}},{"id":4,"name":"","visibility":"result","state":{"t":"resheet.note","v":1,"level":0,"input":"= // using react:\n<p className=\"py-2\">\n  This year is already {/* preserve the space character before this comment */}\n  {daysInThisYear.toLocaleString(\"en-US\", { maximumFractionDigits: 1 })}\n  {} days long. {}\n  <span className=\"text-sm text-gray-700\">(Select this line and show or hide the code with ⌘M)</span>\n</p>","note":{"type":"expr","code":" // using react:\n<p className=\"py-2\">\n  This year is already {/* preserve the space character before this comment */}\n  {daysInThisYear.toLocaleString(\"en-US\", { maximumFractionDigits: 1 })}\n  {} days long. {}\n  <span className=\"text-sm text-gray-700\">(Select this line and show or hide the code with ⌘M)</span>\n</p>"}}},{"id":5,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"## External Libraries","note":{"type":"text","tag":"h2","text":"External Libraries"}}},{"id":6,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"[esm.sh](https://esm.sh/) works great for loading npm libraries","note":{"type":"text","tag":"p","text":"[esm.sh](https://esm.sh/) works great for loading npm libraries"}}},{"id":14,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"### Number Formatting","note":{"type":"text","tag":"h3","text":"Number Formatting"}}},{"id":7,"name":"numeral","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= import('https://esm.sh/numeral')","note":{"type":"expr","code":" import('https://esm.sh/numeral')"}}},{"id":8,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= numeral.default(123456.789).format('0,0.00')","note":{"type":"expr","code":" numeral.default(123456.789).format('0,0.00')"}}},{"id":10,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"### CSV Parsing","note":{"type":"text","tag":"h3","text":"CSV Parsing"}}},{"id":11,"name":"Papa","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= import('https://esm.sh/papaparse')","note":{"type":"expr","code":" import('https://esm.sh/papaparse')"}}},{"id":12,"name":"csv","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"id,name,age,plan,email\n0,John,28,free,john@example.com\n1,Alice,34,premium,alice@boo\n2,Bob,43,premium,bob@b.b","note":{"type":"text","tag":"p","text":"id,name,age,plan,email\n0,John,28,free,john@example.com\n1,Alice,34,premium,alice@boo\n2,Bob,43,premium,bob@b.b"}}},{"id":13,"name":"data","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= Papa.default.parse(csv.text, { header: true }).data","note":{"type":"expr","code":" Papa.default.parse(csv.text, { header: true }).data"}}},{"id":15,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"### Data Validation","note":{"type":"text","tag":"h3","text":"Data Validation"}}},{"id":16,"name":"validator","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= import('https://esm.sh/validator')","note":{"type":"expr","code":" import('https://esm.sh/validator')"}}},{"id":17,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= data.map(user => ({ ...user, validEmail: validator.default.isEmail(user.email) }))","note":{"type":"expr","code":" data.map(user => ({ ...user, validEmail: validator.default.isEmail(user.email) }))"}}},{"id":18,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"### Data Processing","note":{"type":"text","tag":"h3","text":"Data Processing"}}},{"id":19,"name":"lodash","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= import('https://esm.sh/lodash')","note":{"type":"expr","code":" import('https://esm.sh/lodash')"}}},{"id":20,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= lodash.default.groupBy(data, 'plan')","note":{"type":"expr","code":" lodash.default.groupBy(data, 'plan')"}}}]}},"isCollapsed":true,"children":[]},{"id":2,"name":"Markdown","state":{"t":"resheet.selector","v":0,"mode":"run","expr":"SheetOf(Note)","inner":{"t":"resheet.sheet","v":1,"lines":[{"id":0,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"# Markdown","note":{"type":"text","tag":"h1","text":"Markdown"}}},{"id":1,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"*`*italic*`*","note":{"type":"text","tag":"p","text":"*`*italic*`*"}}},{"id":2,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"**`**bold**`**","note":{"type":"text","tag":"p","text":"**`**bold**`**"}}},{"id":3,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"`[a link](url)`","note":{"type":"text","tag":"p","text":"`[a link](url)`"}}},{"id":4,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"- Lists","note":{"type":"text","tag":"li","text":"Lists"}}},{"id":5,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"[ ] Todos","note":{"type":"checkbox","checked":false,"text":"Todos"}}},{"id":6,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"[x] Done","note":{"type":"checkbox","checked":true,"text":"Done"}}},{"id":7,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"`# Headings`","note":{"type":"text","tag":"p","text":"`# Headings`"}}},{"id":8,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"Inline <span className=\"before:block before:absolute before:-inset-0.5 before:-skew-y-1 before:bg-blue-100 relative inline-block\"><span className=\"relative text-blue-950\">Html with [tailwindcss](https://tailwindcss.com/docs/utility-first)</span></span>","note":{"type":"text","tag":"p","text":"Inline <span className=\"before:block before:absolute before:-inset-0.5 before:-skew-y-1 before:bg-blue-100 relative inline-block\"><span className=\"relative text-blue-950\">Html with [tailwindcss](https://tailwindcss.com/docs/utility-first)</span></span>"}}}]}},"isCollapsed":true,"children":[]},{"id":3,"name":"Blocks","state":{"t":"resheet.selector","v":0,"mode":"run","expr":"SheetOf(Note)","inner":{"t":"resheet.sheet","v":1,"lines":[{"id":0,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"# Blocks","note":{"type":"text","tag":"h1","text":"Blocks"}}},{"id":1,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"Blocks are the equivalent to cells in a spreadsheet. Most things in ReSheet are Blocks.","note":{"type":"text","tag":"p","text":"Blocks are the equivalent to cells in a spreadsheet. Most things in ReSheet are Blocks."}}},{"id":3,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}},{"id":2,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"Every line here contains a `Note` Block, which allows writing Markdown or Formulas.","note":{"type":"text","tag":"p","text":"Every line here contains a `Note` Block, which allows writing Markdown or Formulas."}}},{"id":4,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"A `Note` Block also allows using another Block, for example `JSExpr`. Type:","note":{"type":"text","tag":"p","text":"A `Note` Block also allows using another Block, for example `JSExpr`. Type:"}}},{"id":5,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"/blocks.JSExpr","note":{"type":"block","isInstantiated":false,"code":"blocks.JSExpr"}}},{"id":6,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"and hit ⌘`Enter` to use it:","note":{"type":"text","tag":"p","text":"and hit ⌘`Enter` to use it:"}}},{"id":7,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"/blocks.JSExpr","note":{"type":"block","isInstantiated":true,"code":"blocks.JSExpr","state":"// This is a JSExpr Block now\nfunction Mark({ children }) {\n  return (\n    <span className=\"before:block before:absolute before:-inset-0.5 before:-skew-y-2 before:bg-blue-400 relative inline-block\">\n      <span className=\"relative text-white px-0.5 tracking-wide\">\n        {children}\n      </span>\n    </span>\n  )\n}\n\n<p className=\"py-1\">\n  <Mark>Look</Mark> at it!\n</p>"}}},{"id":8,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}},{"id":9,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"All lines here are part of the `SheetOf` Block:","note":{"type":"text","tag":"p","text":"All lines here are part of the `SheetOf` Block:"}}},{"id":10,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"/blocks.SheetOf(blocks.Note)","note":{"type":"block","isInstantiated":false,"code":"blocks.SheetOf(blocks.Note)"}}},{"id":11,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"/blocks.SheetOf(blocks.Note)","note":{"type":"block","isInstantiated":true,"code":"blocks.SheetOf(blocks.Note)","state":{"t":"resheet.sheet","v":1,"lines":[{"id":0,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"Now we have a Sheet inside of a Sheet","note":{"type":"text","tag":"p","text":"Now we have a Sheet inside of a Sheet"}}},{"id":1,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= $9.text","note":{"type":"expr","code":" $9.text"}}}]}}}},{"id":12,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}},{"id":13,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}},{"id":14,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"There are other Blocks available in `blocks`. (Use completion/docs with ⌘`Space`/⌘`D`)","note":{"type":"text","tag":"p","text":"There are other Blocks available in `blocks`. (Use completion/docs with ⌘`Space`/⌘`D`)"}}},{"id":15,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= blocks","note":{"type":"expr","code":" blocks"}}},{"id":16,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}},{"id":17,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"## Custom Blocks","note":{"type":"text","tag":"h2","text":"Custom Blocks"}}},{"id":18,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"You can build your own blocks. For now you either have to shoot me a message or look at the source code of the existing blocks to find out more.","note":{"type":"text","tag":"p","text":"You can build your own blocks. For now you either have to shoot me a message or look at the source code of the existing blocks to find out more."}}},{"id":19,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}},{"id":20,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"Ok, I'll give you a small example:","note":{"type":"text","tag":"p","text":"Ok, I'll give you a small example:"}}},{"id":21,"name":"RAW","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"/blocks.JSExpr","note":{"type":"block","isInstantiated":true,"code":"blocks.JSExpr","state":"resheet.core.block.create({\n  init: \"\",\n  view({ state, dispatch, env }, ref) {\n    return (\n      <textarea\n        ref={ref}\n        value={state}\n        onChange={ev => dispatch(stateBefore => ({ state: ev.target.value }))}\n        rows={state.split('\\n').length}\n        />\n    )\n  },\n  recompute(state, update, env) {\n    return state\n  },\n  getResult(state) {\n    return state\n  },\n  fromJSON(json) {\n    return typeof json === 'string' ? json : ''\n  },\n  toJSON(state) {\n    return state\n  },\n})"}}},{"id":22,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"/RAW","note":{"type":"block","isInstantiated":false,"code":"RAW"}}},{"id":23,"name":"rawText","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"/RAW","note":{"type":"block","isInstantiated":true,"code":"RAW","state":"{\n  \"hello\": \"world\"\n}"}}},{"id":24,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= JSON.parse(rawText)","note":{"type":"expr","code":" JSON.parse(rawText)"}}}]}},"isCollapsed":true,"children":[]}]}],"viewState":{"sidebarOpen":true,"openPage":[0]},"template":{"id":1,"name":"","state":{"t":"resheet.selector","v":0,"mode":"run","expr":"SheetOf(Note)","inner":{"t":"resheet.sheet","v":1,"lines":[{"id":0,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}}]}},"isCollapsed":true,"children":[]}},"prev":0},{"time":1711096746909,"state":{"pages":[{"id":0,"name":"Introduction","state":{"t":"resheet.selector","v":0,"mode":"run","expr":"SheetOf(Note)","inner":{"t":"resheet.sheet","v":1,"lines":[{"id":0,"name":"","visibility":"result","state":{"t":"resheet.note","v":1,"level":0,"input":"= <h1 className=\"flex space-x-2 items-baseline my-2 text-5xl\">\n    <img className=\"h-12\" src={resheet.assets.logoSvg} alt=\"ReSheet Logo\"/>\n    <span>ReSheet</span>\n    <span className=\"text-2xl\">alpha</span>\n  </h1>","note":{"type":"expr","code":" <h1 className=\"flex space-x-2 items-baseline my-2 text-5xl\">\n    <img className=\"h-12\" src={resheet.assets.logoSvg} alt=\"ReSheet Logo\"/>\n    <span>ReSheet</span>\n    <span className=\"text-2xl\">alpha</span>\n  </h1>"}}},{"id":41,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"A notes-spreadsheet-hybrid for programmers.","note":{"type":"text","tag":"p","text":"A notes-spreadsheet-hybrid for programmers."}}},{"id":86,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}},{"id":87,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"Everything in ReSheet is a Block. A Block can be thought of like a cell in a spreadsheet.","note":{"type":"text","tag":"p","text":"Everything in ReSheet is a Block. A Block can be thought of like a cell in a spreadsheet."}}},{"id":85,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"ReSheet is heavily keyboard-focused:","note":{"type":"text","tag":"p","text":"ReSheet is heavily keyboard-focused:"}}},{"id":88,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":1,"input":"Try **⌘K/⌘⇧P** to see all commands for the currently focused block(s). (Also try **⌘?**)","note":{"type":"text","tag":"p","text":"Try **⌘K/⌘⇧P** to see all commands for the currently focused block(s). (Also try **⌘?**)"}}},{"id":89,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":1,"input":"Use the ArrowKeys or `H`/`J`/`K`/`L` and `Enter`/`Escape` to move between Blocks.","note":{"type":"text","tag":"p","text":"Use the ArrowKeys or `H`/`J`/`K`/`L` and `Enter`/`Escape` to move between Blocks."}}},{"id":90,"name":"","visibility":"result","state":{"t":"resheet.note","v":1,"level":0,"input":"= <img className=\"my-4\" alt=\"ReSheet demo animation\" src={resheet.assets.demoGif} />","note":{"type":"expr","code":" <img className=\"my-4\" alt=\"ReSheet demo animation\" src={resheet.assets.demoGif} />"}}},{"id":70,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"## Shortcuts","note":{"type":"text","tag":"h2","text":"Shortcuts"}}},{"id":76,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"*⌘ = Meta = Ctrl (can be used interchangeably, useful if the browser intercepts a variant)*","note":{"type":"text","tag":"p","text":"*⌘ = Meta = Ctrl (can be used interchangeably, useful if the browser intercepts a variant)*"}}},{"id":66,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"Command Search: **⌘K/⌘⇧P**","note":{"type":"text","tag":"p","text":"Command Search: **⌘K/⌘⇧P**"}}},{"id":67,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"Shortcut Suggestions: **⌘?**","note":{"type":"text","tag":"p","text":"Shortcut Suggestions: **⌘?**"}}},{"id":68,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"Navigation: **Arrow Keys/`HJKL`**","note":{"type":"text","tag":"p","text":"Navigation: **Arrow Keys/`HJKL`**"}}},{"id":69,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"Go in/out: **`Enter`/`Escape`**","note":{"type":"text","tag":"p","text":"Go in/out: **`Enter`/`Escape`**"}}},{"id":71,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"## Writing","note":{"type":"text","tag":"h2","text":"Writing"}}},{"id":72,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"Format with Markdown","note":{"type":"text","tag":"p","text":"Format with Markdown"}}},{"id":74,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":1,"input":"<span className=\"text-sm text-gray-800\">(`*italic* **bold** [link text](link url)` etc)</span>","note":{"type":"text","tag":"p","text":"<span className=\"text-sm text-gray-800\">(`*italic* **bold** [link text](link url)` etc)</span>"}}},{"id":7,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"\"Formulas\" (JavaScript) start with `\"=\"`","note":{"type":"text","tag":"p","text":"\"Formulas\" (JavaScript) start with `\"=\"`"}}},{"id":82,"name":"x","visibility":"block","state":{"t":"resheet.note","v":1,"level":1,"input":"= 12","note":{"type":"expr","code":" 12"}}},{"id":84,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":1,"input":"= Math.sqrt(x + x)","note":{"type":"expr","code":" Math.sqrt(x + x)"}}},{"id":80,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":1,"input":"**⌘`Space`** for completions","note":{"type":"text","tag":"p","text":"**⌘`Space`** for completions"}}},{"id":81,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":1,"input":"**⌘`D`** for docs (if available)","note":{"type":"text","tag":"p","text":"**⌘`D`** for docs (if available)"}}}]}},"isCollapsed":false,"children":[{"id":0,"name":"Tips","state":{"t":"resheet.selector","v":0,"mode":"run","expr":"SheetOf(Note)","inner":{"t":"resheet.sheet","v":1,"lines":[{"id":13,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"# Tips","note":{"type":"text","tag":"h1","text":"Tips"}}},{"id":2,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"Your document is automatically backed up to IndexedDB, but gets deleted after 7 days. So don't forget to save it to a local file.","note":{"type":"text","tag":"p","text":"Your document is automatically backed up to IndexedDB, but gets deleted after 7 days. So don't forget to save it to a local file."}}},{"id":3,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}},{"id":4,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"ReSheet gives you the full power of JavaScript and React.","note":{"type":"text","tag":"p","text":"ReSheet gives you the full power of JavaScript and React."}}},{"id":5,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"**Be aware:** You have the **power to break it** (but generally you can undo it – ⌘Z) and full responsibilty to **ensure you trust the code you run**.","note":{"type":"text","tag":"p","text":"**Be aware:** You have the **power to break it** (but generally you can undo it – ⌘Z) and full responsibilty to **ensure you trust the code you run**."}}},{"id":6,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"Also beware of side-effects in your code: Everything is automatically rerun as needed (for changes), so side-effects may execute for every character you type.","note":{"type":"text","tag":"p","text":"Also beware of side-effects in your code: Everything is automatically rerun as needed (for changes), so side-effects may execute for every character you type."}}},{"id":7,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}},{"id":8,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"If a shortcut triggers a browser action, try an alternative key combination by switching ⌘/Meta/Ctrl.","note":{"type":"text","tag":"p","text":"If a shortcut triggers a browser action, try an alternative key combination by switching ⌘/Meta/Ctrl."}}},{"id":9,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":1,"input":"For example:","note":{"type":"text","tag":"p","text":"For example:"}}},{"id":10,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":2,"input":"⌘N = Meta-N = Ctrl-N","note":{"type":"text","tag":"p","text":"⌘N = Meta-N = Ctrl-N"}}},{"id":11,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":2,"input":"⌘⇧P = Meta-Shift-P = Ctrl-Shift-P","note":{"type":"text","tag":"p","text":"⌘⇧P = Meta-Shift-P = Ctrl-Shift-P"}}},{"id":12,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":2,"input":"etc","note":{"type":"text","tag":"p","text":"etc"}}}]}},"isCollapsed":true,"children":[]},{"id":1,"name":"Formulas","state":{"t":"resheet.selector","v":0,"mode":"run","expr":"SheetOf(Note)","inner":{"t":"resheet.sheet","v":1,"lines":[{"id":0,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"# Formulas","note":{"type":"text","tag":"h1","text":"Formulas"}}},{"id":1,"name":"msInADay","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= 24 /*h*/ * 60 /*min*/ * 60 /*sec*/ * 1000 /*ms*/","note":{"type":"expr","code":" 24 /*h*/ * 60 /*min*/ * 60 /*sec*/ * 1000 /*ms*/"}}},{"id":2,"name":"startOfThisYear","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= new Date(new Date().getFullYear(), 0, 1)","note":{"type":"expr","code":" new Date(new Date().getFullYear(), 0, 1)"}}},{"id":3,"name":"daysInThisYear","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= (Date.now() - startOfThisYear.getTime()) / msInADay","note":{"type":"expr","code":" (Date.now() - startOfThisYear.getTime()) / msInADay"}}},{"id":4,"name":"","visibility":"result","state":{"t":"resheet.note","v":1,"level":0,"input":"= // using react:\n<p className=\"py-2\">\n  This year is already {/* preserve the space character before this comment */}\n  {daysInThisYear.toLocaleString(\"en-US\", { maximumFractionDigits: 1 })}\n  {} days long. {}\n  <span className=\"text-sm text-gray-700\">(Select this line and show or hide the code with ⌘M)</span>\n</p>","note":{"type":"expr","code":" // using react:\n<p className=\"py-2\">\n  This year is already {/* preserve the space character before this comment */}\n  {daysInThisYear.toLocaleString(\"en-US\", { maximumFractionDigits: 1 })}\n  {} days long. {}\n  <span className=\"text-sm text-gray-700\">(Select this line and show or hide the code with ⌘M)</span>\n</p>"}}},{"id":5,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"## External Libraries","note":{"type":"text","tag":"h2","text":"External Libraries"}}},{"id":6,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"[esm.sh](https://esm.sh/) works great for loading npm libraries","note":{"type":"text","tag":"p","text":"[esm.sh](https://esm.sh/) works great for loading npm libraries"}}},{"id":14,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"### Number Formatting","note":{"type":"text","tag":"h3","text":"Number Formatting"}}},{"id":7,"name":"numeral","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= import('https://esm.sh/numeral')","note":{"type":"expr","code":" import('https://esm.sh/numeral')"}}},{"id":8,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= numeral.default(123456.789).format('0,0.00')","note":{"type":"expr","code":" numeral.default(123456.789).format('0,0.00')"}}},{"id":10,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"### CSV Parsing","note":{"type":"text","tag":"h3","text":"CSV Parsing"}}},{"id":11,"name":"Papa","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= import('https://esm.sh/papaparse')","note":{"type":"expr","code":" import('https://esm.sh/papaparse')"}}},{"id":12,"name":"csv","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"id,name,age,plan,email\n0,John,28,free,john@example.com\n1,Alice,34,premium,alice@boo\n2,Bob,43,premium,bob@b.b","note":{"type":"text","tag":"p","text":"id,name,age,plan,email\n0,John,28,free,john@example.com\n1,Alice,34,premium,alice@boo\n2,Bob,43,premium,bob@b.b"}}},{"id":13,"name":"data","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= Papa.default.parse(csv.text, { header: true }).data","note":{"type":"expr","code":" Papa.default.parse(csv.text, { header: true }).data"}}},{"id":15,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"### Data Validation","note":{"type":"text","tag":"h3","text":"Data Validation"}}},{"id":16,"name":"validator","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= import('https://esm.sh/validator')","note":{"type":"expr","code":" import('https://esm.sh/validator')"}}},{"id":17,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= data.map(user => ({ ...user, validEmail: validator.default.isEmail(user.email) }))","note":{"type":"expr","code":" data.map(user => ({ ...user, validEmail: validator.default.isEmail(user.email) }))"}}},{"id":18,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"### Data Processing","note":{"type":"text","tag":"h3","text":"Data Processing"}}},{"id":19,"name":"lodash","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= import('https://esm.sh/lodash')","note":{"type":"expr","code":" import('https://esm.sh/lodash')"}}},{"id":20,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= lodash.default.groupBy(data, 'plan')","note":{"type":"expr","code":" lodash.default.groupBy(data, 'plan')"}}}]}},"isCollapsed":true,"children":[]},{"id":2,"name":"Markdown","state":{"t":"resheet.selector","v":0,"mode":"run","expr":"SheetOf(Note)","inner":{"t":"resheet.sheet","v":1,"lines":[{"id":0,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"# Markdown","note":{"type":"text","tag":"h1","text":"Markdown"}}},{"id":1,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"*`*italic*`*","note":{"type":"text","tag":"p","text":"*`*italic*`*"}}},{"id":2,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"**`**bold**`**","note":{"type":"text","tag":"p","text":"**`**bold**`**"}}},{"id":3,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"`[a link](url)`","note":{"type":"text","tag":"p","text":"`[a link](url)`"}}},{"id":4,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"- Lists","note":{"type":"text","tag":"li","text":"Lists"}}},{"id":5,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"[ ] Todos","note":{"type":"checkbox","checked":false,"text":"Todos"}}},{"id":6,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"[x] Done","note":{"type":"checkbox","checked":true,"text":"Done"}}},{"id":7,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"`# Headings`","note":{"type":"text","tag":"p","text":"`# Headings`"}}},{"id":8,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"Inline <span className=\"before:block before:absolute before:-inset-0.5 before:-skew-y-1 before:bg-blue-100 relative inline-block\"><span className=\"relative text-blue-950\">Html with [tailwindcss](https://tailwindcss.com/docs/utility-first)</span></span>","note":{"type":"text","tag":"p","text":"Inline <span className=\"before:block before:absolute before:-inset-0.5 before:-skew-y-1 before:bg-blue-100 relative inline-block\"><span className=\"relative text-blue-950\">Html with [tailwindcss](https://tailwindcss.com/docs/utility-first)</span></span>"}}}]}},"isCollapsed":true,"children":[]},{"id":3,"name":"Blocks","state":{"t":"resheet.selector","v":0,"mode":"run","expr":"SheetOf(Note)","inner":{"t":"resheet.sheet","v":1,"lines":[{"id":0,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"# Blocks","note":{"type":"text","tag":"h1","text":"Blocks"}}},{"id":1,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"Blocks are the equivalent to cells in a spreadsheet. Most things in ReSheet are Blocks.","note":{"type":"text","tag":"p","text":"Blocks are the equivalent to cells in a spreadsheet. Most things in ReSheet are Blocks."}}},{"id":3,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}},{"id":2,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"Every line here contains a `Note` Block, which allows writing Markdown or Formulas.","note":{"type":"text","tag":"p","text":"Every line here contains a `Note` Block, which allows writing Markdown or Formulas."}}},{"id":4,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"A `Note` Block also allows using another Block, for example `JSExpr`. Type:","note":{"type":"text","tag":"p","text":"A `Note` Block also allows using another Block, for example `JSExpr`. Type:"}}},{"id":5,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"/blocks.JSExpr","note":{"type":"block","isInstantiated":false,"code":"blocks.JSExpr"}}},{"id":6,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"and hit ⌘`Enter` to use it:","note":{"type":"text","tag":"p","text":"and hit ⌘`Enter` to use it:"}}},{"id":7,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"/blocks.JSExpr","note":{"type":"block","isInstantiated":true,"code":"blocks.JSExpr","state":"// This is a JSExpr Block now\nfunction Mark({ children }) {\n  return (\n    <span className=\"before:block before:absolute before:-inset-0.5 before:-skew-y-2 before:bg-blue-400 relative inline-block\">\n      <span className=\"relative text-white px-0.5 tracking-wide\">\n        {children}\n      </span>\n    </span>\n  )\n}\n\n<p className=\"py-1\">\n  <Mark>Look</Mark> at it!\n</p>"}}},{"id":8,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}},{"id":9,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"All lines here are part of the `SheetOf` Block:","note":{"type":"text","tag":"p","text":"All lines here are part of the `SheetOf` Block:"}}},{"id":10,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"/blocks.SheetOf(blocks.Note)","note":{"type":"block","isInstantiated":false,"code":"blocks.SheetOf(blocks.Note)"}}},{"id":11,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"/blocks.SheetOf(blocks.Note)","note":{"type":"block","isInstantiated":true,"code":"blocks.SheetOf(blocks.Note)","state":{"t":"resheet.sheet","v":1,"lines":[{"id":0,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"Now we have a Sheet inside of a Sheet","note":{"type":"text","tag":"p","text":"Now we have a Sheet inside of a Sheet"}}},{"id":1,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= $9.text","note":{"type":"expr","code":" $9.text"}}}]}}}},{"id":12,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}},{"id":13,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}},{"id":14,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"There are other Blocks available in `blocks`. (Use completion/docs with ⌘`Space`/⌘`D`)","note":{"type":"text","tag":"p","text":"There are other Blocks available in `blocks`. (Use completion/docs with ⌘`Space`/⌘`D`)"}}},{"id":15,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= blocks","note":{"type":"expr","code":" blocks"}}},{"id":16,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}},{"id":17,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"## Custom Blocks","note":{"type":"text","tag":"h2","text":"Custom Blocks"}}},{"id":18,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"You can build your own blocks. For now you either have to shoot me a message or look at the source code of the existing blocks to find out more.","note":{"type":"text","tag":"p","text":"You can build your own blocks. For now you either have to shoot me a message or look at the source code of the existing blocks to find out more."}}},{"id":19,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}},{"id":20,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"Ok, I'll give you a small example:","note":{"type":"text","tag":"p","text":"Ok, I'll give you a small example:"}}},{"id":21,"name":"RAW","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"/blocks.JSExpr","note":{"type":"block","isInstantiated":true,"code":"blocks.JSExpr","state":"resheet.core.block.create({\n  init: \"\",\n  view({ state, dispatch, env }, ref) {\n    return (\n      <textarea\n        ref={ref}\n        value={state}\n        onChange={ev => dispatch(stateBefore => ({ state: ev.target.value }))}\n        rows={state.split('\\n').length}\n        />\n    )\n  },\n  recompute(state, update, env) {\n    return state\n  },\n  getResult(state) {\n    return state\n  },\n  fromJSON(json) {\n    return typeof json === 'string' ? json : ''\n  },\n  toJSON(state) {\n    return state\n  },\n})"}}},{"id":22,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"/RAW","note":{"type":"block","isInstantiated":false,"code":"RAW"}}},{"id":23,"name":"rawText","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"/RAW","note":{"type":"block","isInstantiated":true,"code":"RAW","state":"{\n  \"hello\": \"world\"\n}"}}},{"id":24,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= JSON.parse(rawText)","note":{"type":"expr","code":" JSON.parse(rawText)"}}}]}},"isCollapsed":true,"children":[]}]}],"viewState":{"sidebarOpen":true,"openPage":[0]},"template":{"id":1,"name":"","state":{"t":"resheet.selector","v":0,"mode":"run","expr":"SheetOf(Note)","inner":{"t":"resheet.sheet","v":1,"lines":[{"id":0,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}}]}},"isCollapsed":true,"children":[]}},"prev":0},{"time":1711108805951,"state":{"pages":[{"id":0,"name":"Introduction","state":{"t":"resheet.selector","v":0,"mode":"run","expr":"SheetOf(Note)","inner":{"t":"resheet.sheet","v":1,"lines":[{"id":0,"name":"","visibility":"result","state":{"t":"resheet.note","v":1,"level":0,"input":"= <h1 className=\"flex space-x-2 items-baseline my-2 text-5xl\">\n    <img className=\"h-12\" src={resheet.assets.logoSvg} alt=\"ReSheet Logo\"/>\n    <span>ReSheet</span>\n    <span className=\"text-2xl\">alpha</span>\n  </h1>","note":{"type":"expr","code":" <h1 className=\"flex space-x-2 items-baseline my-2 text-5xl\">\n    <img className=\"h-12\" src={resheet.assets.logoSvg} alt=\"ReSheet Logo\"/>\n    <span>ReSheet</span>\n    <span className=\"text-2xl\">alpha</span>\n  </h1>"}}},{"id":41,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"A notes-spreadsheet-hybrid for programmers.","note":{"type":"text","tag":"p","text":"A notes-spreadsheet-hybrid for programmers."}}},{"id":86,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}},{"id":87,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"Everything in ReSheet is a Block. A Block can be thought of like a cell in a spreadsheet.","note":{"type":"text","tag":"p","text":"Everything in ReSheet is a Block. A Block can be thought of like a cell in a spreadsheet."}}},{"id":85,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"ReSheet is heavily keyboard-focused:","note":{"type":"text","tag":"p","text":"ReSheet is heavily keyboard-focused:"}}},{"id":88,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":1,"input":"Try **⌘K/⌘⇧P** to see all commands for the currently focused block(s). (Also try **⌘?**)","note":{"type":"text","tag":"p","text":"Try **⌘K/⌘⇧P** to see all commands for the currently focused block(s). (Also try **⌘?**)"}}},{"id":89,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":1,"input":"Use the ArrowKeys or `H`/`J`/`K`/`L` and `Enter`/`Escape` to move between Blocks.","note":{"type":"text","tag":"p","text":"Use the ArrowKeys or `H`/`J`/`K`/`L` and `Enter`/`Escape` to move between Blocks."}}},{"id":90,"name":"","visibility":"result","state":{"t":"resheet.note","v":1,"level":0,"input":"= <img className=\"my-4\" alt=\"ReSheet demo animation\" src={resheet.assets.demoGif} />","note":{"type":"expr","code":" <img className=\"my-4\" alt=\"ReSheet demo animation\" src={resheet.assets.demoGif} />"}}},{"id":70,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"## Shortcuts","note":{"type":"text","tag":"h2","text":"Shortcuts"}}},{"id":76,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"*⌘ = Meta = Ctrl (can be used interchangeably, useful if the browser intercepts a variant)*","note":{"type":"text","tag":"p","text":"*⌘ = Meta = Ctrl (can be used interchangeably, useful if the browser intercepts a variant)*"}}},{"id":66,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"Command Search: **⌘K/⌘⇧P**","note":{"type":"text","tag":"p","text":"Command Search: **⌘K/⌘⇧P**"}}},{"id":67,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"Shortcut Suggestions: **⌘?**","note":{"type":"text","tag":"p","text":"Shortcut Suggestions: **⌘?**"}}},{"id":68,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"Navigation: **Arrow Keys/`HJKL`**","note":{"type":"text","tag":"p","text":"Navigation: **Arrow Keys/`HJKL`**"}}},{"id":69,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"Go in/out: **`Enter`/`Escape`**","note":{"type":"text","tag":"p","text":"Go in/out: **`Enter`/`Escape`**"}}},{"id":71,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"## Writing","note":{"type":"text","tag":"h2","text":"Writing"}}},{"id":72,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"Format with Markdown","note":{"type":"text","tag":"p","text":"Format with Markdown"}}},{"id":74,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":1,"input":"<span className=\"text-sm text-gray-800\">(`*italic* **bold** [link text](link url)` etc)</span>","note":{"type":"text","tag":"p","text":"<span className=\"text-sm text-gray-800\">(`*italic* **bold** [link text](link url)` etc)</span>"}}},{"id":7,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"\"Formulas\" (JavaScript) start with `\"=\"`","note":{"type":"text","tag":"p","text":"\"Formulas\" (JavaScript) start with `\"=\"`"}}},{"id":82,"name":"x","visibility":"block","state":{"t":"resheet.note","v":1,"level":1,"input":"= 12","note":{"type":"expr","code":" 12"}}},{"id":84,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":1,"input":"= Math.sqrt(x + x)","note":{"type":"expr","code":" Math.sqrt(x + x)"}}},{"id":80,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":1,"input":"**⌘`Space`** for completions","note":{"type":"text","tag":"p","text":"**⌘`Space`** for completions"}}},{"id":81,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":1,"input":"**⌘`D`** for docs (if available)","note":{"type":"text","tag":"p","text":"**⌘`D`** for docs (if available)"}}}]}},"isCollapsed":false,"children":[{"id":0,"name":"Tips","state":{"t":"resheet.selector","v":0,"mode":"run","expr":"SheetOf(Note)","inner":{"t":"resheet.sheet","v":1,"lines":[{"id":13,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"# Tips","note":{"type":"text","tag":"h1","text":"Tips"}}},{"id":2,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"Your document is automatically backed up to IndexedDB, but gets deleted after 7 days. So don't forget to save it to a local file.","note":{"type":"text","tag":"p","text":"Your document is automatically backed up to IndexedDB, but gets deleted after 7 days. So don't forget to save it to a local file."}}},{"id":3,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}},{"id":4,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"ReSheet gives you the full power of JavaScript and React.","note":{"type":"text","tag":"p","text":"ReSheet gives you the full power of JavaScript and React."}}},{"id":5,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"**Be aware:** You have the **power to break it** (but generally you can undo it – ⌘Z) and full responsibilty to **ensure you trust the code you run**.","note":{"type":"text","tag":"p","text":"**Be aware:** You have the **power to break it** (but generally you can undo it – ⌘Z) and full responsibilty to **ensure you trust the code you run**."}}},{"id":6,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"Also beware of side-effects in your code: Everything is automatically rerun as needed (for changes), so side-effects may execute for every character you type.","note":{"type":"text","tag":"p","text":"Also beware of side-effects in your code: Everything is automatically rerun as needed (for changes), so side-effects may execute for every character you type."}}},{"id":7,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}},{"id":8,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"If a shortcut triggers a browser action, try an alternative key combination by switching ⌘/Meta/Ctrl.","note":{"type":"text","tag":"p","text":"If a shortcut triggers a browser action, try an alternative key combination by switching ⌘/Meta/Ctrl."}}},{"id":9,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":1,"input":"For example:","note":{"type":"text","tag":"p","text":"For example:"}}},{"id":10,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":2,"input":"⌘N = Meta-N = Ctrl-N","note":{"type":"text","tag":"p","text":"⌘N = Meta-N = Ctrl-N"}}},{"id":11,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":2,"input":"⌘⇧P = Meta-Shift-P = Ctrl-Shift-P","note":{"type":"text","tag":"p","text":"⌘⇧P = Meta-Shift-P = Ctrl-Shift-P"}}},{"id":12,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":2,"input":"etc","note":{"type":"text","tag":"p","text":"etc"}}}]}},"isCollapsed":true,"children":[]},{"id":1,"name":"Formulas","state":{"t":"resheet.selector","v":0,"mode":"run","expr":"SheetOf(Note)","inner":{"t":"resheet.sheet","v":1,"lines":[{"id":0,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"# Formulas","note":{"type":"text","tag":"h1","text":"Formulas"}}},{"id":1,"name":"msInADay","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= 24 /*h*/ * 60 /*min*/ * 60 /*sec*/ * 1000 /*ms*/","note":{"type":"expr","code":" 24 /*h*/ * 60 /*min*/ * 60 /*sec*/ * 1000 /*ms*/"}}},{"id":2,"name":"startOfThisYear","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= new Date(new Date().getFullYear(), 0, 1)","note":{"type":"expr","code":" new Date(new Date().getFullYear(), 0, 1)"}}},{"id":3,"name":"daysInThisYear","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= (Date.now() - startOfThisYear.getTime()) / msInADay","note":{"type":"expr","code":" (Date.now() - startOfThisYear.getTime()) / msInADay"}}},{"id":4,"name":"","visibility":"result","state":{"t":"resheet.note","v":1,"level":0,"input":"= // using react:\n<p className=\"py-2\">\n  This year is already {/* preserve the space character before this comment */}\n  {daysInThisYear.toLocaleString(\"en-US\", { maximumFractionDigits: 1 })}\n  {} days long. {}\n  <span className=\"text-sm text-gray-700\">(Select this line and show or hide the code with ⌘M)</span>\n</p>","note":{"type":"expr","code":" // using react:\n<p className=\"py-2\">\n  This year is already {/* preserve the space character before this comment */}\n  {daysInThisYear.toLocaleString(\"en-US\", { maximumFractionDigits: 1 })}\n  {} days long. {}\n  <span className=\"text-sm text-gray-700\">(Select this line and show or hide the code with ⌘M)</span>\n</p>"}}},{"id":5,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"## External Libraries","note":{"type":"text","tag":"h2","text":"External Libraries"}}},{"id":6,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"[esm.sh](https://esm.sh/) works great for loading npm libraries","note":{"type":"text","tag":"p","text":"[esm.sh](https://esm.sh/) works great for loading npm libraries"}}},{"id":14,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"### Number Formatting","note":{"type":"text","tag":"h3","text":"Number Formatting"}}},{"id":7,"name":"numeral","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= import('https://esm.sh/numeral')","note":{"type":"expr","code":" import('https://esm.sh/numeral')"}}},{"id":8,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= numeral.default(123456.789).format('0,0.00')","note":{"type":"expr","code":" numeral.default(123456.789).format('0,0.00')"}}},{"id":10,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"### CSV Parsing","note":{"type":"text","tag":"h3","text":"CSV Parsing"}}},{"id":11,"name":"Papa","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= import('https://esm.sh/papaparse')","note":{"type":"expr","code":" import('https://esm.sh/papaparse')"}}},{"id":12,"name":"csv","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"id,name,age,plan,email\n0,John,28,free,john@example.com\n1,Alice,34,premium,alice@boo\n2,Bob,43,premium,bob@b.b","note":{"type":"text","tag":"p","text":"id,name,age,plan,email\n0,John,28,free,john@example.com\n1,Alice,34,premium,alice@boo\n2,Bob,43,premium,bob@b.b"}}},{"id":13,"name":"data","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= Papa.default.parse(csv.text, { header: true }).data","note":{"type":"expr","code":" Papa.default.parse(csv.text, { header: true }).data"}}},{"id":15,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"### Data Validation","note":{"type":"text","tag":"h3","text":"Data Validation"}}},{"id":16,"name":"validator","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= import('https://esm.sh/validator')","note":{"type":"expr","code":" import('https://esm.sh/validator')"}}},{"id":17,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= data.map(user => ({ ...user, validEmail: validator.default.isEmail(user.email) }))","note":{"type":"expr","code":" data.map(user => ({ ...user, validEmail: validator.default.isEmail(user.email) }))"}}},{"id":18,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"### Data Processing","note":{"type":"text","tag":"h3","text":"Data Processing"}}},{"id":19,"name":"lodash","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= import('https://esm.sh/lodash')","note":{"type":"expr","code":" import('https://esm.sh/lodash')"}}},{"id":20,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= lodash.default.groupBy(data, 'plan')","note":{"type":"expr","code":" lodash.default.groupBy(data, 'plan')"}}}]}},"isCollapsed":true,"children":[]},{"id":2,"name":"Markdown","state":{"t":"resheet.selector","v":0,"mode":"run","expr":"SheetOf(Note)","inner":{"t":"resheet.sheet","v":1,"lines":[{"id":0,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"# Markdown","note":{"type":"text","tag":"h1","text":"Markdown"}}},{"id":1,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"*`*italic*`*","note":{"type":"text","tag":"p","text":"*`*italic*`*"}}},{"id":2,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"**`**bold**`**","note":{"type":"text","tag":"p","text":"**`**bold**`**"}}},{"id":3,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"`[a link](url)`","note":{"type":"text","tag":"p","text":"`[a link](url)`"}}},{"id":4,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"- Lists","note":{"type":"text","tag":"li","text":"Lists"}}},{"id":5,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"[ ] Todos","note":{"type":"checkbox","checked":false,"text":"Todos"}}},{"id":6,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"[x] Done","note":{"type":"checkbox","checked":true,"text":"Done"}}},{"id":7,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"`# Headings`","note":{"type":"text","tag":"p","text":"`# Headings`"}}},{"id":8,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"Inline <span className=\"before:block before:absolute before:-inset-0.5 before:-skew-y-1 before:bg-blue-100 relative inline-block\"><span className=\"relative text-blue-950\">Html with [tailwindcss](https://tailwindcss.com/docs/utility-first)</span></span>","note":{"type":"text","tag":"p","text":"Inline <span className=\"before:block before:absolute before:-inset-0.5 before:-skew-y-1 before:bg-blue-100 relative inline-block\"><span className=\"relative text-blue-950\">Html with [tailwindcss](https://tailwindcss.com/docs/utility-first)</span></span>"}}}]}},"isCollapsed":true,"children":[]},{"id":3,"name":"Blocks","state":{"t":"resheet.selector","v":0,"mode":"run","expr":"SheetOf(Note)","inner":{"t":"resheet.sheet","v":1,"lines":[{"id":0,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"# Blocks","note":{"type":"text","tag":"h1","text":"Blocks"}}},{"id":1,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"Blocks are the equivalent to cells in a spreadsheet. Most things in ReSheet are Blocks.","note":{"type":"text","tag":"p","text":"Blocks are the equivalent to cells in a spreadsheet. Most things in ReSheet are Blocks."}}},{"id":3,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}},{"id":2,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"Every line here contains a `Note` Block, which allows writing Markdown or Formulas.","note":{"type":"text","tag":"p","text":"Every line here contains a `Note` Block, which allows writing Markdown or Formulas."}}},{"id":4,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"A `Note` Block also allows using another Block, for example `JSExpr`. Type:","note":{"type":"text","tag":"p","text":"A `Note` Block also allows using another Block, for example `JSExpr`. Type:"}}},{"id":5,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"/blocks.JSExpr","note":{"type":"block","isInstantiated":false,"code":"blocks.JSExpr"}}},{"id":6,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"and hit ⌘`Enter` to use it:","note":{"type":"text","tag":"p","text":"and hit ⌘`Enter` to use it:"}}},{"id":7,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"/blocks.JSExpr","note":{"type":"block","isInstantiated":true,"code":"blocks.JSExpr","state":"// This is a JSExpr Block now\nfunction Mark({ children }) {\n  return (\n    <span className=\"before:block before:absolute before:-inset-0.5 before:-skew-y-2 before:bg-blue-400 relative inline-block\">\n      <span className=\"relative text-white px-0.5 tracking-wide\">\n        {children}\n      </span>\n    </span>\n  )\n}\n\n<p className=\"py-1\">\n  <Mark>Look</Mark> at it!\n</p>"}}},{"id":8,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}},{"id":9,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"All lines here are part of the `SheetOf` Block:","note":{"type":"text","tag":"p","text":"All lines here are part of the `SheetOf` Block:"}}},{"id":10,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"/blocks.SheetOf(blocks.Note)","note":{"type":"block","isInstantiated":false,"code":"blocks.SheetOf(blocks.Note)"}}},{"id":11,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"/blocks.SheetOf(blocks.Note)","note":{"type":"block","isInstantiated":true,"code":"blocks.SheetOf(blocks.Note)","state":{"t":"resheet.sheet","v":1,"lines":[{"id":0,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"Now we have a Sheet inside of a Sheet","note":{"type":"text","tag":"p","text":"Now we have a Sheet inside of a Sheet"}}},{"id":1,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= $9.text","note":{"type":"expr","code":" $9.text"}}}]}}}},{"id":12,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}},{"id":13,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}},{"id":14,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"There are other Blocks available in `blocks`. (Use completion/docs with ⌘`Space`/⌘`D`)","note":{"type":"text","tag":"p","text":"There are other Blocks available in `blocks`. (Use completion/docs with ⌘`Space`/⌘`D`)"}}},{"id":15,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= blocks","note":{"type":"expr","code":" blocks"}}},{"id":16,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}},{"id":17,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"## Custom Blocks","note":{"type":"text","tag":"h2","text":"Custom Blocks"}}},{"id":18,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"You can build your own blocks. For now you either have to shoot me a message or look at the source code of the existing blocks to find out more.","note":{"type":"text","tag":"p","text":"You can build your own blocks. For now you either have to shoot me a message or look at the source code of the existing blocks to find out more."}}},{"id":19,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}},{"id":20,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"Ok, I'll give you a small example:","note":{"type":"text","tag":"p","text":"Ok, I'll give you a small example:"}}},{"id":21,"name":"RAW","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"/blocks.JSExpr","note":{"type":"block","isInstantiated":true,"code":"blocks.JSExpr","state":"resheet.core.block.create({\n  init: \"\",\n  view({ state, dispatch, env }, ref) {\n    return (\n      <textarea\n        ref={ref}\n        value={state}\n        onChange={ev => dispatch(stateBefore => ({ state: ev.target.value }))}\n        rows={state.split('\\n').length}\n        />\n    )\n  },\n  recompute(state, update, env) {\n    return state\n  },\n  getResult(state) {\n    return state\n  },\n  fromJSON(json) {\n    return typeof json === 'string' ? json : ''\n  },\n  toJSON(state) {\n    return state\n  },\n})"}}},{"id":22,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"/RAW","note":{"type":"block","isInstantiated":false,"code":"RAW"}}},{"id":23,"name":"rawText","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"/RAW","note":{"type":"block","isInstantiated":true,"code":"RAW","state":"{\n  \"hello\": \"world\"\n}"}}},{"id":24,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= JSON.parse(rawText)","note":{"type":"expr","code":" JSON.parse(rawText)"}}}]}},"isCollapsed":true,"children":[]}]}],"viewState":{"sidebarOpen":true,"openPage":[0]},"template":{"id":1,"name":"","state":{"t":"resheet.selector","v":0,"mode":"run","expr":"SheetOf(Note)","inner":{"t":"resheet.sheet","v":1,"lines":[{"id":0,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}}]}},"isCollapsed":true,"children":[]}},"prev":0},{"time":1711108846011,"state":{"pages":[{"id":0,"name":"Introduction","state":{"t":"resheet.selector","v":0,"mode":"run","expr":"SheetOf(Note)","inner":{"t":"resheet.sheet","v":1,"lines":[{"id":0,"name":"","visibility":"result","state":{"t":"resheet.note","v":1,"level":0,"input":"= <h1 className=\"flex space-x-2 items-baseline my-2 text-5xl\">\n    <img className=\"h-12\" src={resheet.assets.logoSvg} alt=\"ReSheet Logo\"/>\n    <span>ReSheet</span>\n    <span className=\"text-2xl\">alpha</span>\n  </h1>","note":{"type":"expr","code":" <h1 className=\"flex space-x-2 items-baseline my-2 text-5xl\">\n    <img className=\"h-12\" src={resheet.assets.logoSvg} alt=\"ReSheet Logo\"/>\n    <span>ReSheet</span>\n    <span className=\"text-2xl\">alpha</span>\n  </h1>"}}},{"id":41,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"A notes-spreadsheet-hybrid for programmers.","note":{"type":"text","tag":"p","text":"A notes-spreadsheet-hybrid for programmers."}}},{"id":86,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}},{"id":87,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"Everything in ReSheet is a Block. A Block can be thought of like a cell in a spreadsheet.","note":{"type":"text","tag":"p","text":"Everything in ReSheet is a Block. A Block can be thought of like a cell in a spreadsheet."}}},{"id":85,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"ReSheet is heavily keyboard-focused:","note":{"type":"text","tag":"p","text":"ReSheet is heavily keyboard-focused:"}}},{"id":88,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":1,"input":"Try **⌘K/⌘⇧P** to see all commands for the currently focused block(s). (Also try **⌘?**)","note":{"type":"text","tag":"p","text":"Try **⌘K/⌘⇧P** to see all commands for the currently focused block(s). (Also try **⌘?**)"}}},{"id":89,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":1,"input":"Use the ArrowKeys or `H`/`J`/`K`/`L` and `Enter`/`Escape` to move between Blocks.","note":{"type":"text","tag":"p","text":"Use the ArrowKeys or `H`/`J`/`K`/`L` and `Enter`/`Escape` to move between Blocks."}}},{"id":90,"name":"","visibility":"result","state":{"t":"resheet.note","v":1,"level":0,"input":"= <img className=\"my-4\" alt=\"ReSheet demo animation\" src={resheet.assets.demoGif} />","note":{"type":"expr","code":" <img className=\"my-4\" alt=\"ReSheet demo animation\" src={resheet.assets.demoGif} />"}}},{"id":70,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"## Shortcuts","note":{"type":"text","tag":"h2","text":"Shortcuts"}}},{"id":76,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"*⌘ = Meta = Ctrl (can be used interchangeably, useful if the browser intercepts a variant)*","note":{"type":"text","tag":"p","text":"*⌘ = Meta = Ctrl (can be used interchangeably, useful if the browser intercepts a variant)*"}}},{"id":66,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"Command Search: **⌘K/⌘⇧P**","note":{"type":"text","tag":"p","text":"Command Search: **⌘K/⌘⇧P**"}}},{"id":67,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"Shortcut Suggestions: **⌘?**","note":{"type":"text","tag":"p","text":"Shortcut Suggestions: **⌘?**"}}},{"id":68,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"Navigation: **Arrow Keys/`HJKL`**","note":{"type":"text","tag":"p","text":"Navigation: **Arrow Keys/`HJKL`**"}}},{"id":69,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"Go in/out: **`Enter`/`Escape`**","note":{"type":"text","tag":"p","text":"Go in/out: **`Enter`/`Escape`**"}}},{"id":71,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"## Writing","note":{"type":"text","tag":"h2","text":"Writing"}}},{"id":72,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"Format with Markdown","note":{"type":"text","tag":"p","text":"Format with Markdown"}}},{"id":74,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":1,"input":"<span className=\"text-sm text-gray-800\">(`*italic* **bold** [link text](link url)` etc)</span>","note":{"type":"text","tag":"p","text":"<span className=\"text-sm text-gray-800\">(`*italic* **bold** [link text](link url)` etc)</span>"}}},{"id":7,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"\"Formulas\" (JavaScript) start with `\"=\"`","note":{"type":"text","tag":"p","text":"\"Formulas\" (JavaScript) start with `\"=\"`"}}},{"id":82,"name":"x","visibility":"block","state":{"t":"resheet.note","v":1,"level":1,"input":"= 12","note":{"type":"expr","code":" 12"}}},{"id":84,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":1,"input":"= Math.sqrt(x + x)","note":{"type":"expr","code":" Math.sqrt(x + x)"}}},{"id":80,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":1,"input":"**⌘`Space`** for completions","note":{"type":"text","tag":"p","text":"**⌘`Space`** for completions"}}},{"id":81,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":1,"input":"**⌘`D`** for docs (if available)","note":{"type":"text","tag":"p","text":"**⌘`D`** for docs (if available)"}}}]}},"isCollapsed":false,"children":[{"id":0,"name":"Tips","state":{"t":"resheet.selector","v":0,"mode":"run","expr":"SheetOf(Note)","inner":{"t":"resheet.sheet","v":1,"lines":[{"id":13,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"# Tips","note":{"type":"text","tag":"h1","text":"Tips"}}},{"id":2,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"Your document is automatically backed up to IndexedDB, but gets deleted after 7 days. So don't forget to save it to a local file.","note":{"type":"text","tag":"p","text":"Your document is automatically backed up to IndexedDB, but gets deleted after 7 days. So don't forget to save it to a local file."}}},{"id":3,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}},{"id":4,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"ReSheet gives you the full power of JavaScript and React.","note":{"type":"text","tag":"p","text":"ReSheet gives you the full power of JavaScript and React."}}},{"id":5,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"**Be aware:** You have the **power to break it** (but generally you can undo it – ⌘Z) and full responsibilty to **ensure you trust the code you run**.","note":{"type":"text","tag":"p","text":"**Be aware:** You have the **power to break it** (but generally you can undo it – ⌘Z) and full responsibilty to **ensure you trust the code you run**."}}},{"id":6,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"Also beware of side-effects in your code: Everything is automatically rerun as needed (for changes), so side-effects may execute for every character you type.","note":{"type":"text","tag":"p","text":"Also beware of side-effects in your code: Everything is automatically rerun as needed (for changes), so side-effects may execute for every character you type."}}},{"id":7,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}},{"id":8,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"If a shortcut triggers a browser action, try an alternative key combination by switching ⌘/Meta/Ctrl.","note":{"type":"text","tag":"p","text":"If a shortcut triggers a browser action, try an alternative key combination by switching ⌘/Meta/Ctrl."}}},{"id":9,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":1,"input":"For example:","note":{"type":"text","tag":"p","text":"For example:"}}},{"id":10,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":2,"input":"⌘N = Meta-N = Ctrl-N","note":{"type":"text","tag":"p","text":"⌘N = Meta-N = Ctrl-N"}}},{"id":11,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":2,"input":"⌘⇧P = Meta-Shift-P = Ctrl-Shift-P","note":{"type":"text","tag":"p","text":"⌘⇧P = Meta-Shift-P = Ctrl-Shift-P"}}},{"id":12,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":2,"input":"etc","note":{"type":"text","tag":"p","text":"etc"}}}]}},"isCollapsed":true,"children":[]},{"id":1,"name":"Formulas","state":{"t":"resheet.selector","v":0,"mode":"run","expr":"SheetOf(Note)","inner":{"t":"resheet.sheet","v":1,"lines":[{"id":0,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"# Formulas","note":{"type":"text","tag":"h1","text":"Formulas"}}},{"id":1,"name":"msInADay","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= 24 /*h*/ * 60 /*min*/ * 60 /*sec*/ * 1000 /*ms*/","note":{"type":"expr","code":" 24 /*h*/ * 60 /*min*/ * 60 /*sec*/ * 1000 /*ms*/"}}},{"id":2,"name":"startOfThisYear","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= new Date(new Date().getFullYear(), 0, 1)","note":{"type":"expr","code":" new Date(new Date().getFullYear(), 0, 1)"}}},{"id":3,"name":"daysInThisYear","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= (Date.now() - startOfThisYear.getTime()) / msInADay","note":{"type":"expr","code":" (Date.now() - startOfThisYear.getTime()) / msInADay"}}},{"id":4,"name":"","visibility":"result","state":{"t":"resheet.note","v":1,"level":0,"input":"= // using react:\n<p className=\"py-2\">\n  This year is already {/* preserve the space character before this comment */}\n  {daysInThisYear.toLocaleString(\"en-US\", { maximumFractionDigits: 1 })}\n  {} days long. {}\n  <span className=\"text-sm text-gray-700\">(Select this line and show or hide the code with ⌘M)</span>\n</p>","note":{"type":"expr","code":" // using react:\n<p className=\"py-2\">\n  This year is already {/* preserve the space character before this comment */}\n  {daysInThisYear.toLocaleString(\"en-US\", { maximumFractionDigits: 1 })}\n  {} days long. {}\n  <span className=\"text-sm text-gray-700\">(Select this line and show or hide the code with ⌘M)</span>\n</p>"}}},{"id":5,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"## External Libraries","note":{"type":"text","tag":"h2","text":"External Libraries"}}},{"id":6,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"[esm.sh](https://esm.sh/) works great for loading npm libraries","note":{"type":"text","tag":"p","text":"[esm.sh](https://esm.sh/) works great for loading npm libraries"}}},{"id":14,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"### Number Formatting","note":{"type":"text","tag":"h3","text":"Number Formatting"}}},{"id":7,"name":"numeral","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= import('https://esm.sh/numeral')","note":{"type":"expr","code":" import('https://esm.sh/numeral')"}}},{"id":8,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= numeral.default(123456.789).format('0,0.00')","note":{"type":"expr","code":" numeral.default(123456.789).format('0,0.00')"}}},{"id":10,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"### CSV Parsing","note":{"type":"text","tag":"h3","text":"CSV Parsing"}}},{"id":11,"name":"Papa","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= import('https://esm.sh/papaparse')","note":{"type":"expr","code":" import('https://esm.sh/papaparse')"}}},{"id":12,"name":"csv","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"id,name,age,plan,email\n0,John,28,free,john@example.com\n1,Alice,34,premium,alice@boo\n2,Bob,43,premium,bob@b.b","note":{"type":"text","tag":"p","text":"id,name,age,plan,email\n0,John,28,free,john@example.com\n1,Alice,34,premium,alice@boo\n2,Bob,43,premium,bob@b.b"}}},{"id":13,"name":"data","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= Papa.default.parse(csv.text, { header: true }).data","note":{"type":"expr","code":" Papa.default.parse(csv.text, { header: true }).data"}}},{"id":15,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"### Data Validation","note":{"type":"text","tag":"h3","text":"Data Validation"}}},{"id":16,"name":"validator","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= import('https://esm.sh/validator')","note":{"type":"expr","code":" import('https://esm.sh/validator')"}}},{"id":17,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= data.map(user => ({ ...user, validEmail: validator.default.isEmail(user.email) }))","note":{"type":"expr","code":" data.map(user => ({ ...user, validEmail: validator.default.isEmail(user.email) }))"}}},{"id":18,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"### Data Processing","note":{"type":"text","tag":"h3","text":"Data Processing"}}},{"id":19,"name":"lodash","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= import('https://esm.sh/lodash')","note":{"type":"expr","code":" import('https://esm.sh/lodash')"}}},{"id":20,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= lodash.default.groupBy(data, 'plan')","note":{"type":"expr","code":" lodash.default.groupBy(data, 'plan')"}}},{"id":21,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"### Dates","note":{"type":"text","tag":"h3","text":"Dates"}}},{"id":22,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= import('https://esm.sh/date-fns')","note":{"type":"expr","code":" import('https://esm.sh/date-fns')"}}}]}},"isCollapsed":true,"children":[]},{"id":2,"name":"Markdown","state":{"t":"resheet.selector","v":0,"mode":"run","expr":"SheetOf(Note)","inner":{"t":"resheet.sheet","v":1,"lines":[{"id":0,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"# Markdown","note":{"type":"text","tag":"h1","text":"Markdown"}}},{"id":1,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"*`*italic*`*","note":{"type":"text","tag":"p","text":"*`*italic*`*"}}},{"id":2,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"**`**bold**`**","note":{"type":"text","tag":"p","text":"**`**bold**`**"}}},{"id":3,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"`[a link](url)`","note":{"type":"text","tag":"p","text":"`[a link](url)`"}}},{"id":4,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"- Lists","note":{"type":"text","tag":"li","text":"Lists"}}},{"id":5,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"[ ] Todos","note":{"type":"checkbox","checked":false,"text":"Todos"}}},{"id":6,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"[x] Done","note":{"type":"checkbox","checked":true,"text":"Done"}}},{"id":7,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"`# Headings`","note":{"type":"text","tag":"p","text":"`# Headings`"}}},{"id":8,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"Inline <span className=\"before:block before:absolute before:-inset-0.5 before:-skew-y-1 before:bg-blue-100 relative inline-block\"><span className=\"relative text-blue-950\">Html with [tailwindcss](https://tailwindcss.com/docs/utility-first)</span></span>","note":{"type":"text","tag":"p","text":"Inline <span className=\"before:block before:absolute before:-inset-0.5 before:-skew-y-1 before:bg-blue-100 relative inline-block\"><span className=\"relative text-blue-950\">Html with [tailwindcss](https://tailwindcss.com/docs/utility-first)</span></span>"}}}]}},"isCollapsed":true,"children":[]},{"id":3,"name":"Blocks","state":{"t":"resheet.selector","v":0,"mode":"run","expr":"SheetOf(Note)","inner":{"t":"resheet.sheet","v":1,"lines":[{"id":0,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"# Blocks","note":{"type":"text","tag":"h1","text":"Blocks"}}},{"id":1,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"Blocks are the equivalent to cells in a spreadsheet. Most things in ReSheet are Blocks.","note":{"type":"text","tag":"p","text":"Blocks are the equivalent to cells in a spreadsheet. Most things in ReSheet are Blocks."}}},{"id":3,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}},{"id":2,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"Every line here contains a `Note` Block, which allows writing Markdown or Formulas.","note":{"type":"text","tag":"p","text":"Every line here contains a `Note` Block, which allows writing Markdown or Formulas."}}},{"id":4,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"A `Note` Block also allows using another Block, for example `JSExpr`. Type:","note":{"type":"text","tag":"p","text":"A `Note` Block also allows using another Block, for example `JSExpr`. Type:"}}},{"id":5,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"/blocks.JSExpr","note":{"type":"block","isInstantiated":false,"code":"blocks.JSExpr"}}},{"id":6,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"and hit ⌘`Enter` to use it:","note":{"type":"text","tag":"p","text":"and hit ⌘`Enter` to use it:"}}},{"id":7,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"/blocks.JSExpr","note":{"type":"block","isInstantiated":true,"code":"blocks.JSExpr","state":"// This is a JSExpr Block now\nfunction Mark({ children }) {\n  return (\n    <span className=\"before:block before:absolute before:-inset-0.5 before:-skew-y-2 before:bg-blue-400 relative inline-block\">\n      <span className=\"relative text-white px-0.5 tracking-wide\">\n        {children}\n      </span>\n    </span>\n  )\n}\n\n<p className=\"py-1\">\n  <Mark>Look</Mark> at it!\n</p>"}}},{"id":8,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}},{"id":9,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"All lines here are part of the `SheetOf` Block:","note":{"type":"text","tag":"p","text":"All lines here are part of the `SheetOf` Block:"}}},{"id":10,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"/blocks.SheetOf(blocks.Note)","note":{"type":"block","isInstantiated":false,"code":"blocks.SheetOf(blocks.Note)"}}},{"id":11,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"/blocks.SheetOf(blocks.Note)","note":{"type":"block","isInstantiated":true,"code":"blocks.SheetOf(blocks.Note)","state":{"t":"resheet.sheet","v":1,"lines":[{"id":0,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"Now we have a Sheet inside of a Sheet","note":{"type":"text","tag":"p","text":"Now we have a Sheet inside of a Sheet"}}},{"id":1,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= $9.text","note":{"type":"expr","code":" $9.text"}}}]}}}},{"id":12,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}},{"id":13,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}},{"id":14,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"There are other Blocks available in `blocks`. (Use completion/docs with ⌘`Space`/⌘`D`)","note":{"type":"text","tag":"p","text":"There are other Blocks available in `blocks`. (Use completion/docs with ⌘`Space`/⌘`D`)"}}},{"id":15,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= blocks","note":{"type":"expr","code":" blocks"}}},{"id":16,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}},{"id":17,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"## Custom Blocks","note":{"type":"text","tag":"h2","text":"Custom Blocks"}}},{"id":18,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"You can build your own blocks. For now you either have to shoot me a message or look at the source code of the existing blocks to find out more.","note":{"type":"text","tag":"p","text":"You can build your own blocks. For now you either have to shoot me a message or look at the source code of the existing blocks to find out more."}}},{"id":19,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}},{"id":20,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"Ok, I'll give you a small example:","note":{"type":"text","tag":"p","text":"Ok, I'll give you a small example:"}}},{"id":21,"name":"RAW","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"/blocks.JSExpr","note":{"type":"block","isInstantiated":true,"code":"blocks.JSExpr","state":"resheet.core.block.create({\n  init: \"\",\n  view({ state, dispatch, env }, ref) {\n    return (\n      <textarea\n        ref={ref}\n        value={state}\n        onChange={ev => dispatch(stateBefore => ({ state: ev.target.value }))}\n        rows={state.split('\\n').length}\n        />\n    )\n  },\n  recompute(state, update, env) {\n    return state\n  },\n  getResult(state) {\n    return state\n  },\n  fromJSON(json) {\n    return typeof json === 'string' ? json : ''\n  },\n  toJSON(state) {\n    return state\n  },\n})"}}},{"id":22,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"/RAW","note":{"type":"block","isInstantiated":false,"code":"RAW"}}},{"id":23,"name":"rawText","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"/RAW","note":{"type":"block","isInstantiated":true,"code":"RAW","state":"{\n  \"hello\": \"world\"\n}"}}},{"id":24,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= JSON.parse(rawText)","note":{"type":"expr","code":" JSON.parse(rawText)"}}}]}},"isCollapsed":true,"children":[]}]}],"viewState":{"sidebarOpen":true,"openPage":[0,1]},"template":{"id":1,"name":"","state":{"t":"resheet.selector","v":0,"mode":"run","expr":"SheetOf(Note)","inner":{"t":"resheet.sheet","v":1,"lines":[{"id":0,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}}]}},"isCollapsed":true,"children":[]}},"prev":0},{"time":1711108867299,"state":{"pages":[{"id":0,"name":"Introduction","state":{"t":"resheet.selector","v":0,"mode":"run","expr":"SheetOf(Note)","inner":{"t":"resheet.sheet","v":1,"lines":[{"id":0,"name":"","visibility":"result","state":{"t":"resheet.note","v":1,"level":0,"input":"= <h1 className=\"flex space-x-2 items-baseline my-2 text-5xl\">\n    <img className=\"h-12\" src={resheet.assets.logoSvg} alt=\"ReSheet Logo\"/>\n    <span>ReSheet</span>\n    <span className=\"text-2xl\">alpha</span>\n  </h1>","note":{"type":"expr","code":" <h1 className=\"flex space-x-2 items-baseline my-2 text-5xl\">\n    <img className=\"h-12\" src={resheet.assets.logoSvg} alt=\"ReSheet Logo\"/>\n    <span>ReSheet</span>\n    <span className=\"text-2xl\">alpha</span>\n  </h1>"}}},{"id":41,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"A notes-spreadsheet-hybrid for programmers.","note":{"type":"text","tag":"p","text":"A notes-spreadsheet-hybrid for programmers."}}},{"id":86,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}},{"id":87,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"Everything in ReSheet is a Block. A Block can be thought of like a cell in a spreadsheet.","note":{"type":"text","tag":"p","text":"Everything in ReSheet is a Block. A Block can be thought of like a cell in a spreadsheet."}}},{"id":85,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"ReSheet is heavily keyboard-focused:","note":{"type":"text","tag":"p","text":"ReSheet is heavily keyboard-focused:"}}},{"id":88,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":1,"input":"Try **⌘K/⌘⇧P** to see all commands for the currently focused block(s). (Also try **⌘?**)","note":{"type":"text","tag":"p","text":"Try **⌘K/⌘⇧P** to see all commands for the currently focused block(s). (Also try **⌘?**)"}}},{"id":89,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":1,"input":"Use the ArrowKeys or `H`/`J`/`K`/`L` and `Enter`/`Escape` to move between Blocks.","note":{"type":"text","tag":"p","text":"Use the ArrowKeys or `H`/`J`/`K`/`L` and `Enter`/`Escape` to move between Blocks."}}},{"id":90,"name":"","visibility":"result","state":{"t":"resheet.note","v":1,"level":0,"input":"= <img className=\"my-4\" alt=\"ReSheet demo animation\" src={resheet.assets.demoGif} />","note":{"type":"expr","code":" <img className=\"my-4\" alt=\"ReSheet demo animation\" src={resheet.assets.demoGif} />"}}},{"id":70,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"## Shortcuts","note":{"type":"text","tag":"h2","text":"Shortcuts"}}},{"id":76,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"*⌘ = Meta = Ctrl (can be used interchangeably, useful if the browser intercepts a variant)*","note":{"type":"text","tag":"p","text":"*⌘ = Meta = Ctrl (can be used interchangeably, useful if the browser intercepts a variant)*"}}},{"id":66,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"Command Search: **⌘K/⌘⇧P**","note":{"type":"text","tag":"p","text":"Command Search: **⌘K/⌘⇧P**"}}},{"id":67,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"Shortcut Suggestions: **⌘?**","note":{"type":"text","tag":"p","text":"Shortcut Suggestions: **⌘?**"}}},{"id":68,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"Navigation: **Arrow Keys/`HJKL`**","note":{"type":"text","tag":"p","text":"Navigation: **Arrow Keys/`HJKL`**"}}},{"id":69,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"Go in/out: **`Enter`/`Escape`**","note":{"type":"text","tag":"p","text":"Go in/out: **`Enter`/`Escape`**"}}},{"id":71,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"## Writing","note":{"type":"text","tag":"h2","text":"Writing"}}},{"id":72,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"Format with Markdown","note":{"type":"text","tag":"p","text":"Format with Markdown"}}},{"id":74,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":1,"input":"<span className=\"text-sm text-gray-800\">(`*italic* **bold** [link text](link url)` etc)</span>","note":{"type":"text","tag":"p","text":"<span className=\"text-sm text-gray-800\">(`*italic* **bold** [link text](link url)` etc)</span>"}}},{"id":7,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"\"Formulas\" (JavaScript) start with `\"=\"`","note":{"type":"text","tag":"p","text":"\"Formulas\" (JavaScript) start with `\"=\"`"}}},{"id":82,"name":"x","visibility":"block","state":{"t":"resheet.note","v":1,"level":1,"input":"= 12","note":{"type":"expr","code":" 12"}}},{"id":84,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":1,"input":"= Math.sqrt(x + x)","note":{"type":"expr","code":" Math.sqrt(x + x)"}}},{"id":80,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":1,"input":"**⌘`Space`** for completions","note":{"type":"text","tag":"p","text":"**⌘`Space`** for completions"}}},{"id":81,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":1,"input":"**⌘`D`** for docs (if available)","note":{"type":"text","tag":"p","text":"**⌘`D`** for docs (if available)"}}}]}},"isCollapsed":false,"children":[{"id":0,"name":"Tips","state":{"t":"resheet.selector","v":0,"mode":"run","expr":"SheetOf(Note)","inner":{"t":"resheet.sheet","v":1,"lines":[{"id":13,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"# Tips","note":{"type":"text","tag":"h1","text":"Tips"}}},{"id":2,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"Your document is automatically backed up to IndexedDB, but gets deleted after 7 days. So don't forget to save it to a local file.","note":{"type":"text","tag":"p","text":"Your document is automatically backed up to IndexedDB, but gets deleted after 7 days. So don't forget to save it to a local file."}}},{"id":3,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}},{"id":4,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"ReSheet gives you the full power of JavaScript and React.","note":{"type":"text","tag":"p","text":"ReSheet gives you the full power of JavaScript and React."}}},{"id":5,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"**Be aware:** You have the **power to break it** (but generally you can undo it – ⌘Z) and full responsibilty to **ensure you trust the code you run**.","note":{"type":"text","tag":"p","text":"**Be aware:** You have the **power to break it** (but generally you can undo it – ⌘Z) and full responsibilty to **ensure you trust the code you run**."}}},{"id":6,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"Also beware of side-effects in your code: Everything is automatically rerun as needed (for changes), so side-effects may execute for every character you type.","note":{"type":"text","tag":"p","text":"Also beware of side-effects in your code: Everything is automatically rerun as needed (for changes), so side-effects may execute for every character you type."}}},{"id":7,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}},{"id":8,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"If a shortcut triggers a browser action, try an alternative key combination by switching ⌘/Meta/Ctrl.","note":{"type":"text","tag":"p","text":"If a shortcut triggers a browser action, try an alternative key combination by switching ⌘/Meta/Ctrl."}}},{"id":9,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":1,"input":"For example:","note":{"type":"text","tag":"p","text":"For example:"}}},{"id":10,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":2,"input":"⌘N = Meta-N = Ctrl-N","note":{"type":"text","tag":"p","text":"⌘N = Meta-N = Ctrl-N"}}},{"id":11,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":2,"input":"⌘⇧P = Meta-Shift-P = Ctrl-Shift-P","note":{"type":"text","tag":"p","text":"⌘⇧P = Meta-Shift-P = Ctrl-Shift-P"}}},{"id":12,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":2,"input":"etc","note":{"type":"text","tag":"p","text":"etc"}}}]}},"isCollapsed":true,"children":[]},{"id":1,"name":"Formulas","state":{"t":"resheet.selector","v":0,"mode":"run","expr":"SheetOf(Note)","inner":{"t":"resheet.sheet","v":1,"lines":[{"id":0,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"# Formulas","note":{"type":"text","tag":"h1","text":"Formulas"}}},{"id":1,"name":"msInADay","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= 24 /*h*/ * 60 /*min*/ * 60 /*sec*/ * 1000 /*ms*/","note":{"type":"expr","code":" 24 /*h*/ * 60 /*min*/ * 60 /*sec*/ * 1000 /*ms*/"}}},{"id":2,"name":"startOfThisYear","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= new Date(new Date().getFullYear(), 0, 1)","note":{"type":"expr","code":" new Date(new Date().getFullYear(), 0, 1)"}}},{"id":3,"name":"daysInThisYear","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= (Date.now() - startOfThisYear.getTime()) / msInADay","note":{"type":"expr","code":" (Date.now() - startOfThisYear.getTime()) / msInADay"}}},{"id":4,"name":"","visibility":"result","state":{"t":"resheet.note","v":1,"level":0,"input":"= // using react:\n<p className=\"py-2\">\n  This year is already {/* preserve the space character before this comment */}\n  {daysInThisYear.toLocaleString(\"en-US\", { maximumFractionDigits: 1 })}\n  {} days long. {}\n  <span className=\"text-sm text-gray-700\">(Select this line and show or hide the code with ⌘M)</span>\n</p>","note":{"type":"expr","code":" // using react:\n<p className=\"py-2\">\n  This year is already {/* preserve the space character before this comment */}\n  {daysInThisYear.toLocaleString(\"en-US\", { maximumFractionDigits: 1 })}\n  {} days long. {}\n  <span className=\"text-sm text-gray-700\">(Select this line and show or hide the code with ⌘M)</span>\n</p>"}}},{"id":5,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"## External Libraries","note":{"type":"text","tag":"h2","text":"External Libraries"}}},{"id":6,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"[esm.sh](https://esm.sh/) works great for loading npm libraries","note":{"type":"text","tag":"p","text":"[esm.sh](https://esm.sh/) works great for loading npm libraries"}}},{"id":14,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"### Number Formatting","note":{"type":"text","tag":"h3","text":"Number Formatting"}}},{"id":7,"name":"numeral","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= import('https://esm.sh/numeral')","note":{"type":"expr","code":" import('https://esm.sh/numeral')"}}},{"id":8,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= numeral.default(123456.789).format('0,0.00')","note":{"type":"expr","code":" numeral.default(123456.789).format('0,0.00')"}}},{"id":10,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"### CSV Parsing","note":{"type":"text","tag":"h3","text":"CSV Parsing"}}},{"id":11,"name":"Papa","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= import('https://esm.sh/papaparse')","note":{"type":"expr","code":" import('https://esm.sh/papaparse')"}}},{"id":12,"name":"csv","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"id,name,age,plan,email\n0,John,28,free,john@example.com\n1,Alice,34,premium,alice@boo\n2,Bob,43,premium,bob@b.b","note":{"type":"text","tag":"p","text":"id,name,age,plan,email\n0,John,28,free,john@example.com\n1,Alice,34,premium,alice@boo\n2,Bob,43,premium,bob@b.b"}}},{"id":13,"name":"data","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= Papa.default.parse(csv.text, { header: true }).data","note":{"type":"expr","code":" Papa.default.parse(csv.text, { header: true }).data"}}},{"id":15,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"### Data Validation","note":{"type":"text","tag":"h3","text":"Data Validation"}}},{"id":16,"name":"validator","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= import('https://esm.sh/validator')","note":{"type":"expr","code":" import('https://esm.sh/validator')"}}},{"id":17,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= data.map(user => ({ ...user, validEmail: validator.default.isEmail(user.email) }))","note":{"type":"expr","code":" data.map(user => ({ ...user, validEmail: validator.default.isEmail(user.email) }))"}}},{"id":18,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"### Data Processing","note":{"type":"text","tag":"h3","text":"Data Processing"}}},{"id":19,"name":"lodash","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= import('https://esm.sh/lodash')","note":{"type":"expr","code":" import('https://esm.sh/lodash')"}}},{"id":20,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= lodash.default.groupBy(data, 'plan')","note":{"type":"expr","code":" lodash.default.groupBy(data, 'plan')"}}},{"id":21,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"### Dates","note":{"type":"text","tag":"h3","text":"Dates"}}},{"id":22,"name":"datefns","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= import('https://esm.sh/date-fns')","note":{"type":"expr","code":" import('https://esm.sh/date-fns')"}}},{"id":23,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= datefns.parse('today', ","note":{"type":"expr","code":" datefns.parse('today', "}}}]}},"isCollapsed":true,"children":[]},{"id":2,"name":"Markdown","state":{"t":"resheet.selector","v":0,"mode":"run","expr":"SheetOf(Note)","inner":{"t":"resheet.sheet","v":1,"lines":[{"id":0,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"# Markdown","note":{"type":"text","tag":"h1","text":"Markdown"}}},{"id":1,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"*`*italic*`*","note":{"type":"text","tag":"p","text":"*`*italic*`*"}}},{"id":2,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"**`**bold**`**","note":{"type":"text","tag":"p","text":"**`**bold**`**"}}},{"id":3,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"`[a link](url)`","note":{"type":"text","tag":"p","text":"`[a link](url)`"}}},{"id":4,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"- Lists","note":{"type":"text","tag":"li","text":"Lists"}}},{"id":5,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"[ ] Todos","note":{"type":"checkbox","checked":false,"text":"Todos"}}},{"id":6,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"[x] Done","note":{"type":"checkbox","checked":true,"text":"Done"}}},{"id":7,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"`# Headings`","note":{"type":"text","tag":"p","text":"`# Headings`"}}},{"id":8,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"Inline <span className=\"before:block before:absolute before:-inset-0.5 before:-skew-y-1 before:bg-blue-100 relative inline-block\"><span className=\"relative text-blue-950\">Html with [tailwindcss](https://tailwindcss.com/docs/utility-first)</span></span>","note":{"type":"text","tag":"p","text":"Inline <span className=\"before:block before:absolute before:-inset-0.5 before:-skew-y-1 before:bg-blue-100 relative inline-block\"><span className=\"relative text-blue-950\">Html with [tailwindcss](https://tailwindcss.com/docs/utility-first)</span></span>"}}}]}},"isCollapsed":true,"children":[]},{"id":3,"name":"Blocks","state":{"t":"resheet.selector","v":0,"mode":"run","expr":"SheetOf(Note)","inner":{"t":"resheet.sheet","v":1,"lines":[{"id":0,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"# Blocks","note":{"type":"text","tag":"h1","text":"Blocks"}}},{"id":1,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"Blocks are the equivalent to cells in a spreadsheet. Most things in ReSheet are Blocks.","note":{"type":"text","tag":"p","text":"Blocks are the equivalent to cells in a spreadsheet. Most things in ReSheet are Blocks."}}},{"id":3,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}},{"id":2,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"Every line here contains a `Note` Block, which allows writing Markdown or Formulas.","note":{"type":"text","tag":"p","text":"Every line here contains a `Note` Block, which allows writing Markdown or Formulas."}}},{"id":4,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"A `Note` Block also allows using another Block, for example `JSExpr`. Type:","note":{"type":"text","tag":"p","text":"A `Note` Block also allows using another Block, for example `JSExpr`. Type:"}}},{"id":5,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"/blocks.JSExpr","note":{"type":"block","isInstantiated":false,"code":"blocks.JSExpr"}}},{"id":6,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"and hit ⌘`Enter` to use it:","note":{"type":"text","tag":"p","text":"and hit ⌘`Enter` to use it:"}}},{"id":7,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"/blocks.JSExpr","note":{"type":"block","isInstantiated":true,"code":"blocks.JSExpr","state":"// This is a JSExpr Block now\nfunction Mark({ children }) {\n  return (\n    <span className=\"before:block before:absolute before:-inset-0.5 before:-skew-y-2 before:bg-blue-400 relative inline-block\">\n      <span className=\"relative text-white px-0.5 tracking-wide\">\n        {children}\n      </span>\n    </span>\n  )\n}\n\n<p className=\"py-1\">\n  <Mark>Look</Mark> at it!\n</p>"}}},{"id":8,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}},{"id":9,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"All lines here are part of the `SheetOf` Block:","note":{"type":"text","tag":"p","text":"All lines here are part of the `SheetOf` Block:"}}},{"id":10,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"/blocks.SheetOf(blocks.Note)","note":{"type":"block","isInstantiated":false,"code":"blocks.SheetOf(blocks.Note)"}}},{"id":11,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"/blocks.SheetOf(blocks.Note)","note":{"type":"block","isInstantiated":true,"code":"blocks.SheetOf(blocks.Note)","state":{"t":"resheet.sheet","v":1,"lines":[{"id":0,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"Now we have a Sheet inside of a Sheet","note":{"type":"text","tag":"p","text":"Now we have a Sheet inside of a Sheet"}}},{"id":1,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= $9.text","note":{"type":"expr","code":" $9.text"}}}]}}}},{"id":12,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}},{"id":13,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}},{"id":14,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"There are other Blocks available in `blocks`. (Use completion/docs with ⌘`Space`/⌘`D`)","note":{"type":"text","tag":"p","text":"There are other Blocks available in `blocks`. (Use completion/docs with ⌘`Space`/⌘`D`)"}}},{"id":15,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= blocks","note":{"type":"expr","code":" blocks"}}},{"id":16,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}},{"id":17,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"## Custom Blocks","note":{"type":"text","tag":"h2","text":"Custom Blocks"}}},{"id":18,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"You can build your own blocks. For now you either have to shoot me a message or look at the source code of the existing blocks to find out more.","note":{"type":"text","tag":"p","text":"You can build your own blocks. For now you either have to shoot me a message or look at the source code of the existing blocks to find out more."}}},{"id":19,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}},{"id":20,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"Ok, I'll give you a small example:","note":{"type":"text","tag":"p","text":"Ok, I'll give you a small example:"}}},{"id":21,"name":"RAW","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"/blocks.JSExpr","note":{"type":"block","isInstantiated":true,"code":"blocks.JSExpr","state":"resheet.core.block.create({\n  init: \"\",\n  view({ state, dispatch, env }, ref) {\n    return (\n      <textarea\n        ref={ref}\n        value={state}\n        onChange={ev => dispatch(stateBefore => ({ state: ev.target.value }))}\n        rows={state.split('\\n').length}\n        />\n    )\n  },\n  recompute(state, update, env) {\n    return state\n  },\n  getResult(state) {\n    return state\n  },\n  fromJSON(json) {\n    return typeof json === 'string' ? json : ''\n  },\n  toJSON(state) {\n    return state\n  },\n})"}}},{"id":22,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"/RAW","note":{"type":"block","isInstantiated":false,"code":"RAW"}}},{"id":23,"name":"rawText","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"/RAW","note":{"type":"block","isInstantiated":true,"code":"RAW","state":"{\n  \"hello\": \"world\"\n}"}}},{"id":24,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= JSON.parse(rawText)","note":{"type":"expr","code":" JSON.parse(rawText)"}}}]}},"isCollapsed":true,"children":[]}]}],"viewState":{"sidebarOpen":true,"openPage":[0,1]},"template":{"id":1,"name":"","state":{"t":"resheet.selector","v":0,"mode":"run","expr":"SheetOf(Note)","inner":{"t":"resheet.sheet","v":1,"lines":[{"id":0,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}}]}},"isCollapsed":true,"children":[]}},"prev":0},{"time":1711108903302,"state":{"pages":[{"id":0,"name":"Introduction","state":{"t":"resheet.selector","v":0,"mode":"run","expr":"SheetOf(Note)","inner":{"t":"resheet.sheet","v":1,"lines":[{"id":0,"name":"","visibility":"result","state":{"t":"resheet.note","v":1,"level":0,"input":"= <h1 className=\"flex space-x-2 items-baseline my-2 text-5xl\">\n    <img className=\"h-12\" src={resheet.assets.logoSvg} alt=\"ReSheet Logo\"/>\n    <span>ReSheet</span>\n    <span className=\"text-2xl\">alpha</span>\n  </h1>","note":{"type":"expr","code":" <h1 className=\"flex space-x-2 items-baseline my-2 text-5xl\">\n    <img className=\"h-12\" src={resheet.assets.logoSvg} alt=\"ReSheet Logo\"/>\n    <span>ReSheet</span>\n    <span className=\"text-2xl\">alpha</span>\n  </h1>"}}},{"id":41,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"A notes-spreadsheet-hybrid for programmers.","note":{"type":"text","tag":"p","text":"A notes-spreadsheet-hybrid for programmers."}}},{"id":86,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}},{"id":87,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"Everything in ReSheet is a Block. A Block can be thought of like a cell in a spreadsheet.","note":{"type":"text","tag":"p","text":"Everything in ReSheet is a Block. A Block can be thought of like a cell in a spreadsheet."}}},{"id":85,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"ReSheet is heavily keyboard-focused:","note":{"type":"text","tag":"p","text":"ReSheet is heavily keyboard-focused:"}}},{"id":88,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":1,"input":"Try **⌘K/⌘⇧P** to see all commands for the currently focused block(s). (Also try **⌘?**)","note":{"type":"text","tag":"p","text":"Try **⌘K/⌘⇧P** to see all commands for the currently focused block(s). (Also try **⌘?**)"}}},{"id":89,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":1,"input":"Use the ArrowKeys or `H`/`J`/`K`/`L` and `Enter`/`Escape` to move between Blocks.","note":{"type":"text","tag":"p","text":"Use the ArrowKeys or `H`/`J`/`K`/`L` and `Enter`/`Escape` to move between Blocks."}}},{"id":90,"name":"","visibility":"result","state":{"t":"resheet.note","v":1,"level":0,"input":"= <img className=\"my-4\" alt=\"ReSheet demo animation\" src={resheet.assets.demoGif} />","note":{"type":"expr","code":" <img className=\"my-4\" alt=\"ReSheet demo animation\" src={resheet.assets.demoGif} />"}}},{"id":70,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"## Shortcuts","note":{"type":"text","tag":"h2","text":"Shortcuts"}}},{"id":76,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"*⌘ = Meta = Ctrl (can be used interchangeably, useful if the browser intercepts a variant)*","note":{"type":"text","tag":"p","text":"*⌘ = Meta = Ctrl (can be used interchangeably, useful if the browser intercepts a variant)*"}}},{"id":66,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"Command Search: **⌘K/⌘⇧P**","note":{"type":"text","tag":"p","text":"Command Search: **⌘K/⌘⇧P**"}}},{"id":67,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"Shortcut Suggestions: **⌘?**","note":{"type":"text","tag":"p","text":"Shortcut Suggestions: **⌘?**"}}},{"id":68,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"Navigation: **Arrow Keys/`HJKL`**","note":{"type":"text","tag":"p","text":"Navigation: **Arrow Keys/`HJKL`**"}}},{"id":69,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"Go in/out: **`Enter`/`Escape`**","note":{"type":"text","tag":"p","text":"Go in/out: **`Enter`/`Escape`**"}}},{"id":71,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"## Writing","note":{"type":"text","tag":"h2","text":"Writing"}}},{"id":72,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"Format with Markdown","note":{"type":"text","tag":"p","text":"Format with Markdown"}}},{"id":74,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":1,"input":"<span className=\"text-sm text-gray-800\">(`*italic* **bold** [link text](link url)` etc)</span>","note":{"type":"text","tag":"p","text":"<span className=\"text-sm text-gray-800\">(`*italic* **bold** [link text](link url)` etc)</span>"}}},{"id":7,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"\"Formulas\" (JavaScript) start with `\"=\"`","note":{"type":"text","tag":"p","text":"\"Formulas\" (JavaScript) start with `\"=\"`"}}},{"id":82,"name":"x","visibility":"block","state":{"t":"resheet.note","v":1,"level":1,"input":"= 12","note":{"type":"expr","code":" 12"}}},{"id":84,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":1,"input":"= Math.sqrt(x + x)","note":{"type":"expr","code":" Math.sqrt(x + x)"}}},{"id":80,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":1,"input":"**⌘`Space`** for completions","note":{"type":"text","tag":"p","text":"**⌘`Space`** for completions"}}},{"id":81,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":1,"input":"**⌘`D`** for docs (if available)","note":{"type":"text","tag":"p","text":"**⌘`D`** for docs (if available)"}}}]}},"isCollapsed":false,"children":[{"id":0,"name":"Tips","state":{"t":"resheet.selector","v":0,"mode":"run","expr":"SheetOf(Note)","inner":{"t":"resheet.sheet","v":1,"lines":[{"id":13,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"# Tips","note":{"type":"text","tag":"h1","text":"Tips"}}},{"id":2,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"Your document is automatically backed up to IndexedDB, but gets deleted after 7 days. So don't forget to save it to a local file.","note":{"type":"text","tag":"p","text":"Your document is automatically backed up to IndexedDB, but gets deleted after 7 days. So don't forget to save it to a local file."}}},{"id":3,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}},{"id":4,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"ReSheet gives you the full power of JavaScript and React.","note":{"type":"text","tag":"p","text":"ReSheet gives you the full power of JavaScript and React."}}},{"id":5,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"**Be aware:** You have the **power to break it** (but generally you can undo it – ⌘Z) and full responsibilty to **ensure you trust the code you run**.","note":{"type":"text","tag":"p","text":"**Be aware:** You have the **power to break it** (but generally you can undo it – ⌘Z) and full responsibilty to **ensure you trust the code you run**."}}},{"id":6,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"Also beware of side-effects in your code: Everything is automatically rerun as needed (for changes), so side-effects may execute for every character you type.","note":{"type":"text","tag":"p","text":"Also beware of side-effects in your code: Everything is automatically rerun as needed (for changes), so side-effects may execute for every character you type."}}},{"id":7,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}},{"id":8,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"If a shortcut triggers a browser action, try an alternative key combination by switching ⌘/Meta/Ctrl.","note":{"type":"text","tag":"p","text":"If a shortcut triggers a browser action, try an alternative key combination by switching ⌘/Meta/Ctrl."}}},{"id":9,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":1,"input":"For example:","note":{"type":"text","tag":"p","text":"For example:"}}},{"id":10,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":2,"input":"⌘N = Meta-N = Ctrl-N","note":{"type":"text","tag":"p","text":"⌘N = Meta-N = Ctrl-N"}}},{"id":11,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":2,"input":"⌘⇧P = Meta-Shift-P = Ctrl-Shift-P","note":{"type":"text","tag":"p","text":"⌘⇧P = Meta-Shift-P = Ctrl-Shift-P"}}},{"id":12,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":2,"input":"etc","note":{"type":"text","tag":"p","text":"etc"}}}]}},"isCollapsed":true,"children":[]},{"id":1,"name":"Formulas","state":{"t":"resheet.selector","v":0,"mode":"run","expr":"SheetOf(Note)","inner":{"t":"resheet.sheet","v":1,"lines":[{"id":0,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"# Formulas","note":{"type":"text","tag":"h1","text":"Formulas"}}},{"id":1,"name":"msInADay","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= 24 /*h*/ * 60 /*min*/ * 60 /*sec*/ * 1000 /*ms*/","note":{"type":"expr","code":" 24 /*h*/ * 60 /*min*/ * 60 /*sec*/ * 1000 /*ms*/"}}},{"id":2,"name":"startOfThisYear","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= new Date(new Date().getFullYear(), 0, 1)","note":{"type":"expr","code":" new Date(new Date().getFullYear(), 0, 1)"}}},{"id":3,"name":"daysInThisYear","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= (Date.now() - startOfThisYear.getTime()) / msInADay","note":{"type":"expr","code":" (Date.now() - startOfThisYear.getTime()) / msInADay"}}},{"id":4,"name":"","visibility":"result","state":{"t":"resheet.note","v":1,"level":0,"input":"= // using react:\n<p className=\"py-2\">\n  This year is already {/* preserve the space character before this comment */}\n  {daysInThisYear.toLocaleString(\"en-US\", { maximumFractionDigits: 1 })}\n  {} days long. {}\n  <span className=\"text-sm text-gray-700\">(Select this line and show or hide the code with ⌘M)</span>\n</p>","note":{"type":"expr","code":" // using react:\n<p className=\"py-2\">\n  This year is already {/* preserve the space character before this comment */}\n  {daysInThisYear.toLocaleString(\"en-US\", { maximumFractionDigits: 1 })}\n  {} days long. {}\n  <span className=\"text-sm text-gray-700\">(Select this line and show or hide the code with ⌘M)</span>\n</p>"}}},{"id":5,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"## External Libraries","note":{"type":"text","tag":"h2","text":"External Libraries"}}},{"id":6,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"[esm.sh](https://esm.sh/) works great for loading npm libraries","note":{"type":"text","tag":"p","text":"[esm.sh](https://esm.sh/) works great for loading npm libraries"}}},{"id":14,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"### Number Formatting","note":{"type":"text","tag":"h3","text":"Number Formatting"}}},{"id":7,"name":"numeral","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= import('https://esm.sh/numeral')","note":{"type":"expr","code":" import('https://esm.sh/numeral')"}}},{"id":8,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= numeral.default(123456.789).format('0,0.00')","note":{"type":"expr","code":" numeral.default(123456.789).format('0,0.00')"}}},{"id":10,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"### CSV Parsing","note":{"type":"text","tag":"h3","text":"CSV Parsing"}}},{"id":11,"name":"Papa","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= import('https://esm.sh/papaparse')","note":{"type":"expr","code":" import('https://esm.sh/papaparse')"}}},{"id":12,"name":"csv","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"id,name,age,plan,email\n0,John,28,free,john@example.com\n1,Alice,34,premium,alice@boo\n2,Bob,43,premium,bob@b.b","note":{"type":"text","tag":"p","text":"id,name,age,plan,email\n0,John,28,free,john@example.com\n1,Alice,34,premium,alice@boo\n2,Bob,43,premium,bob@b.b"}}},{"id":13,"name":"data","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= Papa.default.parse(csv.text, { header: true }).data","note":{"type":"expr","code":" Papa.default.parse(csv.text, { header: true }).data"}}},{"id":15,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"### Data Validation","note":{"type":"text","tag":"h3","text":"Data Validation"}}},{"id":16,"name":"validator","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= import('https://esm.sh/validator')","note":{"type":"expr","code":" import('https://esm.sh/validator')"}}},{"id":17,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= data.map(user => ({ ...user, validEmail: validator.default.isEmail(user.email) }))","note":{"type":"expr","code":" data.map(user => ({ ...user, validEmail: validator.default.isEmail(user.email) }))"}}},{"id":18,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"### Data Processing","note":{"type":"text","tag":"h3","text":"Data Processing"}}},{"id":19,"name":"lodash","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= import('https://esm.sh/lodash')","note":{"type":"expr","code":" import('https://esm.sh/lodash')"}}},{"id":20,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= lodash.default.groupBy(data, 'plan')","note":{"type":"expr","code":" lodash.default.groupBy(data, 'plan')"}}},{"id":21,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"### Dates","note":{"type":"text","tag":"h3","text":"Dates"}}},{"id":22,"name":"datefns","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= import('https://esm.sh/date-fns')","note":{"type":"expr","code":" import('https://esm.sh/date-fns')"}}},{"id":23,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= datefns.parse('today', '","note":{"type":"expr","code":" datefns.parse('today', '"}}}]}},"isCollapsed":true,"children":[]},{"id":2,"name":"Markdown","state":{"t":"resheet.selector","v":0,"mode":"run","expr":"SheetOf(Note)","inner":{"t":"resheet.sheet","v":1,"lines":[{"id":0,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"# Markdown","note":{"type":"text","tag":"h1","text":"Markdown"}}},{"id":1,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"*`*italic*`*","note":{"type":"text","tag":"p","text":"*`*italic*`*"}}},{"id":2,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"**`**bold**`**","note":{"type":"text","tag":"p","text":"**`**bold**`**"}}},{"id":3,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"`[a link](url)`","note":{"type":"text","tag":"p","text":"`[a link](url)`"}}},{"id":4,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"- Lists","note":{"type":"text","tag":"li","text":"Lists"}}},{"id":5,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"[ ] Todos","note":{"type":"checkbox","checked":false,"text":"Todos"}}},{"id":6,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"[x] Done","note":{"type":"checkbox","checked":true,"text":"Done"}}},{"id":7,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"`# Headings`","note":{"type":"text","tag":"p","text":"`# Headings`"}}},{"id":8,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"Inline <span className=\"before:block before:absolute before:-inset-0.5 before:-skew-y-1 before:bg-blue-100 relative inline-block\"><span className=\"relative text-blue-950\">Html with [tailwindcss](https://tailwindcss.com/docs/utility-first)</span></span>","note":{"type":"text","tag":"p","text":"Inline <span className=\"before:block before:absolute before:-inset-0.5 before:-skew-y-1 before:bg-blue-100 relative inline-block\"><span className=\"relative text-blue-950\">Html with [tailwindcss](https://tailwindcss.com/docs/utility-first)</span></span>"}}}]}},"isCollapsed":true,"children":[]},{"id":3,"name":"Blocks","state":{"t":"resheet.selector","v":0,"mode":"run","expr":"SheetOf(Note)","inner":{"t":"resheet.sheet","v":1,"lines":[{"id":0,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"# Blocks","note":{"type":"text","tag":"h1","text":"Blocks"}}},{"id":1,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"Blocks are the equivalent to cells in a spreadsheet. Most things in ReSheet are Blocks.","note":{"type":"text","tag":"p","text":"Blocks are the equivalent to cells in a spreadsheet. Most things in ReSheet are Blocks."}}},{"id":3,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}},{"id":2,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"Every line here contains a `Note` Block, which allows writing Markdown or Formulas.","note":{"type":"text","tag":"p","text":"Every line here contains a `Note` Block, which allows writing Markdown or Formulas."}}},{"id":4,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"A `Note` Block also allows using another Block, for example `JSExpr`. Type:","note":{"type":"text","tag":"p","text":"A `Note` Block also allows using another Block, for example `JSExpr`. Type:"}}},{"id":5,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"/blocks.JSExpr","note":{"type":"block","isInstantiated":false,"code":"blocks.JSExpr"}}},{"id":6,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"and hit ⌘`Enter` to use it:","note":{"type":"text","tag":"p","text":"and hit ⌘`Enter` to use it:"}}},{"id":7,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"/blocks.JSExpr","note":{"type":"block","isInstantiated":true,"code":"blocks.JSExpr","state":"// This is a JSExpr Block now\nfunction Mark({ children }) {\n  return (\n    <span className=\"before:block before:absolute before:-inset-0.5 before:-skew-y-2 before:bg-blue-400 relative inline-block\">\n      <span className=\"relative text-white px-0.5 tracking-wide\">\n        {children}\n      </span>\n    </span>\n  )\n}\n\n<p className=\"py-1\">\n  <Mark>Look</Mark> at it!\n</p>"}}},{"id":8,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}},{"id":9,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"All lines here are part of the `SheetOf` Block:","note":{"type":"text","tag":"p","text":"All lines here are part of the `SheetOf` Block:"}}},{"id":10,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"/blocks.SheetOf(blocks.Note)","note":{"type":"block","isInstantiated":false,"code":"blocks.SheetOf(blocks.Note)"}}},{"id":11,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"/blocks.SheetOf(blocks.Note)","note":{"type":"block","isInstantiated":true,"code":"blocks.SheetOf(blocks.Note)","state":{"t":"resheet.sheet","v":1,"lines":[{"id":0,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"Now we have a Sheet inside of a Sheet","note":{"type":"text","tag":"p","text":"Now we have a Sheet inside of a Sheet"}}},{"id":1,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= $9.text","note":{"type":"expr","code":" $9.text"}}}]}}}},{"id":12,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}},{"id":13,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}},{"id":14,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"There are other Blocks available in `blocks`. (Use completion/docs with ⌘`Space`/⌘`D`)","note":{"type":"text","tag":"p","text":"There are other Blocks available in `blocks`. (Use completion/docs with ⌘`Space`/⌘`D`)"}}},{"id":15,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= blocks","note":{"type":"expr","code":" blocks"}}},{"id":16,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}},{"id":17,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"## Custom Blocks","note":{"type":"text","tag":"h2","text":"Custom Blocks"}}},{"id":18,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"You can build your own blocks. For now you either have to shoot me a message or look at the source code of the existing blocks to find out more.","note":{"type":"text","tag":"p","text":"You can build your own blocks. For now you either have to shoot me a message or look at the source code of the existing blocks to find out more."}}},{"id":19,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}},{"id":20,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"Ok, I'll give you a small example:","note":{"type":"text","tag":"p","text":"Ok, I'll give you a small example:"}}},{"id":21,"name":"RAW","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"/blocks.JSExpr","note":{"type":"block","isInstantiated":true,"code":"blocks.JSExpr","state":"resheet.core.block.create({\n  init: \"\",\n  view({ state, dispatch, env }, ref) {\n    return (\n      <textarea\n        ref={ref}\n        value={state}\n        onChange={ev => dispatch(stateBefore => ({ state: ev.target.value }))}\n        rows={state.split('\\n').length}\n        />\n    )\n  },\n  recompute(state, update, env) {\n    return state\n  },\n  getResult(state) {\n    return state\n  },\n  fromJSON(json) {\n    return typeof json === 'string' ? json : ''\n  },\n  toJSON(state) {\n    return state\n  },\n})"}}},{"id":22,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"/RAW","note":{"type":"block","isInstantiated":false,"code":"RAW"}}},{"id":23,"name":"rawText","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"/RAW","note":{"type":"block","isInstantiated":true,"code":"RAW","state":"{\n  \"hello\": \"world\"\n}"}}},{"id":24,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= JSON.parse(rawText)","note":{"type":"expr","code":" JSON.parse(rawText)"}}}]}},"isCollapsed":true,"children":[]}]}],"viewState":{"sidebarOpen":true,"openPage":[0,1]},"template":{"id":1,"name":"","state":{"t":"resheet.selector","v":0,"mode":"run","expr":"SheetOf(Note)","inner":{"t":"resheet.sheet","v":1,"lines":[{"id":0,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}}]}},"isCollapsed":true,"children":[]}},"prev":0},{"time":1711108928937,"state":{"pages":[{"id":0,"name":"Introduction","state":{"t":"resheet.selector","v":0,"mode":"run","expr":"SheetOf(Note)","inner":{"t":"resheet.sheet","v":1,"lines":[{"id":0,"name":"","visibility":"result","state":{"t":"resheet.note","v":1,"level":0,"input":"= <h1 className=\"flex space-x-2 items-baseline my-2 text-5xl\">\n    <img className=\"h-12\" src={resheet.assets.logoSvg} alt=\"ReSheet Logo\"/>\n    <span>ReSheet</span>\n    <span className=\"text-2xl\">alpha</span>\n  </h1>","note":{"type":"expr","code":" <h1 className=\"flex space-x-2 items-baseline my-2 text-5xl\">\n    <img className=\"h-12\" src={resheet.assets.logoSvg} alt=\"ReSheet Logo\"/>\n    <span>ReSheet</span>\n    <span className=\"text-2xl\">alpha</span>\n  </h1>"}}},{"id":41,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"A notes-spreadsheet-hybrid for programmers.","note":{"type":"text","tag":"p","text":"A notes-spreadsheet-hybrid for programmers."}}},{"id":86,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}},{"id":87,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"Everything in ReSheet is a Block. A Block can be thought of like a cell in a spreadsheet.","note":{"type":"text","tag":"p","text":"Everything in ReSheet is a Block. A Block can be thought of like a cell in a spreadsheet."}}},{"id":85,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"ReSheet is heavily keyboard-focused:","note":{"type":"text","tag":"p","text":"ReSheet is heavily keyboard-focused:"}}},{"id":88,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":1,"input":"Try **⌘K/⌘⇧P** to see all commands for the currently focused block(s). (Also try **⌘?**)","note":{"type":"text","tag":"p","text":"Try **⌘K/⌘⇧P** to see all commands for the currently focused block(s). (Also try **⌘?**)"}}},{"id":89,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":1,"input":"Use the ArrowKeys or `H`/`J`/`K`/`L` and `Enter`/`Escape` to move between Blocks.","note":{"type":"text","tag":"p","text":"Use the ArrowKeys or `H`/`J`/`K`/`L` and `Enter`/`Escape` to move between Blocks."}}},{"id":90,"name":"","visibility":"result","state":{"t":"resheet.note","v":1,"level":0,"input":"= <img className=\"my-4\" alt=\"ReSheet demo animation\" src={resheet.assets.demoGif} />","note":{"type":"expr","code":" <img className=\"my-4\" alt=\"ReSheet demo animation\" src={resheet.assets.demoGif} />"}}},{"id":70,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"## Shortcuts","note":{"type":"text","tag":"h2","text":"Shortcuts"}}},{"id":76,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"*⌘ = Meta = Ctrl (can be used interchangeably, useful if the browser intercepts a variant)*","note":{"type":"text","tag":"p","text":"*⌘ = Meta = Ctrl (can be used interchangeably, useful if the browser intercepts a variant)*"}}},{"id":66,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"Command Search: **⌘K/⌘⇧P**","note":{"type":"text","tag":"p","text":"Command Search: **⌘K/⌘⇧P**"}}},{"id":67,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"Shortcut Suggestions: **⌘?**","note":{"type":"text","tag":"p","text":"Shortcut Suggestions: **⌘?**"}}},{"id":68,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"Navigation: **Arrow Keys/`HJKL`**","note":{"type":"text","tag":"p","text":"Navigation: **Arrow Keys/`HJKL`**"}}},{"id":69,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"Go in/out: **`Enter`/`Escape`**","note":{"type":"text","tag":"p","text":"Go in/out: **`Enter`/`Escape`**"}}},{"id":71,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"## Writing","note":{"type":"text","tag":"h2","text":"Writing"}}},{"id":72,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"Format with Markdown","note":{"type":"text","tag":"p","text":"Format with Markdown"}}},{"id":74,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":1,"input":"<span className=\"text-sm text-gray-800\">(`*italic* **bold** [link text](link url)` etc)</span>","note":{"type":"text","tag":"p","text":"<span className=\"text-sm text-gray-800\">(`*italic* **bold** [link text](link url)` etc)</span>"}}},{"id":7,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"\"Formulas\" (JavaScript) start with `\"=\"`","note":{"type":"text","tag":"p","text":"\"Formulas\" (JavaScript) start with `\"=\"`"}}},{"id":82,"name":"x","visibility":"block","state":{"t":"resheet.note","v":1,"level":1,"input":"= 12","note":{"type":"expr","code":" 12"}}},{"id":84,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":1,"input":"= Math.sqrt(x + x)","note":{"type":"expr","code":" Math.sqrt(x + x)"}}},{"id":80,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":1,"input":"**⌘`Space`** for completions","note":{"type":"text","tag":"p","text":"**⌘`Space`** for completions"}}},{"id":81,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":1,"input":"**⌘`D`** for docs (if available)","note":{"type":"text","tag":"p","text":"**⌘`D`** for docs (if available)"}}}]}},"isCollapsed":false,"children":[{"id":0,"name":"Tips","state":{"t":"resheet.selector","v":0,"mode":"run","expr":"SheetOf(Note)","inner":{"t":"resheet.sheet","v":1,"lines":[{"id":13,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"# Tips","note":{"type":"text","tag":"h1","text":"Tips"}}},{"id":2,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"Your document is automatically backed up to IndexedDB, but gets deleted after 7 days. So don't forget to save it to a local file.","note":{"type":"text","tag":"p","text":"Your document is automatically backed up to IndexedDB, but gets deleted after 7 days. So don't forget to save it to a local file."}}},{"id":3,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}},{"id":4,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"ReSheet gives you the full power of JavaScript and React.","note":{"type":"text","tag":"p","text":"ReSheet gives you the full power of JavaScript and React."}}},{"id":5,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"**Be aware:** You have the **power to break it** (but generally you can undo it – ⌘Z) and full responsibilty to **ensure you trust the code you run**.","note":{"type":"text","tag":"p","text":"**Be aware:** You have the **power to break it** (but generally you can undo it – ⌘Z) and full responsibilty to **ensure you trust the code you run**."}}},{"id":6,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"Also beware of side-effects in your code: Everything is automatically rerun as needed (for changes), so side-effects may execute for every character you type.","note":{"type":"text","tag":"p","text":"Also beware of side-effects in your code: Everything is automatically rerun as needed (for changes), so side-effects may execute for every character you type."}}},{"id":7,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}},{"id":8,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"If a shortcut triggers a browser action, try an alternative key combination by switching ⌘/Meta/Ctrl.","note":{"type":"text","tag":"p","text":"If a shortcut triggers a browser action, try an alternative key combination by switching ⌘/Meta/Ctrl."}}},{"id":9,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":1,"input":"For example:","note":{"type":"text","tag":"p","text":"For example:"}}},{"id":10,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":2,"input":"⌘N = Meta-N = Ctrl-N","note":{"type":"text","tag":"p","text":"⌘N = Meta-N = Ctrl-N"}}},{"id":11,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":2,"input":"⌘⇧P = Meta-Shift-P = Ctrl-Shift-P","note":{"type":"text","tag":"p","text":"⌘⇧P = Meta-Shift-P = Ctrl-Shift-P"}}},{"id":12,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":2,"input":"etc","note":{"type":"text","tag":"p","text":"etc"}}}]}},"isCollapsed":true,"children":[]},{"id":1,"name":"Formulas","state":{"t":"resheet.selector","v":0,"mode":"run","expr":"SheetOf(Note)","inner":{"t":"resheet.sheet","v":1,"lines":[{"id":0,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"# Formulas","note":{"type":"text","tag":"h1","text":"Formulas"}}},{"id":1,"name":"msInADay","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= 24 /*h*/ * 60 /*min*/ * 60 /*sec*/ * 1000 /*ms*/","note":{"type":"expr","code":" 24 /*h*/ * 60 /*min*/ * 60 /*sec*/ * 1000 /*ms*/"}}},{"id":2,"name":"startOfThisYear","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= new Date(new Date().getFullYear(), 0, 1)","note":{"type":"expr","code":" new Date(new Date().getFullYear(), 0, 1)"}}},{"id":3,"name":"daysInThisYear","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= (Date.now() - startOfThisYear.getTime()) / msInADay","note":{"type":"expr","code":" (Date.now() - startOfThisYear.getTime()) / msInADay"}}},{"id":4,"name":"","visibility":"result","state":{"t":"resheet.note","v":1,"level":0,"input":"= // using react:\n<p className=\"py-2\">\n  This year is already {/* preserve the space character before this comment */}\n  {daysInThisYear.toLocaleString(\"en-US\", { maximumFractionDigits: 1 })}\n  {} days long. {}\n  <span className=\"text-sm text-gray-700\">(Select this line and show or hide the code with ⌘M)</span>\n</p>","note":{"type":"expr","code":" // using react:\n<p className=\"py-2\">\n  This year is already {/* preserve the space character before this comment */}\n  {daysInThisYear.toLocaleString(\"en-US\", { maximumFractionDigits: 1 })}\n  {} days long. {}\n  <span className=\"text-sm text-gray-700\">(Select this line and show or hide the code with ⌘M)</span>\n</p>"}}},{"id":5,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"## External Libraries","note":{"type":"text","tag":"h2","text":"External Libraries"}}},{"id":6,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"[esm.sh](https://esm.sh/) works great for loading npm libraries","note":{"type":"text","tag":"p","text":"[esm.sh](https://esm.sh/) works great for loading npm libraries"}}},{"id":14,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"### Number Formatting","note":{"type":"text","tag":"h3","text":"Number Formatting"}}},{"id":7,"name":"numeral","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= import('https://esm.sh/numeral')","note":{"type":"expr","code":" import('https://esm.sh/numeral')"}}},{"id":8,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= numeral.default(123456.789).format('0,0.00')","note":{"type":"expr","code":" numeral.default(123456.789).format('0,0.00')"}}},{"id":10,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"### CSV Parsing","note":{"type":"text","tag":"h3","text":"CSV Parsing"}}},{"id":11,"name":"Papa","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= import('https://esm.sh/papaparse')","note":{"type":"expr","code":" import('https://esm.sh/papaparse')"}}},{"id":12,"name":"csv","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"id,name,age,plan,email\n0,John,28,free,john@example.com\n1,Alice,34,premium,alice@boo\n2,Bob,43,premium,bob@b.b","note":{"type":"text","tag":"p","text":"id,name,age,plan,email\n0,John,28,free,john@example.com\n1,Alice,34,premium,alice@boo\n2,Bob,43,premium,bob@b.b"}}},{"id":13,"name":"data","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= Papa.default.parse(csv.text, { header: true }).data","note":{"type":"expr","code":" Papa.default.parse(csv.text, { header: true }).data"}}},{"id":15,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"### Data Validation","note":{"type":"text","tag":"h3","text":"Data Validation"}}},{"id":16,"name":"validator","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= import('https://esm.sh/validator')","note":{"type":"expr","code":" import('https://esm.sh/validator')"}}},{"id":17,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= data.map(user => ({ ...user, validEmail: validator.default.isEmail(user.email) }))","note":{"type":"expr","code":" data.map(user => ({ ...user, validEmail: validator.default.isEmail(user.email) }))"}}},{"id":18,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"### Data Processing","note":{"type":"text","tag":"h3","text":"Data Processing"}}},{"id":19,"name":"lodash","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= import('https://esm.sh/lodash')","note":{"type":"expr","code":" import('https://esm.sh/lodash')"}}},{"id":20,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= lodash.default.groupBy(data, 'plan')","note":{"type":"expr","code":" lodash.default.groupBy(data, 'plan')"}}},{"id":21,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"### Dates","note":{"type":"text","tag":"h3","text":"Dates"}}},{"id":22,"name":"datefns","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= import('https://esm.sh/date-fns')","note":{"type":"expr","code":" import('https://esm.sh/date-fns')"}}},{"id":23,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= datefns.parse('', 'B', new Date())","note":{"type":"expr","code":" datefns.parse('', 'B', new Date())"}}}]}},"isCollapsed":true,"children":[]},{"id":2,"name":"Markdown","state":{"t":"resheet.selector","v":0,"mode":"run","expr":"SheetOf(Note)","inner":{"t":"resheet.sheet","v":1,"lines":[{"id":0,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"# Markdown","note":{"type":"text","tag":"h1","text":"Markdown"}}},{"id":1,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"*`*italic*`*","note":{"type":"text","tag":"p","text":"*`*italic*`*"}}},{"id":2,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"**`**bold**`**","note":{"type":"text","tag":"p","text":"**`**bold**`**"}}},{"id":3,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"`[a link](url)`","note":{"type":"text","tag":"p","text":"`[a link](url)`"}}},{"id":4,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"- Lists","note":{"type":"text","tag":"li","text":"Lists"}}},{"id":5,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"[ ] Todos","note":{"type":"checkbox","checked":false,"text":"Todos"}}},{"id":6,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"[x] Done","note":{"type":"checkbox","checked":true,"text":"Done"}}},{"id":7,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"`# Headings`","note":{"type":"text","tag":"p","text":"`# Headings`"}}},{"id":8,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"Inline <span className=\"before:block before:absolute before:-inset-0.5 before:-skew-y-1 before:bg-blue-100 relative inline-block\"><span className=\"relative text-blue-950\">Html with [tailwindcss](https://tailwindcss.com/docs/utility-first)</span></span>","note":{"type":"text","tag":"p","text":"Inline <span className=\"before:block before:absolute before:-inset-0.5 before:-skew-y-1 before:bg-blue-100 relative inline-block\"><span className=\"relative text-blue-950\">Html with [tailwindcss](https://tailwindcss.com/docs/utility-first)</span></span>"}}}]}},"isCollapsed":true,"children":[]},{"id":3,"name":"Blocks","state":{"t":"resheet.selector","v":0,"mode":"run","expr":"SheetOf(Note)","inner":{"t":"resheet.sheet","v":1,"lines":[{"id":0,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"# Blocks","note":{"type":"text","tag":"h1","text":"Blocks"}}},{"id":1,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"Blocks are the equivalent to cells in a spreadsheet. Most things in ReSheet are Blocks.","note":{"type":"text","tag":"p","text":"Blocks are the equivalent to cells in a spreadsheet. Most things in ReSheet are Blocks."}}},{"id":3,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}},{"id":2,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"Every line here contains a `Note` Block, which allows writing Markdown or Formulas.","note":{"type":"text","tag":"p","text":"Every line here contains a `Note` Block, which allows writing Markdown or Formulas."}}},{"id":4,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"A `Note` Block also allows using another Block, for example `JSExpr`. Type:","note":{"type":"text","tag":"p","text":"A `Note` Block also allows using another Block, for example `JSExpr`. Type:"}}},{"id":5,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"/blocks.JSExpr","note":{"type":"block","isInstantiated":false,"code":"blocks.JSExpr"}}},{"id":6,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"and hit ⌘`Enter` to use it:","note":{"type":"text","tag":"p","text":"and hit ⌘`Enter` to use it:"}}},{"id":7,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"/blocks.JSExpr","note":{"type":"block","isInstantiated":true,"code":"blocks.JSExpr","state":"// This is a JSExpr Block now\nfunction Mark({ children }) {\n  return (\n    <span className=\"before:block before:absolute before:-inset-0.5 before:-skew-y-2 before:bg-blue-400 relative inline-block\">\n      <span className=\"relative text-white px-0.5 tracking-wide\">\n        {children}\n      </span>\n    </span>\n  )\n}\n\n<p className=\"py-1\">\n  <Mark>Look</Mark> at it!\n</p>"}}},{"id":8,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}},{"id":9,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"All lines here are part of the `SheetOf` Block:","note":{"type":"text","tag":"p","text":"All lines here are part of the `SheetOf` Block:"}}},{"id":10,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"/blocks.SheetOf(blocks.Note)","note":{"type":"block","isInstantiated":false,"code":"blocks.SheetOf(blocks.Note)"}}},{"id":11,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"/blocks.SheetOf(blocks.Note)","note":{"type":"block","isInstantiated":true,"code":"blocks.SheetOf(blocks.Note)","state":{"t":"resheet.sheet","v":1,"lines":[{"id":0,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"Now we have a Sheet inside of a Sheet","note":{"type":"text","tag":"p","text":"Now we have a Sheet inside of a Sheet"}}},{"id":1,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= $9.text","note":{"type":"expr","code":" $9.text"}}}]}}}},{"id":12,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}},{"id":13,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}},{"id":14,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"There are other Blocks available in `blocks`. (Use completion/docs with ⌘`Space`/⌘`D`)","note":{"type":"text","tag":"p","text":"There are other Blocks available in `blocks`. (Use completion/docs with ⌘`Space`/⌘`D`)"}}},{"id":15,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= blocks","note":{"type":"expr","code":" blocks"}}},{"id":16,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}},{"id":17,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"## Custom Blocks","note":{"type":"text","tag":"h2","text":"Custom Blocks"}}},{"id":18,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"You can build your own blocks. For now you either have to shoot me a message or look at the source code of the existing blocks to find out more.","note":{"type":"text","tag":"p","text":"You can build your own blocks. For now you either have to shoot me a message or look at the source code of the existing blocks to find out more."}}},{"id":19,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}},{"id":20,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"Ok, I'll give you a small example:","note":{"type":"text","tag":"p","text":"Ok, I'll give you a small example:"}}},{"id":21,"name":"RAW","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"/blocks.JSExpr","note":{"type":"block","isInstantiated":true,"code":"blocks.JSExpr","state":"resheet.core.block.create({\n  init: \"\",\n  view({ state, dispatch, env }, ref) {\n    return (\n      <textarea\n        ref={ref}\n        value={state}\n        onChange={ev => dispatch(stateBefore => ({ state: ev.target.value }))}\n        rows={state.split('\\n').length}\n        />\n    )\n  },\n  recompute(state, update, env) {\n    return state\n  },\n  getResult(state) {\n    return state\n  },\n  fromJSON(json) {\n    return typeof json === 'string' ? json : ''\n  },\n  toJSON(state) {\n    return state\n  },\n})"}}},{"id":22,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"/RAW","note":{"type":"block","isInstantiated":false,"code":"RAW"}}},{"id":23,"name":"rawText","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"/RAW","note":{"type":"block","isInstantiated":true,"code":"RAW","state":"{\n  \"hello\": \"world\"\n}"}}},{"id":24,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= JSON.parse(rawText)","note":{"type":"expr","code":" JSON.parse(rawText)"}}}]}},"isCollapsed":true,"children":[]}]}],"viewState":{"sidebarOpen":true,"openPage":[0,1]},"template":{"id":1,"name":"","state":{"t":"resheet.selector","v":0,"mode":"run","expr":"SheetOf(Note)","inner":{"t":"resheet.sheet","v":1,"lines":[{"id":0,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}}]}},"isCollapsed":true,"children":[]}},"prev":0},{"time":1711108960676,"state":{"pages":[{"id":0,"name":"Introduction","state":{"t":"resheet.selector","v":0,"mode":"run","expr":"SheetOf(Note)","inner":{"t":"resheet.sheet","v":1,"lines":[{"id":0,"name":"","visibility":"result","state":{"t":"resheet.note","v":1,"level":0,"input":"= <h1 className=\"flex space-x-2 items-baseline my-2 text-5xl\">\n    <img className=\"h-12\" src={resheet.assets.logoSvg} alt=\"ReSheet Logo\"/>\n    <span>ReSheet</span>\n    <span className=\"text-2xl\">alpha</span>\n  </h1>","note":{"type":"expr","code":" <h1 className=\"flex space-x-2 items-baseline my-2 text-5xl\">\n    <img className=\"h-12\" src={resheet.assets.logoSvg} alt=\"ReSheet Logo\"/>\n    <span>ReSheet</span>\n    <span className=\"text-2xl\">alpha</span>\n  </h1>"}}},{"id":41,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"A notes-spreadsheet-hybrid for programmers.","note":{"type":"text","tag":"p","text":"A notes-spreadsheet-hybrid for programmers."}}},{"id":86,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}},{"id":87,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"Everything in ReSheet is a Block. A Block can be thought of like a cell in a spreadsheet.","note":{"type":"text","tag":"p","text":"Everything in ReSheet is a Block. A Block can be thought of like a cell in a spreadsheet."}}},{"id":85,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"ReSheet is heavily keyboard-focused:","note":{"type":"text","tag":"p","text":"ReSheet is heavily keyboard-focused:"}}},{"id":88,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":1,"input":"Try **⌘K/⌘⇧P** to see all commands for the currently focused block(s). (Also try **⌘?**)","note":{"type":"text","tag":"p","text":"Try **⌘K/⌘⇧P** to see all commands for the currently focused block(s). (Also try **⌘?**)"}}},{"id":89,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":1,"input":"Use the ArrowKeys or `H`/`J`/`K`/`L` and `Enter`/`Escape` to move between Blocks.","note":{"type":"text","tag":"p","text":"Use the ArrowKeys or `H`/`J`/`K`/`L` and `Enter`/`Escape` to move between Blocks."}}},{"id":90,"name":"","visibility":"result","state":{"t":"resheet.note","v":1,"level":0,"input":"= <img className=\"my-4\" alt=\"ReSheet demo animation\" src={resheet.assets.demoGif} />","note":{"type":"expr","code":" <img className=\"my-4\" alt=\"ReSheet demo animation\" src={resheet.assets.demoGif} />"}}},{"id":70,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"## Shortcuts","note":{"type":"text","tag":"h2","text":"Shortcuts"}}},{"id":76,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"*⌘ = Meta = Ctrl (can be used interchangeably, useful if the browser intercepts a variant)*","note":{"type":"text","tag":"p","text":"*⌘ = Meta = Ctrl (can be used interchangeably, useful if the browser intercepts a variant)*"}}},{"id":66,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"Command Search: **⌘K/⌘⇧P**","note":{"type":"text","tag":"p","text":"Command Search: **⌘K/⌘⇧P**"}}},{"id":67,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"Shortcut Suggestions: **⌘?**","note":{"type":"text","tag":"p","text":"Shortcut Suggestions: **⌘?**"}}},{"id":68,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"Navigation: **Arrow Keys/`HJKL`**","note":{"type":"text","tag":"p","text":"Navigation: **Arrow Keys/`HJKL`**"}}},{"id":69,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"Go in/out: **`Enter`/`Escape`**","note":{"type":"text","tag":"p","text":"Go in/out: **`Enter`/`Escape`**"}}},{"id":71,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"## Writing","note":{"type":"text","tag":"h2","text":"Writing"}}},{"id":72,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"Format with Markdown","note":{"type":"text","tag":"p","text":"Format with Markdown"}}},{"id":74,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":1,"input":"<span className=\"text-sm text-gray-800\">(`*italic* **bold** [link text](link url)` etc)</span>","note":{"type":"text","tag":"p","text":"<span className=\"text-sm text-gray-800\">(`*italic* **bold** [link text](link url)` etc)</span>"}}},{"id":7,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"\"Formulas\" (JavaScript) start with `\"=\"`","note":{"type":"text","tag":"p","text":"\"Formulas\" (JavaScript) start with `\"=\"`"}}},{"id":82,"name":"x","visibility":"block","state":{"t":"resheet.note","v":1,"level":1,"input":"= 12","note":{"type":"expr","code":" 12"}}},{"id":84,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":1,"input":"= Math.sqrt(x + x)","note":{"type":"expr","code":" Math.sqrt(x + x)"}}},{"id":80,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":1,"input":"**⌘`Space`** for completions","note":{"type":"text","tag":"p","text":"**⌘`Space`** for completions"}}},{"id":81,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":1,"input":"**⌘`D`** for docs (if available)","note":{"type":"text","tag":"p","text":"**⌘`D`** for docs (if available)"}}}]}},"isCollapsed":false,"children":[{"id":0,"name":"Tips","state":{"t":"resheet.selector","v":0,"mode":"run","expr":"SheetOf(Note)","inner":{"t":"resheet.sheet","v":1,"lines":[{"id":13,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"# Tips","note":{"type":"text","tag":"h1","text":"Tips"}}},{"id":2,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"Your document is automatically backed up to IndexedDB, but gets deleted after 7 days. So don't forget to save it to a local file.","note":{"type":"text","tag":"p","text":"Your document is automatically backed up to IndexedDB, but gets deleted after 7 days. So don't forget to save it to a local file."}}},{"id":3,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}},{"id":4,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"ReSheet gives you the full power of JavaScript and React.","note":{"type":"text","tag":"p","text":"ReSheet gives you the full power of JavaScript and React."}}},{"id":5,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"**Be aware:** You have the **power to break it** (but generally you can undo it – ⌘Z) and full responsibilty to **ensure you trust the code you run**.","note":{"type":"text","tag":"p","text":"**Be aware:** You have the **power to break it** (but generally you can undo it – ⌘Z) and full responsibilty to **ensure you trust the code you run**."}}},{"id":6,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"Also beware of side-effects in your code: Everything is automatically rerun as needed (for changes), so side-effects may execute for every character you type.","note":{"type":"text","tag":"p","text":"Also beware of side-effects in your code: Everything is automatically rerun as needed (for changes), so side-effects may execute for every character you type."}}},{"id":7,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}},{"id":8,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"If a shortcut triggers a browser action, try an alternative key combination by switching ⌘/Meta/Ctrl.","note":{"type":"text","tag":"p","text":"If a shortcut triggers a browser action, try an alternative key combination by switching ⌘/Meta/Ctrl."}}},{"id":9,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":1,"input":"For example:","note":{"type":"text","tag":"p","text":"For example:"}}},{"id":10,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":2,"input":"⌘N = Meta-N = Ctrl-N","note":{"type":"text","tag":"p","text":"⌘N = Meta-N = Ctrl-N"}}},{"id":11,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":2,"input":"⌘⇧P = Meta-Shift-P = Ctrl-Shift-P","note":{"type":"text","tag":"p","text":"⌘⇧P = Meta-Shift-P = Ctrl-Shift-P"}}},{"id":12,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":2,"input":"etc","note":{"type":"text","tag":"p","text":"etc"}}}]}},"isCollapsed":true,"children":[]},{"id":1,"name":"Formulas","state":{"t":"resheet.selector","v":0,"mode":"run","expr":"SheetOf(Note)","inner":{"t":"resheet.sheet","v":1,"lines":[{"id":0,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"# Formulas","note":{"type":"text","tag":"h1","text":"Formulas"}}},{"id":1,"name":"msInADay","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= 24 /*h*/ * 60 /*min*/ * 60 /*sec*/ * 1000 /*ms*/","note":{"type":"expr","code":" 24 /*h*/ * 60 /*min*/ * 60 /*sec*/ * 1000 /*ms*/"}}},{"id":2,"name":"startOfThisYear","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= new Date(new Date().getFullYear(), 0, 1)","note":{"type":"expr","code":" new Date(new Date().getFullYear(), 0, 1)"}}},{"id":3,"name":"daysInThisYear","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= (Date.now() - startOfThisYear.getTime()) / msInADay","note":{"type":"expr","code":" (Date.now() - startOfThisYear.getTime()) / msInADay"}}},{"id":4,"name":"","visibility":"result","state":{"t":"resheet.note","v":1,"level":0,"input":"= // using react:\n<p className=\"py-2\">\n  This year is already {/* preserve the space character before this comment */}\n  {daysInThisYear.toLocaleString(\"en-US\", { maximumFractionDigits: 1 })}\n  {} days long. {}\n  <span className=\"text-sm text-gray-700\">(Select this line and show or hide the code with ⌘M)</span>\n</p>","note":{"type":"expr","code":" // using react:\n<p className=\"py-2\">\n  This year is already {/* preserve the space character before this comment */}\n  {daysInThisYear.toLocaleString(\"en-US\", { maximumFractionDigits: 1 })}\n  {} days long. {}\n  <span className=\"text-sm text-gray-700\">(Select this line and show or hide the code with ⌘M)</span>\n</p>"}}},{"id":5,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"## External Libraries","note":{"type":"text","tag":"h2","text":"External Libraries"}}},{"id":6,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"[esm.sh](https://esm.sh/) works great for loading npm libraries","note":{"type":"text","tag":"p","text":"[esm.sh](https://esm.sh/) works great for loading npm libraries"}}},{"id":14,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"### Number Formatting","note":{"type":"text","tag":"h3","text":"Number Formatting"}}},{"id":7,"name":"numeral","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= import('https://esm.sh/numeral')","note":{"type":"expr","code":" import('https://esm.sh/numeral')"}}},{"id":8,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= numeral.default(123456.789).format('0,0.00')","note":{"type":"expr","code":" numeral.default(123456.789).format('0,0.00')"}}},{"id":10,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"### CSV Parsing","note":{"type":"text","tag":"h3","text":"CSV Parsing"}}},{"id":11,"name":"Papa","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= import('https://esm.sh/papaparse')","note":{"type":"expr","code":" import('https://esm.sh/papaparse')"}}},{"id":12,"name":"csv","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"id,name,age,plan,email\n0,John,28,free,john@example.com\n1,Alice,34,premium,alice@boo\n2,Bob,43,premium,bob@b.b","note":{"type":"text","tag":"p","text":"id,name,age,plan,email\n0,John,28,free,john@example.com\n1,Alice,34,premium,alice@boo\n2,Bob,43,premium,bob@b.b"}}},{"id":13,"name":"data","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= Papa.default.parse(csv.text, { header: true }).data","note":{"type":"expr","code":" Papa.default.parse(csv.text, { header: true }).data"}}},{"id":15,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"### Data Validation","note":{"type":"text","tag":"h3","text":"Data Validation"}}},{"id":16,"name":"validator","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= import('https://esm.sh/validator')","note":{"type":"expr","code":" import('https://esm.sh/validator')"}}},{"id":17,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= data.map(user => ({ ...user, validEmail: validator.default.isEmail(user.email) }))","note":{"type":"expr","code":" data.map(user => ({ ...user, validEmail: validator.default.isEmail(user.email) }))"}}},{"id":18,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"### Data Processing","note":{"type":"text","tag":"h3","text":"Data Processing"}}},{"id":19,"name":"lodash","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= import('https://esm.sh/lodash')","note":{"type":"expr","code":" import('https://esm.sh/lodash')"}}},{"id":20,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= lodash.default.groupBy(data, 'plan')","note":{"type":"expr","code":" lodash.default.groupBy(data, 'plan')"}}},{"id":21,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"### Dates","note":{"type":"text","tag":"h3","text":"Dates"}}},{"id":22,"name":"datefns","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= import('https://esm.sh/date-fns')","note":{"type":"expr","code":" import('https://esm.sh/date-fns')"}}},{"id":23,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= datefns.parse('midnight', 'B', new Date())","note":{"type":"expr","code":" datefns.parse('midnight', 'B', new Date())"}}},{"id":24,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"### Charts","note":{"type":"text","tag":"h3","text":"Charts"}}},{"id":25,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= import","note":{"type":"expr","code":" import"}}}]}},"isCollapsed":true,"children":[]},{"id":2,"name":"Markdown","state":{"t":"resheet.selector","v":0,"mode":"run","expr":"SheetOf(Note)","inner":{"t":"resheet.sheet","v":1,"lines":[{"id":0,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"# Markdown","note":{"type":"text","tag":"h1","text":"Markdown"}}},{"id":1,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"*`*italic*`*","note":{"type":"text","tag":"p","text":"*`*italic*`*"}}},{"id":2,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"**`**bold**`**","note":{"type":"text","tag":"p","text":"**`**bold**`**"}}},{"id":3,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"`[a link](url)`","note":{"type":"text","tag":"p","text":"`[a link](url)`"}}},{"id":4,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"- Lists","note":{"type":"text","tag":"li","text":"Lists"}}},{"id":5,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"[ ] Todos","note":{"type":"checkbox","checked":false,"text":"Todos"}}},{"id":6,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"[x] Done","note":{"type":"checkbox","checked":true,"text":"Done"}}},{"id":7,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"`# Headings`","note":{"type":"text","tag":"p","text":"`# Headings`"}}},{"id":8,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"Inline <span className=\"before:block before:absolute before:-inset-0.5 before:-skew-y-1 before:bg-blue-100 relative inline-block\"><span className=\"relative text-blue-950\">Html with [tailwindcss](https://tailwindcss.com/docs/utility-first)</span></span>","note":{"type":"text","tag":"p","text":"Inline <span className=\"before:block before:absolute before:-inset-0.5 before:-skew-y-1 before:bg-blue-100 relative inline-block\"><span className=\"relative text-blue-950\">Html with [tailwindcss](https://tailwindcss.com/docs/utility-first)</span></span>"}}}]}},"isCollapsed":true,"children":[]},{"id":3,"name":"Blocks","state":{"t":"resheet.selector","v":0,"mode":"run","expr":"SheetOf(Note)","inner":{"t":"resheet.sheet","v":1,"lines":[{"id":0,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"# Blocks","note":{"type":"text","tag":"h1","text":"Blocks"}}},{"id":1,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"Blocks are the equivalent to cells in a spreadsheet. Most things in ReSheet are Blocks.","note":{"type":"text","tag":"p","text":"Blocks are the equivalent to cells in a spreadsheet. Most things in ReSheet are Blocks."}}},{"id":3,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}},{"id":2,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"Every line here contains a `Note` Block, which allows writing Markdown or Formulas.","note":{"type":"text","tag":"p","text":"Every line here contains a `Note` Block, which allows writing Markdown or Formulas."}}},{"id":4,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"A `Note` Block also allows using another Block, for example `JSExpr`. Type:","note":{"type":"text","tag":"p","text":"A `Note` Block also allows using another Block, for example `JSExpr`. Type:"}}},{"id":5,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"/blocks.JSExpr","note":{"type":"block","isInstantiated":false,"code":"blocks.JSExpr"}}},{"id":6,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"and hit ⌘`Enter` to use it:","note":{"type":"text","tag":"p","text":"and hit ⌘`Enter` to use it:"}}},{"id":7,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"/blocks.JSExpr","note":{"type":"block","isInstantiated":true,"code":"blocks.JSExpr","state":"// This is a JSExpr Block now\nfunction Mark({ children }) {\n  return (\n    <span className=\"before:block before:absolute before:-inset-0.5 before:-skew-y-2 before:bg-blue-400 relative inline-block\">\n      <span className=\"relative text-white px-0.5 tracking-wide\">\n        {children}\n      </span>\n    </span>\n  )\n}\n\n<p className=\"py-1\">\n  <Mark>Look</Mark> at it!\n</p>"}}},{"id":8,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}},{"id":9,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"All lines here are part of the `SheetOf` Block:","note":{"type":"text","tag":"p","text":"All lines here are part of the `SheetOf` Block:"}}},{"id":10,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"/blocks.SheetOf(blocks.Note)","note":{"type":"block","isInstantiated":false,"code":"blocks.SheetOf(blocks.Note)"}}},{"id":11,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"/blocks.SheetOf(blocks.Note)","note":{"type":"block","isInstantiated":true,"code":"blocks.SheetOf(blocks.Note)","state":{"t":"resheet.sheet","v":1,"lines":[{"id":0,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"Now we have a Sheet inside of a Sheet","note":{"type":"text","tag":"p","text":"Now we have a Sheet inside of a Sheet"}}},{"id":1,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= $9.text","note":{"type":"expr","code":" $9.text"}}}]}}}},{"id":12,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}},{"id":13,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}},{"id":14,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"There are other Blocks available in `blocks`. (Use completion/docs with ⌘`Space`/⌘`D`)","note":{"type":"text","tag":"p","text":"There are other Blocks available in `blocks`. (Use completion/docs with ⌘`Space`/⌘`D`)"}}},{"id":15,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= blocks","note":{"type":"expr","code":" blocks"}}},{"id":16,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}},{"id":17,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"## Custom Blocks","note":{"type":"text","tag":"h2","text":"Custom Blocks"}}},{"id":18,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"You can build your own blocks. For now you either have to shoot me a message or look at the source code of the existing blocks to find out more.","note":{"type":"text","tag":"p","text":"You can build your own blocks. For now you either have to shoot me a message or look at the source code of the existing blocks to find out more."}}},{"id":19,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}},{"id":20,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"Ok, I'll give you a small example:","note":{"type":"text","tag":"p","text":"Ok, I'll give you a small example:"}}},{"id":21,"name":"RAW","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"/blocks.JSExpr","note":{"type":"block","isInstantiated":true,"code":"blocks.JSExpr","state":"resheet.core.block.create({\n  init: \"\",\n  view({ state, dispatch, env }, ref) {\n    return (\n      <textarea\n        ref={ref}\n        value={state}\n        onChange={ev => dispatch(stateBefore => ({ state: ev.target.value }))}\n        rows={state.split('\\n').length}\n        />\n    )\n  },\n  recompute(state, update, env) {\n    return state\n  },\n  getResult(state) {\n    return state\n  },\n  fromJSON(json) {\n    return typeof json === 'string' ? json : ''\n  },\n  toJSON(state) {\n    return state\n  },\n})"}}},{"id":22,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"/RAW","note":{"type":"block","isInstantiated":false,"code":"RAW"}}},{"id":23,"name":"rawText","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"/RAW","note":{"type":"block","isInstantiated":true,"code":"RAW","state":"{\n  \"hello\": \"world\"\n}"}}},{"id":24,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= JSON.parse(rawText)","note":{"type":"expr","code":" JSON.parse(rawText)"}}}]}},"isCollapsed":true,"children":[]}]}],"viewState":{"sidebarOpen":true,"openPage":[0,1]},"template":{"id":1,"name":"","state":{"t":"resheet.selector","v":0,"mode":"run","expr":"SheetOf(Note)","inner":{"t":"resheet.sheet","v":1,"lines":[{"id":0,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}}]}},"isCollapsed":true,"children":[]}},"prev":0},{"time":1711108989925,"state":{"pages":[{"id":0,"name":"Introduction","state":{"t":"resheet.selector","v":0,"mode":"run","expr":"SheetOf(Note)","inner":{"t":"resheet.sheet","v":1,"lines":[{"id":0,"name":"","visibility":"result","state":{"t":"resheet.note","v":1,"level":0,"input":"= <h1 className=\"flex space-x-2 items-baseline my-2 text-5xl\">\n    <img className=\"h-12\" src={resheet.assets.logoSvg} alt=\"ReSheet Logo\"/>\n    <span>ReSheet</span>\n    <span className=\"text-2xl\">alpha</span>\n  </h1>","note":{"type":"expr","code":" <h1 className=\"flex space-x-2 items-baseline my-2 text-5xl\">\n    <img className=\"h-12\" src={resheet.assets.logoSvg} alt=\"ReSheet Logo\"/>\n    <span>ReSheet</span>\n    <span className=\"text-2xl\">alpha</span>\n  </h1>"}}},{"id":41,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"A notes-spreadsheet-hybrid for programmers.","note":{"type":"text","tag":"p","text":"A notes-spreadsheet-hybrid for programmers."}}},{"id":86,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}},{"id":87,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"Everything in ReSheet is a Block. A Block can be thought of like a cell in a spreadsheet.","note":{"type":"text","tag":"p","text":"Everything in ReSheet is a Block. A Block can be thought of like a cell in a spreadsheet."}}},{"id":85,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"ReSheet is heavily keyboard-focused:","note":{"type":"text","tag":"p","text":"ReSheet is heavily keyboard-focused:"}}},{"id":88,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":1,"input":"Try **⌘K/⌘⇧P** to see all commands for the currently focused block(s). (Also try **⌘?**)","note":{"type":"text","tag":"p","text":"Try **⌘K/⌘⇧P** to see all commands for the currently focused block(s). (Also try **⌘?**)"}}},{"id":89,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":1,"input":"Use the ArrowKeys or `H`/`J`/`K`/`L` and `Enter`/`Escape` to move between Blocks.","note":{"type":"text","tag":"p","text":"Use the ArrowKeys or `H`/`J`/`K`/`L` and `Enter`/`Escape` to move between Blocks."}}},{"id":90,"name":"","visibility":"result","state":{"t":"resheet.note","v":1,"level":0,"input":"= <img className=\"my-4\" alt=\"ReSheet demo animation\" src={resheet.assets.demoGif} />","note":{"type":"expr","code":" <img className=\"my-4\" alt=\"ReSheet demo animation\" src={resheet.assets.demoGif} />"}}},{"id":70,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"## Shortcuts","note":{"type":"text","tag":"h2","text":"Shortcuts"}}},{"id":76,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"*⌘ = Meta = Ctrl (can be used interchangeably, useful if the browser intercepts a variant)*","note":{"type":"text","tag":"p","text":"*⌘ = Meta = Ctrl (can be used interchangeably, useful if the browser intercepts a variant)*"}}},{"id":66,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"Command Search: **⌘K/⌘⇧P**","note":{"type":"text","tag":"p","text":"Command Search: **⌘K/⌘⇧P**"}}},{"id":67,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"Shortcut Suggestions: **⌘?**","note":{"type":"text","tag":"p","text":"Shortcut Suggestions: **⌘?**"}}},{"id":68,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"Navigation: **Arrow Keys/`HJKL`**","note":{"type":"text","tag":"p","text":"Navigation: **Arrow Keys/`HJKL`**"}}},{"id":69,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"Go in/out: **`Enter`/`Escape`**","note":{"type":"text","tag":"p","text":"Go in/out: **`Enter`/`Escape`**"}}},{"id":71,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"## Writing","note":{"type":"text","tag":"h2","text":"Writing"}}},{"id":72,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"Format with Markdown","note":{"type":"text","tag":"p","text":"Format with Markdown"}}},{"id":74,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":1,"input":"<span className=\"text-sm text-gray-800\">(`*italic* **bold** [link text](link url)` etc)</span>","note":{"type":"text","tag":"p","text":"<span className=\"text-sm text-gray-800\">(`*italic* **bold** [link text](link url)` etc)</span>"}}},{"id":7,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"\"Formulas\" (JavaScript) start with `\"=\"`","note":{"type":"text","tag":"p","text":"\"Formulas\" (JavaScript) start with `\"=\"`"}}},{"id":82,"name":"x","visibility":"block","state":{"t":"resheet.note","v":1,"level":1,"input":"= 12","note":{"type":"expr","code":" 12"}}},{"id":84,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":1,"input":"= Math.sqrt(x + x)","note":{"type":"expr","code":" Math.sqrt(x + x)"}}},{"id":80,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":1,"input":"**⌘`Space`** for completions","note":{"type":"text","tag":"p","text":"**⌘`Space`** for completions"}}},{"id":81,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":1,"input":"**⌘`D`** for docs (if available)","note":{"type":"text","tag":"p","text":"**⌘`D`** for docs (if available)"}}}]}},"isCollapsed":false,"children":[{"id":0,"name":"Tips","state":{"t":"resheet.selector","v":0,"mode":"run","expr":"SheetOf(Note)","inner":{"t":"resheet.sheet","v":1,"lines":[{"id":13,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"# Tips","note":{"type":"text","tag":"h1","text":"Tips"}}},{"id":2,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"Your document is automatically backed up to IndexedDB, but gets deleted after 7 days. So don't forget to save it to a local file.","note":{"type":"text","tag":"p","text":"Your document is automatically backed up to IndexedDB, but gets deleted after 7 days. So don't forget to save it to a local file."}}},{"id":3,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}},{"id":4,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"ReSheet gives you the full power of JavaScript and React.","note":{"type":"text","tag":"p","text":"ReSheet gives you the full power of JavaScript and React."}}},{"id":5,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"**Be aware:** You have the **power to break it** (but generally you can undo it – ⌘Z) and full responsibilty to **ensure you trust the code you run**.","note":{"type":"text","tag":"p","text":"**Be aware:** You have the **power to break it** (but generally you can undo it – ⌘Z) and full responsibilty to **ensure you trust the code you run**."}}},{"id":6,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"Also beware of side-effects in your code: Everything is automatically rerun as needed (for changes), so side-effects may execute for every character you type.","note":{"type":"text","tag":"p","text":"Also beware of side-effects in your code: Everything is automatically rerun as needed (for changes), so side-effects may execute for every character you type."}}},{"id":7,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}},{"id":8,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"If a shortcut triggers a browser action, try an alternative key combination by switching ⌘/Meta/Ctrl.","note":{"type":"text","tag":"p","text":"If a shortcut triggers a browser action, try an alternative key combination by switching ⌘/Meta/Ctrl."}}},{"id":9,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":1,"input":"For example:","note":{"type":"text","tag":"p","text":"For example:"}}},{"id":10,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":2,"input":"⌘N = Meta-N = Ctrl-N","note":{"type":"text","tag":"p","text":"⌘N = Meta-N = Ctrl-N"}}},{"id":11,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":2,"input":"⌘⇧P = Meta-Shift-P = Ctrl-Shift-P","note":{"type":"text","tag":"p","text":"⌘⇧P = Meta-Shift-P = Ctrl-Shift-P"}}},{"id":12,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":2,"input":"etc","note":{"type":"text","tag":"p","text":"etc"}}}]}},"isCollapsed":true,"children":[]},{"id":1,"name":"Formulas","state":{"t":"resheet.selector","v":0,"mode":"run","expr":"SheetOf(Note)","inner":{"t":"resheet.sheet","v":1,"lines":[{"id":0,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"# Formulas","note":{"type":"text","tag":"h1","text":"Formulas"}}},{"id":1,"name":"msInADay","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= 24 /*h*/ * 60 /*min*/ * 60 /*sec*/ * 1000 /*ms*/","note":{"type":"expr","code":" 24 /*h*/ * 60 /*min*/ * 60 /*sec*/ * 1000 /*ms*/"}}},{"id":2,"name":"startOfThisYear","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= new Date(new Date().getFullYear(), 0, 1)","note":{"type":"expr","code":" new Date(new Date().getFullYear(), 0, 1)"}}},{"id":3,"name":"daysInThisYear","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= (Date.now() - startOfThisYear.getTime()) / msInADay","note":{"type":"expr","code":" (Date.now() - startOfThisYear.getTime()) / msInADay"}}},{"id":4,"name":"","visibility":"result","state":{"t":"resheet.note","v":1,"level":0,"input":"= // using react:\n<p className=\"py-2\">\n  This year is already {/* preserve the space character before this comment */}\n  {daysInThisYear.toLocaleString(\"en-US\", { maximumFractionDigits: 1 })}\n  {} days long. {}\n  <span className=\"text-sm text-gray-700\">(Select this line and show or hide the code with ⌘M)</span>\n</p>","note":{"type":"expr","code":" // using react:\n<p className=\"py-2\">\n  This year is already {/* preserve the space character before this comment */}\n  {daysInThisYear.toLocaleString(\"en-US\", { maximumFractionDigits: 1 })}\n  {} days long. {}\n  <span className=\"text-sm text-gray-700\">(Select this line and show or hide the code with ⌘M)</span>\n</p>"}}},{"id":5,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"## External Libraries","note":{"type":"text","tag":"h2","text":"External Libraries"}}},{"id":6,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"[esm.sh](https://esm.sh/) works great for loading npm libraries","note":{"type":"text","tag":"p","text":"[esm.sh](https://esm.sh/) works great for loading npm libraries"}}},{"id":14,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"### Number Formatting","note":{"type":"text","tag":"h3","text":"Number Formatting"}}},{"id":7,"name":"numeral","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= import('https://esm.sh/numeral')","note":{"type":"expr","code":" import('https://esm.sh/numeral')"}}},{"id":8,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= numeral.default(123456.789).format('0,0.00')","note":{"type":"expr","code":" numeral.default(123456.789).format('0,0.00')"}}},{"id":10,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"### CSV Parsing","note":{"type":"text","tag":"h3","text":"CSV Parsing"}}},{"id":11,"name":"Papa","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= import('https://esm.sh/papaparse')","note":{"type":"expr","code":" import('https://esm.sh/papaparse')"}}},{"id":12,"name":"csv","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"id,name,age,plan,email\n0,John,28,free,john@example.com\n1,Alice,34,premium,alice@boo\n2,Bob,43,premium,bob@b.b","note":{"type":"text","tag":"p","text":"id,name,age,plan,email\n0,John,28,free,john@example.com\n1,Alice,34,premium,alice@boo\n2,Bob,43,premium,bob@b.b"}}},{"id":13,"name":"data","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= Papa.default.parse(csv.text, { header: true }).data","note":{"type":"expr","code":" Papa.default.parse(csv.text, { header: true }).data"}}},{"id":15,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"### Data Validation","note":{"type":"text","tag":"h3","text":"Data Validation"}}},{"id":16,"name":"validator","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= import('https://esm.sh/validator')","note":{"type":"expr","code":" import('https://esm.sh/validator')"}}},{"id":17,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= data.map(user => ({ ...user, validEmail: validator.default.isEmail(user.email) }))","note":{"type":"expr","code":" data.map(user => ({ ...user, validEmail: validator.default.isEmail(user.email) }))"}}},{"id":18,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"### Data Processing","note":{"type":"text","tag":"h3","text":"Data Processing"}}},{"id":19,"name":"lodash","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= import('https://esm.sh/lodash')","note":{"type":"expr","code":" import('https://esm.sh/lodash')"}}},{"id":20,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= lodash.default.groupBy(data, 'plan')","note":{"type":"expr","code":" lodash.default.groupBy(data, 'plan')"}}},{"id":21,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"### Dates","note":{"type":"text","tag":"h3","text":"Dates"}}},{"id":22,"name":"datefns","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= import('https://esm.sh/date-fns')","note":{"type":"expr","code":" import('https://esm.sh/date-fns')"}}},{"id":23,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= datefns.parse('midnight', 'B', new Date())","note":{"type":"expr","code":" datefns.parse('midnight', 'B', new Date())"}}},{"id":24,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"### Charts","note":{"type":"text","tag":"h3","text":"Charts"}}},{"id":25,"name":"recharts","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= import('https://esm.sh/recharts?external=react')","note":{"type":"expr","code":" import('https://esm.sh/recharts?external=react')"}}},{"id":26,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}}]}},"isCollapsed":true,"children":[]},{"id":2,"name":"Markdown","state":{"t":"resheet.selector","v":0,"mode":"run","expr":"SheetOf(Note)","inner":{"t":"resheet.sheet","v":1,"lines":[{"id":0,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"# Markdown","note":{"type":"text","tag":"h1","text":"Markdown"}}},{"id":1,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"*`*italic*`*","note":{"type":"text","tag":"p","text":"*`*italic*`*"}}},{"id":2,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"**`**bold**`**","note":{"type":"text","tag":"p","text":"**`**bold**`**"}}},{"id":3,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"`[a link](url)`","note":{"type":"text","tag":"p","text":"`[a link](url)`"}}},{"id":4,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"- Lists","note":{"type":"text","tag":"li","text":"Lists"}}},{"id":5,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"[ ] Todos","note":{"type":"checkbox","checked":false,"text":"Todos"}}},{"id":6,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"[x] Done","note":{"type":"checkbox","checked":true,"text":"Done"}}},{"id":7,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"`# Headings`","note":{"type":"text","tag":"p","text":"`# Headings`"}}},{"id":8,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"Inline <span className=\"before:block before:absolute before:-inset-0.5 before:-skew-y-1 before:bg-blue-100 relative inline-block\"><span className=\"relative text-blue-950\">Html with [tailwindcss](https://tailwindcss.com/docs/utility-first)</span></span>","note":{"type":"text","tag":"p","text":"Inline <span className=\"before:block before:absolute before:-inset-0.5 before:-skew-y-1 before:bg-blue-100 relative inline-block\"><span className=\"relative text-blue-950\">Html with [tailwindcss](https://tailwindcss.com/docs/utility-first)</span></span>"}}}]}},"isCollapsed":true,"children":[]},{"id":3,"name":"Blocks","state":{"t":"resheet.selector","v":0,"mode":"run","expr":"SheetOf(Note)","inner":{"t":"resheet.sheet","v":1,"lines":[{"id":0,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"# Blocks","note":{"type":"text","tag":"h1","text":"Blocks"}}},{"id":1,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"Blocks are the equivalent to cells in a spreadsheet. Most things in ReSheet are Blocks.","note":{"type":"text","tag":"p","text":"Blocks are the equivalent to cells in a spreadsheet. Most things in ReSheet are Blocks."}}},{"id":3,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}},{"id":2,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"Every line here contains a `Note` Block, which allows writing Markdown or Formulas.","note":{"type":"text","tag":"p","text":"Every line here contains a `Note` Block, which allows writing Markdown or Formulas."}}},{"id":4,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"A `Note` Block also allows using another Block, for example `JSExpr`. Type:","note":{"type":"text","tag":"p","text":"A `Note` Block also allows using another Block, for example `JSExpr`. Type:"}}},{"id":5,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"/blocks.JSExpr","note":{"type":"block","isInstantiated":false,"code":"blocks.JSExpr"}}},{"id":6,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"and hit ⌘`Enter` to use it:","note":{"type":"text","tag":"p","text":"and hit ⌘`Enter` to use it:"}}},{"id":7,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"/blocks.JSExpr","note":{"type":"block","isInstantiated":true,"code":"blocks.JSExpr","state":"// This is a JSExpr Block now\nfunction Mark({ children }) {\n  return (\n    <span className=\"before:block before:absolute before:-inset-0.5 before:-skew-y-2 before:bg-blue-400 relative inline-block\">\n      <span className=\"relative text-white px-0.5 tracking-wide\">\n        {children}\n      </span>\n    </span>\n  )\n}\n\n<p className=\"py-1\">\n  <Mark>Look</Mark> at it!\n</p>"}}},{"id":8,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}},{"id":9,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"All lines here are part of the `SheetOf` Block:","note":{"type":"text","tag":"p","text":"All lines here are part of the `SheetOf` Block:"}}},{"id":10,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"/blocks.SheetOf(blocks.Note)","note":{"type":"block","isInstantiated":false,"code":"blocks.SheetOf(blocks.Note)"}}},{"id":11,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"/blocks.SheetOf(blocks.Note)","note":{"type":"block","isInstantiated":true,"code":"blocks.SheetOf(blocks.Note)","state":{"t":"resheet.sheet","v":1,"lines":[{"id":0,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"Now we have a Sheet inside of a Sheet","note":{"type":"text","tag":"p","text":"Now we have a Sheet inside of a Sheet"}}},{"id":1,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= $9.text","note":{"type":"expr","code":" $9.text"}}}]}}}},{"id":12,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}},{"id":13,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}},{"id":14,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"There are other Blocks available in `blocks`. (Use completion/docs with ⌘`Space`/⌘`D`)","note":{"type":"text","tag":"p","text":"There are other Blocks available in `blocks`. (Use completion/docs with ⌘`Space`/⌘`D`)"}}},{"id":15,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= blocks","note":{"type":"expr","code":" blocks"}}},{"id":16,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}},{"id":17,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"## Custom Blocks","note":{"type":"text","tag":"h2","text":"Custom Blocks"}}},{"id":18,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"You can build your own blocks. For now you either have to shoot me a message or look at the source code of the existing blocks to find out more.","note":{"type":"text","tag":"p","text":"You can build your own blocks. For now you either have to shoot me a message or look at the source code of the existing blocks to find out more."}}},{"id":19,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}},{"id":20,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"Ok, I'll give you a small example:","note":{"type":"text","tag":"p","text":"Ok, I'll give you a small example:"}}},{"id":21,"name":"RAW","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"/blocks.JSExpr","note":{"type":"block","isInstantiated":true,"code":"blocks.JSExpr","state":"resheet.core.block.create({\n  init: \"\",\n  view({ state, dispatch, env }, ref) {\n    return (\n      <textarea\n        ref={ref}\n        value={state}\n        onChange={ev => dispatch(stateBefore => ({ state: ev.target.value }))}\n        rows={state.split('\\n').length}\n        />\n    )\n  },\n  recompute(state, update, env) {\n    return state\n  },\n  getResult(state) {\n    return state\n  },\n  fromJSON(json) {\n    return typeof json === 'string' ? json : ''\n  },\n  toJSON(state) {\n    return state\n  },\n})"}}},{"id":22,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"/RAW","note":{"type":"block","isInstantiated":false,"code":"RAW"}}},{"id":23,"name":"rawText","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"/RAW","note":{"type":"block","isInstantiated":true,"code":"RAW","state":"{\n  \"hello\": \"world\"\n}"}}},{"id":24,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= JSON.parse(rawText)","note":{"type":"expr","code":" JSON.parse(rawText)"}}}]}},"isCollapsed":true,"children":[]}]}],"viewState":{"sidebarOpen":true,"openPage":[0,1]},"template":{"id":1,"name":"","state":{"t":"resheet.selector","v":0,"mode":"run","expr":"SheetOf(Note)","inner":{"t":"resheet.sheet","v":1,"lines":[{"id":0,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}}]}},"isCollapsed":true,"children":[]}},"prev":0},{"time":1711109009258,"state":{"pages":[{"id":0,"name":"Introduction","state":{"t":"resheet.selector","v":0,"mode":"run","expr":"SheetOf(Note)","inner":{"t":"resheet.sheet","v":1,"lines":[{"id":0,"name":"","visibility":"result","state":{"t":"resheet.note","v":1,"level":0,"input":"= <h1 className=\"flex space-x-2 items-baseline my-2 text-5xl\">\n    <img className=\"h-12\" src={resheet.assets.logoSvg} alt=\"ReSheet Logo\"/>\n    <span>ReSheet</span>\n    <span className=\"text-2xl\">alpha</span>\n  </h1>","note":{"type":"expr","code":" <h1 className=\"flex space-x-2 items-baseline my-2 text-5xl\">\n    <img className=\"h-12\" src={resheet.assets.logoSvg} alt=\"ReSheet Logo\"/>\n    <span>ReSheet</span>\n    <span className=\"text-2xl\">alpha</span>\n  </h1>"}}},{"id":41,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"A notes-spreadsheet-hybrid for programmers.","note":{"type":"text","tag":"p","text":"A notes-spreadsheet-hybrid for programmers."}}},{"id":86,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}},{"id":87,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"Everything in ReSheet is a Block. A Block can be thought of like a cell in a spreadsheet.","note":{"type":"text","tag":"p","text":"Everything in ReSheet is a Block. A Block can be thought of like a cell in a spreadsheet."}}},{"id":85,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"ReSheet is heavily keyboard-focused:","note":{"type":"text","tag":"p","text":"ReSheet is heavily keyboard-focused:"}}},{"id":88,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":1,"input":"Try **⌘K/⌘⇧P** to see all commands for the currently focused block(s). (Also try **⌘?**)","note":{"type":"text","tag":"p","text":"Try **⌘K/⌘⇧P** to see all commands for the currently focused block(s). (Also try **⌘?**)"}}},{"id":89,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":1,"input":"Use the ArrowKeys or `H`/`J`/`K`/`L` and `Enter`/`Escape` to move between Blocks.","note":{"type":"text","tag":"p","text":"Use the ArrowKeys or `H`/`J`/`K`/`L` and `Enter`/`Escape` to move between Blocks."}}},{"id":90,"name":"","visibility":"result","state":{"t":"resheet.note","v":1,"level":0,"input":"= <img className=\"my-4\" alt=\"ReSheet demo animation\" src={resheet.assets.demoGif} />","note":{"type":"expr","code":" <img className=\"my-4\" alt=\"ReSheet demo animation\" src={resheet.assets.demoGif} />"}}},{"id":70,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"## Shortcuts","note":{"type":"text","tag":"h2","text":"Shortcuts"}}},{"id":76,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"*⌘ = Meta = Ctrl (can be used interchangeably, useful if the browser intercepts a variant)*","note":{"type":"text","tag":"p","text":"*⌘ = Meta = Ctrl (can be used interchangeably, useful if the browser intercepts a variant)*"}}},{"id":66,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"Command Search: **⌘K/⌘⇧P**","note":{"type":"text","tag":"p","text":"Command Search: **⌘K/⌘⇧P**"}}},{"id":67,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"Shortcut Suggestions: **⌘?**","note":{"type":"text","tag":"p","text":"Shortcut Suggestions: **⌘?**"}}},{"id":68,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"Navigation: **Arrow Keys/`HJKL`**","note":{"type":"text","tag":"p","text":"Navigation: **Arrow Keys/`HJKL`**"}}},{"id":69,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"Go in/out: **`Enter`/`Escape`**","note":{"type":"text","tag":"p","text":"Go in/out: **`Enter`/`Escape`**"}}},{"id":71,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"## Writing","note":{"type":"text","tag":"h2","text":"Writing"}}},{"id":72,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"Format with Markdown","note":{"type":"text","tag":"p","text":"Format with Markdown"}}},{"id":74,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":1,"input":"<span className=\"text-sm text-gray-800\">(`*italic* **bold** [link text](link url)` etc)</span>","note":{"type":"text","tag":"p","text":"<span className=\"text-sm text-gray-800\">(`*italic* **bold** [link text](link url)` etc)</span>"}}},{"id":7,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"\"Formulas\" (JavaScript) start with `\"=\"`","note":{"type":"text","tag":"p","text":"\"Formulas\" (JavaScript) start with `\"=\"`"}}},{"id":82,"name":"x","visibility":"block","state":{"t":"resheet.note","v":1,"level":1,"input":"= 12","note":{"type":"expr","code":" 12"}}},{"id":84,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":1,"input":"= Math.sqrt(x + x)","note":{"type":"expr","code":" Math.sqrt(x + x)"}}},{"id":80,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":1,"input":"**⌘`Space`** for completions","note":{"type":"text","tag":"p","text":"**⌘`Space`** for completions"}}},{"id":81,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":1,"input":"**⌘`D`** for docs (if available)","note":{"type":"text","tag":"p","text":"**⌘`D`** for docs (if available)"}}}]}},"isCollapsed":false,"children":[{"id":0,"name":"Tips","state":{"t":"resheet.selector","v":0,"mode":"run","expr":"SheetOf(Note)","inner":{"t":"resheet.sheet","v":1,"lines":[{"id":13,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"# Tips","note":{"type":"text","tag":"h1","text":"Tips"}}},{"id":2,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"Your document is automatically backed up to IndexedDB, but gets deleted after 7 days. So don't forget to save it to a local file.","note":{"type":"text","tag":"p","text":"Your document is automatically backed up to IndexedDB, but gets deleted after 7 days. So don't forget to save it to a local file."}}},{"id":3,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}},{"id":4,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"ReSheet gives you the full power of JavaScript and React.","note":{"type":"text","tag":"p","text":"ReSheet gives you the full power of JavaScript and React."}}},{"id":5,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"**Be aware:** You have the **power to break it** (but generally you can undo it – ⌘Z) and full responsibilty to **ensure you trust the code you run**.","note":{"type":"text","tag":"p","text":"**Be aware:** You have the **power to break it** (but generally you can undo it – ⌘Z) and full responsibilty to **ensure you trust the code you run**."}}},{"id":6,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"Also beware of side-effects in your code: Everything is automatically rerun as needed (for changes), so side-effects may execute for every character you type.","note":{"type":"text","tag":"p","text":"Also beware of side-effects in your code: Everything is automatically rerun as needed (for changes), so side-effects may execute for every character you type."}}},{"id":7,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}},{"id":8,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"If a shortcut triggers a browser action, try an alternative key combination by switching ⌘/Meta/Ctrl.","note":{"type":"text","tag":"p","text":"If a shortcut triggers a browser action, try an alternative key combination by switching ⌘/Meta/Ctrl."}}},{"id":9,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":1,"input":"For example:","note":{"type":"text","tag":"p","text":"For example:"}}},{"id":10,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":2,"input":"⌘N = Meta-N = Ctrl-N","note":{"type":"text","tag":"p","text":"⌘N = Meta-N = Ctrl-N"}}},{"id":11,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":2,"input":"⌘⇧P = Meta-Shift-P = Ctrl-Shift-P","note":{"type":"text","tag":"p","text":"⌘⇧P = Meta-Shift-P = Ctrl-Shift-P"}}},{"id":12,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":2,"input":"etc","note":{"type":"text","tag":"p","text":"etc"}}}]}},"isCollapsed":true,"children":[]},{"id":1,"name":"Formulas","state":{"t":"resheet.selector","v":0,"mode":"run","expr":"SheetOf(Note)","inner":{"t":"resheet.sheet","v":1,"lines":[{"id":0,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"# Formulas","note":{"type":"text","tag":"h1","text":"Formulas"}}},{"id":1,"name":"msInADay","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= 24 /*h*/ * 60 /*min*/ * 60 /*sec*/ * 1000 /*ms*/","note":{"type":"expr","code":" 24 /*h*/ * 60 /*min*/ * 60 /*sec*/ * 1000 /*ms*/"}}},{"id":2,"name":"startOfThisYear","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= new Date(new Date().getFullYear(), 0, 1)","note":{"type":"expr","code":" new Date(new Date().getFullYear(), 0, 1)"}}},{"id":3,"name":"daysInThisYear","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= (Date.now() - startOfThisYear.getTime()) / msInADay","note":{"type":"expr","code":" (Date.now() - startOfThisYear.getTime()) / msInADay"}}},{"id":4,"name":"","visibility":"result","state":{"t":"resheet.note","v":1,"level":0,"input":"= // using react:\n<p className=\"py-2\">\n  This year is already {/* preserve the space character before this comment */}\n  {daysInThisYear.toLocaleString(\"en-US\", { maximumFractionDigits: 1 })}\n  {} days long. {}\n  <span className=\"text-sm text-gray-700\">(Select this line and show or hide the code with ⌘M)</span>\n</p>","note":{"type":"expr","code":" // using react:\n<p className=\"py-2\">\n  This year is already {/* preserve the space character before this comment */}\n  {daysInThisYear.toLocaleString(\"en-US\", { maximumFractionDigits: 1 })}\n  {} days long. {}\n  <span className=\"text-sm text-gray-700\">(Select this line and show or hide the code with ⌘M)</span>\n</p>"}}},{"id":5,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"## External Libraries","note":{"type":"text","tag":"h2","text":"External Libraries"}}},{"id":6,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"[esm.sh](https://esm.sh/) works great for loading npm libraries","note":{"type":"text","tag":"p","text":"[esm.sh](https://esm.sh/) works great for loading npm libraries"}}},{"id":14,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"### Number Formatting","note":{"type":"text","tag":"h3","text":"Number Formatting"}}},{"id":7,"name":"numeral","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= import('https://esm.sh/numeral')","note":{"type":"expr","code":" import('https://esm.sh/numeral')"}}},{"id":8,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= numeral.default(123456.789).format('0,0.00')","note":{"type":"expr","code":" numeral.default(123456.789).format('0,0.00')"}}},{"id":10,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"### CSV Parsing","note":{"type":"text","tag":"h3","text":"CSV Parsing"}}},{"id":11,"name":"Papa","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= import('https://esm.sh/papaparse')","note":{"type":"expr","code":" import('https://esm.sh/papaparse')"}}},{"id":12,"name":"csv","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"id,name,age,plan,email\n0,John,28,free,john@example.com\n1,Alice,34,premium,alice@boo\n2,Bob,43,premium,bob@b.b","note":{"type":"text","tag":"p","text":"id,name,age,plan,email\n0,John,28,free,john@example.com\n1,Alice,34,premium,alice@boo\n2,Bob,43,premium,bob@b.b"}}},{"id":13,"name":"data","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= Papa.default.parse(csv.text, { header: true }).data","note":{"type":"expr","code":" Papa.default.parse(csv.text, { header: true }).data"}}},{"id":15,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"### Data Validation","note":{"type":"text","tag":"h3","text":"Data Validation"}}},{"id":16,"name":"validator","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= import('https://esm.sh/validator')","note":{"type":"expr","code":" import('https://esm.sh/validator')"}}},{"id":17,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= data.map(user => ({ ...user, validEmail: validator.default.isEmail(user.email) }))","note":{"type":"expr","code":" data.map(user => ({ ...user, validEmail: validator.default.isEmail(user.email) }))"}}},{"id":18,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"### Data Processing","note":{"type":"text","tag":"h3","text":"Data Processing"}}},{"id":19,"name":"lodash","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= import('https://esm.sh/lodash')","note":{"type":"expr","code":" import('https://esm.sh/lodash')"}}},{"id":20,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= lodash.default.groupBy(data, 'plan')","note":{"type":"expr","code":" lodash.default.groupBy(data, 'plan')"}}},{"id":21,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"### Dates","note":{"type":"text","tag":"h3","text":"Dates"}}},{"id":22,"name":"datefns","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= import('https://esm.sh/date-fns')","note":{"type":"expr","code":" import('https://esm.sh/date-fns')"}}},{"id":23,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= datefns.parse('midnight', 'B', new Date())","note":{"type":"expr","code":" datefns.parse('midnight', 'B', new Date())"}}},{"id":24,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"### Charts","note":{"type":"text","tag":"h3","text":"Charts"}}},{"id":25,"name":"recharts","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= import('https://esm.sh/recharts?external=react')","note":{"type":"expr","code":" import('https://esm.sh/recharts?external=react')"}}},{"id":27,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"/blocks.JSExpr","note":{"type":"block","isInstantiated":true,"code":"blocks.JSExpr","state":"const { BarChart, Bar, LineChart, Line, CartesianGrid, XAxis, YAxis } = recharts;\n\n//<ResponsiveContainer width=\"100%\" height=\"400px\">\n  <BarChart width={768} height={400} data={data}>\n    <Bar type=\"monotone\" dataKey=\"total\" fill=\"#8884d8\" />\n    <XAxis dataKey=\"Buchungstag\"/>\n    <YAxis/>\n  </BarChart>\n//</ResponsiveContainer>"}}}]}},"isCollapsed":true,"children":[]},{"id":2,"name":"Markdown","state":{"t":"resheet.selector","v":0,"mode":"run","expr":"SheetOf(Note)","inner":{"t":"resheet.sheet","v":1,"lines":[{"id":0,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"# Markdown","note":{"type":"text","tag":"h1","text":"Markdown"}}},{"id":1,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"*`*italic*`*","note":{"type":"text","tag":"p","text":"*`*italic*`*"}}},{"id":2,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"**`**bold**`**","note":{"type":"text","tag":"p","text":"**`**bold**`**"}}},{"id":3,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"`[a link](url)`","note":{"type":"text","tag":"p","text":"`[a link](url)`"}}},{"id":4,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"- Lists","note":{"type":"text","tag":"li","text":"Lists"}}},{"id":5,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"[ ] Todos","note":{"type":"checkbox","checked":false,"text":"Todos"}}},{"id":6,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"[x] Done","note":{"type":"checkbox","checked":true,"text":"Done"}}},{"id":7,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"`# Headings`","note":{"type":"text","tag":"p","text":"`# Headings`"}}},{"id":8,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"Inline <span className=\"before:block before:absolute before:-inset-0.5 before:-skew-y-1 before:bg-blue-100 relative inline-block\"><span className=\"relative text-blue-950\">Html with [tailwindcss](https://tailwindcss.com/docs/utility-first)</span></span>","note":{"type":"text","tag":"p","text":"Inline <span className=\"before:block before:absolute before:-inset-0.5 before:-skew-y-1 before:bg-blue-100 relative inline-block\"><span className=\"relative text-blue-950\">Html with [tailwindcss](https://tailwindcss.com/docs/utility-first)</span></span>"}}}]}},"isCollapsed":true,"children":[]},{"id":3,"name":"Blocks","state":{"t":"resheet.selector","v":0,"mode":"run","expr":"SheetOf(Note)","inner":{"t":"resheet.sheet","v":1,"lines":[{"id":0,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"# Blocks","note":{"type":"text","tag":"h1","text":"Blocks"}}},{"id":1,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"Blocks are the equivalent to cells in a spreadsheet. Most things in ReSheet are Blocks.","note":{"type":"text","tag":"p","text":"Blocks are the equivalent to cells in a spreadsheet. Most things in ReSheet are Blocks."}}},{"id":3,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}},{"id":2,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"Every line here contains a `Note` Block, which allows writing Markdown or Formulas.","note":{"type":"text","tag":"p","text":"Every line here contains a `Note` Block, which allows writing Markdown or Formulas."}}},{"id":4,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"A `Note` Block also allows using another Block, for example `JSExpr`. Type:","note":{"type":"text","tag":"p","text":"A `Note` Block also allows using another Block, for example `JSExpr`. Type:"}}},{"id":5,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"/blocks.JSExpr","note":{"type":"block","isInstantiated":false,"code":"blocks.JSExpr"}}},{"id":6,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"and hit ⌘`Enter` to use it:","note":{"type":"text","tag":"p","text":"and hit ⌘`Enter` to use it:"}}},{"id":7,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"/blocks.JSExpr","note":{"type":"block","isInstantiated":true,"code":"blocks.JSExpr","state":"// This is a JSExpr Block now\nfunction Mark({ children }) {\n  return (\n    <span className=\"before:block before:absolute before:-inset-0.5 before:-skew-y-2 before:bg-blue-400 relative inline-block\">\n      <span className=\"relative text-white px-0.5 tracking-wide\">\n        {children}\n      </span>\n    </span>\n  )\n}\n\n<p className=\"py-1\">\n  <Mark>Look</Mark> at it!\n</p>"}}},{"id":8,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}},{"id":9,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"All lines here are part of the `SheetOf` Block:","note":{"type":"text","tag":"p","text":"All lines here are part of the `SheetOf` Block:"}}},{"id":10,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"/blocks.SheetOf(blocks.Note)","note":{"type":"block","isInstantiated":false,"code":"blocks.SheetOf(blocks.Note)"}}},{"id":11,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"/blocks.SheetOf(blocks.Note)","note":{"type":"block","isInstantiated":true,"code":"blocks.SheetOf(blocks.Note)","state":{"t":"resheet.sheet","v":1,"lines":[{"id":0,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"Now we have a Sheet inside of a Sheet","note":{"type":"text","tag":"p","text":"Now we have a Sheet inside of a Sheet"}}},{"id":1,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= $9.text","note":{"type":"expr","code":" $9.text"}}}]}}}},{"id":12,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}},{"id":13,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}},{"id":14,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"There are other Blocks available in `blocks`. (Use completion/docs with ⌘`Space`/⌘`D`)","note":{"type":"text","tag":"p","text":"There are other Blocks available in `blocks`. (Use completion/docs with ⌘`Space`/⌘`D`)"}}},{"id":15,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= blocks","note":{"type":"expr","code":" blocks"}}},{"id":16,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}},{"id":17,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"## Custom Blocks","note":{"type":"text","tag":"h2","text":"Custom Blocks"}}},{"id":18,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"You can build your own blocks. For now you either have to shoot me a message or look at the source code of the existing blocks to find out more.","note":{"type":"text","tag":"p","text":"You can build your own blocks. For now you either have to shoot me a message or look at the source code of the existing blocks to find out more."}}},{"id":19,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}},{"id":20,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"Ok, I'll give you a small example:","note":{"type":"text","tag":"p","text":"Ok, I'll give you a small example:"}}},{"id":21,"name":"RAW","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"/blocks.JSExpr","note":{"type":"block","isInstantiated":true,"code":"blocks.JSExpr","state":"resheet.core.block.create({\n  init: \"\",\n  view({ state, dispatch, env }, ref) {\n    return (\n      <textarea\n        ref={ref}\n        value={state}\n        onChange={ev => dispatch(stateBefore => ({ state: ev.target.value }))}\n        rows={state.split('\\n').length}\n        />\n    )\n  },\n  recompute(state, update, env) {\n    return state\n  },\n  getResult(state) {\n    return state\n  },\n  fromJSON(json) {\n    return typeof json === 'string' ? json : ''\n  },\n  toJSON(state) {\n    return state\n  },\n})"}}},{"id":22,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"/RAW","note":{"type":"block","isInstantiated":false,"code":"RAW"}}},{"id":23,"name":"rawText","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"/RAW","note":{"type":"block","isInstantiated":true,"code":"RAW","state":"{\n  \"hello\": \"world\"\n}"}}},{"id":24,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= JSON.parse(rawText)","note":{"type":"expr","code":" JSON.parse(rawText)"}}}]}},"isCollapsed":true,"children":[]}]}],"viewState":{"sidebarOpen":true,"openPage":[0,1]},"template":{"id":1,"name":"","state":{"t":"resheet.selector","v":0,"mode":"run","expr":"SheetOf(Note)","inner":{"t":"resheet.sheet","v":1,"lines":[{"id":0,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}}]}},"isCollapsed":true,"children":[]}},"prev":0},{"time":1711109030981,"state":{"pages":[{"id":0,"name":"Introduction","state":{"t":"resheet.selector","v":0,"mode":"run","expr":"SheetOf(Note)","inner":{"t":"resheet.sheet","v":1,"lines":[{"id":0,"name":"","visibility":"result","state":{"t":"resheet.note","v":1,"level":0,"input":"= <h1 className=\"flex space-x-2 items-baseline my-2 text-5xl\">\n    <img className=\"h-12\" src={resheet.assets.logoSvg} alt=\"ReSheet Logo\"/>\n    <span>ReSheet</span>\n    <span className=\"text-2xl\">alpha</span>\n  </h1>","note":{"type":"expr","code":" <h1 className=\"flex space-x-2 items-baseline my-2 text-5xl\">\n    <img className=\"h-12\" src={resheet.assets.logoSvg} alt=\"ReSheet Logo\"/>\n    <span>ReSheet</span>\n    <span className=\"text-2xl\">alpha</span>\n  </h1>"}}},{"id":41,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"A notes-spreadsheet-hybrid for programmers.","note":{"type":"text","tag":"p","text":"A notes-spreadsheet-hybrid for programmers."}}},{"id":86,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}},{"id":87,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"Everything in ReSheet is a Block. A Block can be thought of like a cell in a spreadsheet.","note":{"type":"text","tag":"p","text":"Everything in ReSheet is a Block. A Block can be thought of like a cell in a spreadsheet."}}},{"id":85,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"ReSheet is heavily keyboard-focused:","note":{"type":"text","tag":"p","text":"ReSheet is heavily keyboard-focused:"}}},{"id":88,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":1,"input":"Try **⌘K/⌘⇧P** to see all commands for the currently focused block(s). (Also try **⌘?**)","note":{"type":"text","tag":"p","text":"Try **⌘K/⌘⇧P** to see all commands for the currently focused block(s). (Also try **⌘?**)"}}},{"id":89,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":1,"input":"Use the ArrowKeys or `H`/`J`/`K`/`L` and `Enter`/`Escape` to move between Blocks.","note":{"type":"text","tag":"p","text":"Use the ArrowKeys or `H`/`J`/`K`/`L` and `Enter`/`Escape` to move between Blocks."}}},{"id":90,"name":"","visibility":"result","state":{"t":"resheet.note","v":1,"level":0,"input":"= <img className=\"my-4\" alt=\"ReSheet demo animation\" src={resheet.assets.demoGif} />","note":{"type":"expr","code":" <img className=\"my-4\" alt=\"ReSheet demo animation\" src={resheet.assets.demoGif} />"}}},{"id":70,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"## Shortcuts","note":{"type":"text","tag":"h2","text":"Shortcuts"}}},{"id":76,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"*⌘ = Meta = Ctrl (can be used interchangeably, useful if the browser intercepts a variant)*","note":{"type":"text","tag":"p","text":"*⌘ = Meta = Ctrl (can be used interchangeably, useful if the browser intercepts a variant)*"}}},{"id":66,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"Command Search: **⌘K/⌘⇧P**","note":{"type":"text","tag":"p","text":"Command Search: **⌘K/⌘⇧P**"}}},{"id":67,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"Shortcut Suggestions: **⌘?**","note":{"type":"text","tag":"p","text":"Shortcut Suggestions: **⌘?**"}}},{"id":68,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"Navigation: **Arrow Keys/`HJKL`**","note":{"type":"text","tag":"p","text":"Navigation: **Arrow Keys/`HJKL`**"}}},{"id":69,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"Go in/out: **`Enter`/`Escape`**","note":{"type":"text","tag":"p","text":"Go in/out: **`Enter`/`Escape`**"}}},{"id":71,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"## Writing","note":{"type":"text","tag":"h2","text":"Writing"}}},{"id":72,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"Format with Markdown","note":{"type":"text","tag":"p","text":"Format with Markdown"}}},{"id":74,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":1,"input":"<span className=\"text-sm text-gray-800\">(`*italic* **bold** [link text](link url)` etc)</span>","note":{"type":"text","tag":"p","text":"<span className=\"text-sm text-gray-800\">(`*italic* **bold** [link text](link url)` etc)</span>"}}},{"id":7,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"\"Formulas\" (JavaScript) start with `\"=\"`","note":{"type":"text","tag":"p","text":"\"Formulas\" (JavaScript) start with `\"=\"`"}}},{"id":82,"name":"x","visibility":"block","state":{"t":"resheet.note","v":1,"level":1,"input":"= 12","note":{"type":"expr","code":" 12"}}},{"id":84,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":1,"input":"= Math.sqrt(x + x)","note":{"type":"expr","code":" Math.sqrt(x + x)"}}},{"id":80,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":1,"input":"**⌘`Space`** for completions","note":{"type":"text","tag":"p","text":"**⌘`Space`** for completions"}}},{"id":81,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":1,"input":"**⌘`D`** for docs (if available)","note":{"type":"text","tag":"p","text":"**⌘`D`** for docs (if available)"}}}]}},"isCollapsed":false,"children":[{"id":0,"name":"Tips","state":{"t":"resheet.selector","v":0,"mode":"run","expr":"SheetOf(Note)","inner":{"t":"resheet.sheet","v":1,"lines":[{"id":13,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"# Tips","note":{"type":"text","tag":"h1","text":"Tips"}}},{"id":2,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"Your document is automatically backed up to IndexedDB, but gets deleted after 7 days. So don't forget to save it to a local file.","note":{"type":"text","tag":"p","text":"Your document is automatically backed up to IndexedDB, but gets deleted after 7 days. So don't forget to save it to a local file."}}},{"id":3,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}},{"id":4,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"ReSheet gives you the full power of JavaScript and React.","note":{"type":"text","tag":"p","text":"ReSheet gives you the full power of JavaScript and React."}}},{"id":5,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"**Be aware:** You have the **power to break it** (but generally you can undo it – ⌘Z) and full responsibilty to **ensure you trust the code you run**.","note":{"type":"text","tag":"p","text":"**Be aware:** You have the **power to break it** (but generally you can undo it – ⌘Z) and full responsibilty to **ensure you trust the code you run**."}}},{"id":6,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"Also beware of side-effects in your code: Everything is automatically rerun as needed (for changes), so side-effects may execute for every character you type.","note":{"type":"text","tag":"p","text":"Also beware of side-effects in your code: Everything is automatically rerun as needed (for changes), so side-effects may execute for every character you type."}}},{"id":7,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}},{"id":8,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"If a shortcut triggers a browser action, try an alternative key combination by switching ⌘/Meta/Ctrl.","note":{"type":"text","tag":"p","text":"If a shortcut triggers a browser action, try an alternative key combination by switching ⌘/Meta/Ctrl."}}},{"id":9,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":1,"input":"For example:","note":{"type":"text","tag":"p","text":"For example:"}}},{"id":10,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":2,"input":"⌘N = Meta-N = Ctrl-N","note":{"type":"text","tag":"p","text":"⌘N = Meta-N = Ctrl-N"}}},{"id":11,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":2,"input":"⌘⇧P = Meta-Shift-P = Ctrl-Shift-P","note":{"type":"text","tag":"p","text":"⌘⇧P = Meta-Shift-P = Ctrl-Shift-P"}}},{"id":12,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":2,"input":"etc","note":{"type":"text","tag":"p","text":"etc"}}}]}},"isCollapsed":true,"children":[]},{"id":1,"name":"Formulas","state":{"t":"resheet.selector","v":0,"mode":"run","expr":"SheetOf(Note)","inner":{"t":"resheet.sheet","v":1,"lines":[{"id":0,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"# Formulas","note":{"type":"text","tag":"h1","text":"Formulas"}}},{"id":1,"name":"msInADay","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= 24 /*h*/ * 60 /*min*/ * 60 /*sec*/ * 1000 /*ms*/","note":{"type":"expr","code":" 24 /*h*/ * 60 /*min*/ * 60 /*sec*/ * 1000 /*ms*/"}}},{"id":2,"name":"startOfThisYear","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= new Date(new Date().getFullYear(), 0, 1)","note":{"type":"expr","code":" new Date(new Date().getFullYear(), 0, 1)"}}},{"id":3,"name":"daysInThisYear","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= (Date.now() - startOfThisYear.getTime()) / msInADay","note":{"type":"expr","code":" (Date.now() - startOfThisYear.getTime()) / msInADay"}}},{"id":4,"name":"","visibility":"result","state":{"t":"resheet.note","v":1,"level":0,"input":"= // using react:\n<p className=\"py-2\">\n  This year is already {/* preserve the space character before this comment */}\n  {daysInThisYear.toLocaleString(\"en-US\", { maximumFractionDigits: 1 })}\n  {} days long. {}\n  <span className=\"text-sm text-gray-700\">(Select this line and show or hide the code with ⌘M)</span>\n</p>","note":{"type":"expr","code":" // using react:\n<p className=\"py-2\">\n  This year is already {/* preserve the space character before this comment */}\n  {daysInThisYear.toLocaleString(\"en-US\", { maximumFractionDigits: 1 })}\n  {} days long. {}\n  <span className=\"text-sm text-gray-700\">(Select this line and show or hide the code with ⌘M)</span>\n</p>"}}},{"id":5,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"## External Libraries","note":{"type":"text","tag":"h2","text":"External Libraries"}}},{"id":6,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"[esm.sh](https://esm.sh/) works great for loading npm libraries","note":{"type":"text","tag":"p","text":"[esm.sh](https://esm.sh/) works great for loading npm libraries"}}},{"id":14,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"### Number Formatting","note":{"type":"text","tag":"h3","text":"Number Formatting"}}},{"id":7,"name":"numeral","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= import('https://esm.sh/numeral')","note":{"type":"expr","code":" import('https://esm.sh/numeral')"}}},{"id":8,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= numeral.default(123456.789).format('0,0.00')","note":{"type":"expr","code":" numeral.default(123456.789).format('0,0.00')"}}},{"id":10,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"### CSV Parsing","note":{"type":"text","tag":"h3","text":"CSV Parsing"}}},{"id":11,"name":"Papa","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= import('https://esm.sh/papaparse')","note":{"type":"expr","code":" import('https://esm.sh/papaparse')"}}},{"id":12,"name":"csv","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"id,name,age,plan,email\n0,John,28,free,john@example.com\n1,Alice,34,premium,alice@boo\n2,Bob,43,premium,bob@b.b","note":{"type":"text","tag":"p","text":"id,name,age,plan,email\n0,John,28,free,john@example.com\n1,Alice,34,premium,alice@boo\n2,Bob,43,premium,bob@b.b"}}},{"id":13,"name":"data","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= Papa.default.parse(csv.text, { header: true }).data","note":{"type":"expr","code":" Papa.default.parse(csv.text, { header: true }).data"}}},{"id":15,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"### Data Validation","note":{"type":"text","tag":"h3","text":"Data Validation"}}},{"id":16,"name":"validator","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= import('https://esm.sh/validator')","note":{"type":"expr","code":" import('https://esm.sh/validator')"}}},{"id":17,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= data.map(user => ({ ...user, validEmail: validator.default.isEmail(user.email) }))","note":{"type":"expr","code":" data.map(user => ({ ...user, validEmail: validator.default.isEmail(user.email) }))"}}},{"id":18,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"### Data Processing","note":{"type":"text","tag":"h3","text":"Data Processing"}}},{"id":19,"name":"lodash","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= import('https://esm.sh/lodash')","note":{"type":"expr","code":" import('https://esm.sh/lodash')"}}},{"id":20,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= lodash.default.groupBy(data, 'plan')","note":{"type":"expr","code":" lodash.default.groupBy(data, 'plan')"}}},{"id":21,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"### Dates","note":{"type":"text","tag":"h3","text":"Dates"}}},{"id":22,"name":"datefns","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= import('https://esm.sh/date-fns')","note":{"type":"expr","code":" import('https://esm.sh/date-fns')"}}},{"id":23,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= datefns.parse('midnight', 'B', new Date())","note":{"type":"expr","code":" datefns.parse('midnight', 'B', new Date())"}}},{"id":24,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"### Charts","note":{"type":"text","tag":"h3","text":"Charts"}}},{"id":25,"name":"recharts","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= import('https://esm.sh/recharts?external=react')","note":{"type":"expr","code":" import('https://esm.sh/recharts?external=react')"}}},{"id":27,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"/blocks.JSExpr","note":{"type":"block","isInstantiated":true,"code":"blocks.JSExpr","state":"const { BarChart, Bar, LineChart, Line, CartesianGrid, XAxis, YAxis } = recharts;\n\n//<ResponsiveContainer width=\"100%\" height=\"400px\">\n  <BarChart width={768} height={400} data={[10, 20, 15, 30]}>\n    <Bar type=\"monotone\" fill=\"#8884d8\" />\n    <XAxis dataKey=\"Buchungstag\"/>\n    <YAxis/>\n  </BarChart>\n//</ResponsiveContainer>"}}}]}},"isCollapsed":true,"children":[]},{"id":2,"name":"Markdown","state":{"t":"resheet.selector","v":0,"mode":"run","expr":"SheetOf(Note)","inner":{"t":"resheet.sheet","v":1,"lines":[{"id":0,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"# Markdown","note":{"type":"text","tag":"h1","text":"Markdown"}}},{"id":1,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"*`*italic*`*","note":{"type":"text","tag":"p","text":"*`*italic*`*"}}},{"id":2,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"**`**bold**`**","note":{"type":"text","tag":"p","text":"**`**bold**`**"}}},{"id":3,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"`[a link](url)`","note":{"type":"text","tag":"p","text":"`[a link](url)`"}}},{"id":4,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"- Lists","note":{"type":"text","tag":"li","text":"Lists"}}},{"id":5,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"[ ] Todos","note":{"type":"checkbox","checked":false,"text":"Todos"}}},{"id":6,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"[x] Done","note":{"type":"checkbox","checked":true,"text":"Done"}}},{"id":7,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"`# Headings`","note":{"type":"text","tag":"p","text":"`# Headings`"}}},{"id":8,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"Inline <span className=\"before:block before:absolute before:-inset-0.5 before:-skew-y-1 before:bg-blue-100 relative inline-block\"><span className=\"relative text-blue-950\">Html with [tailwindcss](https://tailwindcss.com/docs/utility-first)</span></span>","note":{"type":"text","tag":"p","text":"Inline <span className=\"before:block before:absolute before:-inset-0.5 before:-skew-y-1 before:bg-blue-100 relative inline-block\"><span className=\"relative text-blue-950\">Html with [tailwindcss](https://tailwindcss.com/docs/utility-first)</span></span>"}}}]}},"isCollapsed":true,"children":[]},{"id":3,"name":"Blocks","state":{"t":"resheet.selector","v":0,"mode":"run","expr":"SheetOf(Note)","inner":{"t":"resheet.sheet","v":1,"lines":[{"id":0,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"# Blocks","note":{"type":"text","tag":"h1","text":"Blocks"}}},{"id":1,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"Blocks are the equivalent to cells in a spreadsheet. Most things in ReSheet are Blocks.","note":{"type":"text","tag":"p","text":"Blocks are the equivalent to cells in a spreadsheet. Most things in ReSheet are Blocks."}}},{"id":3,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}},{"id":2,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"Every line here contains a `Note` Block, which allows writing Markdown or Formulas.","note":{"type":"text","tag":"p","text":"Every line here contains a `Note` Block, which allows writing Markdown or Formulas."}}},{"id":4,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"A `Note` Block also allows using another Block, for example `JSExpr`. Type:","note":{"type":"text","tag":"p","text":"A `Note` Block also allows using another Block, for example `JSExpr`. Type:"}}},{"id":5,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"/blocks.JSExpr","note":{"type":"block","isInstantiated":false,"code":"blocks.JSExpr"}}},{"id":6,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"and hit ⌘`Enter` to use it:","note":{"type":"text","tag":"p","text":"and hit ⌘`Enter` to use it:"}}},{"id":7,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"/blocks.JSExpr","note":{"type":"block","isInstantiated":true,"code":"blocks.JSExpr","state":"// This is a JSExpr Block now\nfunction Mark({ children }) {\n  return (\n    <span className=\"before:block before:absolute before:-inset-0.5 before:-skew-y-2 before:bg-blue-400 relative inline-block\">\n      <span className=\"relative text-white px-0.5 tracking-wide\">\n        {children}\n      </span>\n    </span>\n  )\n}\n\n<p className=\"py-1\">\n  <Mark>Look</Mark> at it!\n</p>"}}},{"id":8,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}},{"id":9,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"All lines here are part of the `SheetOf` Block:","note":{"type":"text","tag":"p","text":"All lines here are part of the `SheetOf` Block:"}}},{"id":10,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"/blocks.SheetOf(blocks.Note)","note":{"type":"block","isInstantiated":false,"code":"blocks.SheetOf(blocks.Note)"}}},{"id":11,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"/blocks.SheetOf(blocks.Note)","note":{"type":"block","isInstantiated":true,"code":"blocks.SheetOf(blocks.Note)","state":{"t":"resheet.sheet","v":1,"lines":[{"id":0,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"Now we have a Sheet inside of a Sheet","note":{"type":"text","tag":"p","text":"Now we have a Sheet inside of a Sheet"}}},{"id":1,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= $9.text","note":{"type":"expr","code":" $9.text"}}}]}}}},{"id":12,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}},{"id":13,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}},{"id":14,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"There are other Blocks available in `blocks`. (Use completion/docs with ⌘`Space`/⌘`D`)","note":{"type":"text","tag":"p","text":"There are other Blocks available in `blocks`. (Use completion/docs with ⌘`Space`/⌘`D`)"}}},{"id":15,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= blocks","note":{"type":"expr","code":" blocks"}}},{"id":16,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}},{"id":17,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"## Custom Blocks","note":{"type":"text","tag":"h2","text":"Custom Blocks"}}},{"id":18,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"You can build your own blocks. For now you either have to shoot me a message or look at the source code of the existing blocks to find out more.","note":{"type":"text","tag":"p","text":"You can build your own blocks. For now you either have to shoot me a message or look at the source code of the existing blocks to find out more."}}},{"id":19,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}},{"id":20,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"Ok, I'll give you a small example:","note":{"type":"text","tag":"p","text":"Ok, I'll give you a small example:"}}},{"id":21,"name":"RAW","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"/blocks.JSExpr","note":{"type":"block","isInstantiated":true,"code":"blocks.JSExpr","state":"resheet.core.block.create({\n  init: \"\",\n  view({ state, dispatch, env }, ref) {\n    return (\n      <textarea\n        ref={ref}\n        value={state}\n        onChange={ev => dispatch(stateBefore => ({ state: ev.target.value }))}\n        rows={state.split('\\n').length}\n        />\n    )\n  },\n  recompute(state, update, env) {\n    return state\n  },\n  getResult(state) {\n    return state\n  },\n  fromJSON(json) {\n    return typeof json === 'string' ? json : ''\n  },\n  toJSON(state) {\n    return state\n  },\n})"}}},{"id":22,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"/RAW","note":{"type":"block","isInstantiated":false,"code":"RAW"}}},{"id":23,"name":"rawText","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"/RAW","note":{"type":"block","isInstantiated":true,"code":"RAW","state":"{\n  \"hello\": \"world\"\n}"}}},{"id":24,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= JSON.parse(rawText)","note":{"type":"expr","code":" JSON.parse(rawText)"}}}]}},"isCollapsed":true,"children":[]}]}],"viewState":{"sidebarOpen":true,"openPage":[0,1]},"template":{"id":1,"name":"","state":{"t":"resheet.selector","v":0,"mode":"run","expr":"SheetOf(Note)","inner":{"t":"resheet.sheet","v":1,"lines":[{"id":0,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}}]}},"isCollapsed":true,"children":[]}},"prev":0},{"time":1711109053282,"state":{"pages":[{"id":0,"name":"Introduction","state":{"t":"resheet.selector","v":0,"mode":"run","expr":"SheetOf(Note)","inner":{"t":"resheet.sheet","v":1,"lines":[{"id":0,"name":"","visibility":"result","state":{"t":"resheet.note","v":1,"level":0,"input":"= <h1 className=\"flex space-x-2 items-baseline my-2 text-5xl\">\n    <img className=\"h-12\" src={resheet.assets.logoSvg} alt=\"ReSheet Logo\"/>\n    <span>ReSheet</span>\n    <span className=\"text-2xl\">alpha</span>\n  </h1>","note":{"type":"expr","code":" <h1 className=\"flex space-x-2 items-baseline my-2 text-5xl\">\n    <img className=\"h-12\" src={resheet.assets.logoSvg} alt=\"ReSheet Logo\"/>\n    <span>ReSheet</span>\n    <span className=\"text-2xl\">alpha</span>\n  </h1>"}}},{"id":41,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"A notes-spreadsheet-hybrid for programmers.","note":{"type":"text","tag":"p","text":"A notes-spreadsheet-hybrid for programmers."}}},{"id":86,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}},{"id":87,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"Everything in ReSheet is a Block. A Block can be thought of like a cell in a spreadsheet.","note":{"type":"text","tag":"p","text":"Everything in ReSheet is a Block. A Block can be thought of like a cell in a spreadsheet."}}},{"id":85,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"ReSheet is heavily keyboard-focused:","note":{"type":"text","tag":"p","text":"ReSheet is heavily keyboard-focused:"}}},{"id":88,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":1,"input":"Try **⌘K/⌘⇧P** to see all commands for the currently focused block(s). (Also try **⌘?**)","note":{"type":"text","tag":"p","text":"Try **⌘K/⌘⇧P** to see all commands for the currently focused block(s). (Also try **⌘?**)"}}},{"id":89,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":1,"input":"Use the ArrowKeys or `H`/`J`/`K`/`L` and `Enter`/`Escape` to move between Blocks.","note":{"type":"text","tag":"p","text":"Use the ArrowKeys or `H`/`J`/`K`/`L` and `Enter`/`Escape` to move between Blocks."}}},{"id":90,"name":"","visibility":"result","state":{"t":"resheet.note","v":1,"level":0,"input":"= <img className=\"my-4\" alt=\"ReSheet demo animation\" src={resheet.assets.demoGif} />","note":{"type":"expr","code":" <img className=\"my-4\" alt=\"ReSheet demo animation\" src={resheet.assets.demoGif} />"}}},{"id":70,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"## Shortcuts","note":{"type":"text","tag":"h2","text":"Shortcuts"}}},{"id":76,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"*⌘ = Meta = Ctrl (can be used interchangeably, useful if the browser intercepts a variant)*","note":{"type":"text","tag":"p","text":"*⌘ = Meta = Ctrl (can be used interchangeably, useful if the browser intercepts a variant)*"}}},{"id":66,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"Command Search: **⌘K/⌘⇧P**","note":{"type":"text","tag":"p","text":"Command Search: **⌘K/⌘⇧P**"}}},{"id":67,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"Shortcut Suggestions: **⌘?**","note":{"type":"text","tag":"p","text":"Shortcut Suggestions: **⌘?**"}}},{"id":68,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"Navigation: **Arrow Keys/`HJKL`**","note":{"type":"text","tag":"p","text":"Navigation: **Arrow Keys/`HJKL`**"}}},{"id":69,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"Go in/out: **`Enter`/`Escape`**","note":{"type":"text","tag":"p","text":"Go in/out: **`Enter`/`Escape`**"}}},{"id":71,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"## Writing","note":{"type":"text","tag":"h2","text":"Writing"}}},{"id":72,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"Format with Markdown","note":{"type":"text","tag":"p","text":"Format with Markdown"}}},{"id":74,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":1,"input":"<span className=\"text-sm text-gray-800\">(`*italic* **bold** [link text](link url)` etc)</span>","note":{"type":"text","tag":"p","text":"<span className=\"text-sm text-gray-800\">(`*italic* **bold** [link text](link url)` etc)</span>"}}},{"id":7,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"\"Formulas\" (JavaScript) start with `\"=\"`","note":{"type":"text","tag":"p","text":"\"Formulas\" (JavaScript) start with `\"=\"`"}}},{"id":82,"name":"x","visibility":"block","state":{"t":"resheet.note","v":1,"level":1,"input":"= 12","note":{"type":"expr","code":" 12"}}},{"id":84,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":1,"input":"= Math.sqrt(x + x)","note":{"type":"expr","code":" Math.sqrt(x + x)"}}},{"id":80,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":1,"input":"**⌘`Space`** for completions","note":{"type":"text","tag":"p","text":"**⌘`Space`** for completions"}}},{"id":81,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":1,"input":"**⌘`D`** for docs (if available)","note":{"type":"text","tag":"p","text":"**⌘`D`** for docs (if available)"}}}]}},"isCollapsed":false,"children":[{"id":0,"name":"Tips","state":{"t":"resheet.selector","v":0,"mode":"run","expr":"SheetOf(Note)","inner":{"t":"resheet.sheet","v":1,"lines":[{"id":13,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"# Tips","note":{"type":"text","tag":"h1","text":"Tips"}}},{"id":2,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"Your document is automatically backed up to IndexedDB, but gets deleted after 7 days. So don't forget to save it to a local file.","note":{"type":"text","tag":"p","text":"Your document is automatically backed up to IndexedDB, but gets deleted after 7 days. So don't forget to save it to a local file."}}},{"id":3,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}},{"id":4,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"ReSheet gives you the full power of JavaScript and React.","note":{"type":"text","tag":"p","text":"ReSheet gives you the full power of JavaScript and React."}}},{"id":5,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"**Be aware:** You have the **power to break it** (but generally you can undo it – ⌘Z) and full responsibilty to **ensure you trust the code you run**.","note":{"type":"text","tag":"p","text":"**Be aware:** You have the **power to break it** (but generally you can undo it – ⌘Z) and full responsibilty to **ensure you trust the code you run**."}}},{"id":6,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"Also beware of side-effects in your code: Everything is automatically rerun as needed (for changes), so side-effects may execute for every character you type.","note":{"type":"text","tag":"p","text":"Also beware of side-effects in your code: Everything is automatically rerun as needed (for changes), so side-effects may execute for every character you type."}}},{"id":7,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}},{"id":8,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"If a shortcut triggers a browser action, try an alternative key combination by switching ⌘/Meta/Ctrl.","note":{"type":"text","tag":"p","text":"If a shortcut triggers a browser action, try an alternative key combination by switching ⌘/Meta/Ctrl."}}},{"id":9,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":1,"input":"For example:","note":{"type":"text","tag":"p","text":"For example:"}}},{"id":10,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":2,"input":"⌘N = Meta-N = Ctrl-N","note":{"type":"text","tag":"p","text":"⌘N = Meta-N = Ctrl-N"}}},{"id":11,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":2,"input":"⌘⇧P = Meta-Shift-P = Ctrl-Shift-P","note":{"type":"text","tag":"p","text":"⌘⇧P = Meta-Shift-P = Ctrl-Shift-P"}}},{"id":12,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":2,"input":"etc","note":{"type":"text","tag":"p","text":"etc"}}}]}},"isCollapsed":true,"children":[]},{"id":1,"name":"Formulas","state":{"t":"resheet.selector","v":0,"mode":"run","expr":"SheetOf(Note)","inner":{"t":"resheet.sheet","v":1,"lines":[{"id":0,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"# Formulas","note":{"type":"text","tag":"h1","text":"Formulas"}}},{"id":1,"name":"msInADay","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= 24 /*h*/ * 60 /*min*/ * 60 /*sec*/ * 1000 /*ms*/","note":{"type":"expr","code":" 24 /*h*/ * 60 /*min*/ * 60 /*sec*/ * 1000 /*ms*/"}}},{"id":2,"name":"startOfThisYear","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= new Date(new Date().getFullYear(), 0, 1)","note":{"type":"expr","code":" new Date(new Date().getFullYear(), 0, 1)"}}},{"id":3,"name":"daysInThisYear","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= (Date.now() - startOfThisYear.getTime()) / msInADay","note":{"type":"expr","code":" (Date.now() - startOfThisYear.getTime()) / msInADay"}}},{"id":4,"name":"","visibility":"result","state":{"t":"resheet.note","v":1,"level":0,"input":"= // using react:\n<p className=\"py-2\">\n  This year is already {/* preserve the space character before this comment */}\n  {daysInThisYear.toLocaleString(\"en-US\", { maximumFractionDigits: 1 })}\n  {} days long. {}\n  <span className=\"text-sm text-gray-700\">(Select this line and show or hide the code with ⌘M)</span>\n</p>","note":{"type":"expr","code":" // using react:\n<p className=\"py-2\">\n  This year is already {/* preserve the space character before this comment */}\n  {daysInThisYear.toLocaleString(\"en-US\", { maximumFractionDigits: 1 })}\n  {} days long. {}\n  <span className=\"text-sm text-gray-700\">(Select this line and show or hide the code with ⌘M)</span>\n</p>"}}},{"id":5,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"## External Libraries","note":{"type":"text","tag":"h2","text":"External Libraries"}}},{"id":6,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"[esm.sh](https://esm.sh/) works great for loading npm libraries","note":{"type":"text","tag":"p","text":"[esm.sh](https://esm.sh/) works great for loading npm libraries"}}},{"id":14,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"### Number Formatting","note":{"type":"text","tag":"h3","text":"Number Formatting"}}},{"id":7,"name":"numeral","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= import('https://esm.sh/numeral')","note":{"type":"expr","code":" import('https://esm.sh/numeral')"}}},{"id":8,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= numeral.default(123456.789).format('0,0.00')","note":{"type":"expr","code":" numeral.default(123456.789).format('0,0.00')"}}},{"id":10,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"### CSV Parsing","note":{"type":"text","tag":"h3","text":"CSV Parsing"}}},{"id":11,"name":"Papa","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= import('https://esm.sh/papaparse')","note":{"type":"expr","code":" import('https://esm.sh/papaparse')"}}},{"id":12,"name":"csv","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"id,name,age,plan,email\n0,John,28,free,john@example.com\n1,Alice,34,premium,alice@boo\n2,Bob,43,premium,bob@b.b","note":{"type":"text","tag":"p","text":"id,name,age,plan,email\n0,John,28,free,john@example.com\n1,Alice,34,premium,alice@boo\n2,Bob,43,premium,bob@b.b"}}},{"id":13,"name":"data","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= Papa.default.parse(csv.text, { header: true }).data","note":{"type":"expr","code":" Papa.default.parse(csv.text, { header: true }).data"}}},{"id":15,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"### Data Validation","note":{"type":"text","tag":"h3","text":"Data Validation"}}},{"id":16,"name":"validator","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= import('https://esm.sh/validator')","note":{"type":"expr","code":" import('https://esm.sh/validator')"}}},{"id":17,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= data.map(user => ({ ...user, validEmail: validator.default.isEmail(user.email) }))","note":{"type":"expr","code":" data.map(user => ({ ...user, validEmail: validator.default.isEmail(user.email) }))"}}},{"id":18,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"### Data Processing","note":{"type":"text","tag":"h3","text":"Data Processing"}}},{"id":19,"name":"lodash","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= import('https://esm.sh/lodash')","note":{"type":"expr","code":" import('https://esm.sh/lodash')"}}},{"id":20,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= lodash.default.groupBy(data, 'plan')","note":{"type":"expr","code":" lodash.default.groupBy(data, 'plan')"}}},{"id":21,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"### Dates","note":{"type":"text","tag":"h3","text":"Dates"}}},{"id":22,"name":"datefns","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= import('https://esm.sh/date-fns')","note":{"type":"expr","code":" import('https://esm.sh/date-fns')"}}},{"id":23,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= datefns.parse('midnight', 'B', new Date())","note":{"type":"expr","code":" datefns.parse('midnight', 'B', new Date())"}}},{"id":24,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"### Charts","note":{"type":"text","tag":"h3","text":"Charts"}}},{"id":25,"name":"recharts","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= import('https://esm.sh/recharts?external=react')","note":{"type":"expr","code":" import('https://esm.sh/recharts?external=react')"}}},{"id":27,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"/blocks.JSExpr","note":{"type":"block","isInstantiated":true,"code":"blocks.JSExpr","state":"const { BarChart, Bar, LineChart, Line, CartesianGrid, XAxis, YAxis } = recharts;\n\nconst data = [10, 20, 15, 30].map(\n\n//<ResponsiveContainer width=\"100%\" height=\"400px\">\n  <BarChart width={768} height={400} data={[10, 20, 15, 30].map(}>\n    <Bar type=\"monotone\" fill=\"#8884d8\" />\n    <XAxis dataKey=\"Buchungstag\"/>\n    <YAxis/>\n  </BarChart>\n//</ResponsiveContainer>"}}}]}},"isCollapsed":true,"children":[]},{"id":2,"name":"Markdown","state":{"t":"resheet.selector","v":0,"mode":"run","expr":"SheetOf(Note)","inner":{"t":"resheet.sheet","v":1,"lines":[{"id":0,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"# Markdown","note":{"type":"text","tag":"h1","text":"Markdown"}}},{"id":1,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"*`*italic*`*","note":{"type":"text","tag":"p","text":"*`*italic*`*"}}},{"id":2,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"**`**bold**`**","note":{"type":"text","tag":"p","text":"**`**bold**`**"}}},{"id":3,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"`[a link](url)`","note":{"type":"text","tag":"p","text":"`[a link](url)`"}}},{"id":4,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"- Lists","note":{"type":"text","tag":"li","text":"Lists"}}},{"id":5,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"[ ] Todos","note":{"type":"checkbox","checked":false,"text":"Todos"}}},{"id":6,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"[x] Done","note":{"type":"checkbox","checked":true,"text":"Done"}}},{"id":7,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"`# Headings`","note":{"type":"text","tag":"p","text":"`# Headings`"}}},{"id":8,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"Inline <span className=\"before:block before:absolute before:-inset-0.5 before:-skew-y-1 before:bg-blue-100 relative inline-block\"><span className=\"relative text-blue-950\">Html with [tailwindcss](https://tailwindcss.com/docs/utility-first)</span></span>","note":{"type":"text","tag":"p","text":"Inline <span className=\"before:block before:absolute before:-inset-0.5 before:-skew-y-1 before:bg-blue-100 relative inline-block\"><span className=\"relative text-blue-950\">Html with [tailwindcss](https://tailwindcss.com/docs/utility-first)</span></span>"}}}]}},"isCollapsed":true,"children":[]},{"id":3,"name":"Blocks","state":{"t":"resheet.selector","v":0,"mode":"run","expr":"SheetOf(Note)","inner":{"t":"resheet.sheet","v":1,"lines":[{"id":0,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"# Blocks","note":{"type":"text","tag":"h1","text":"Blocks"}}},{"id":1,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"Blocks are the equivalent to cells in a spreadsheet. Most things in ReSheet are Blocks.","note":{"type":"text","tag":"p","text":"Blocks are the equivalent to cells in a spreadsheet. Most things in ReSheet are Blocks."}}},{"id":3,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}},{"id":2,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"Every line here contains a `Note` Block, which allows writing Markdown or Formulas.","note":{"type":"text","tag":"p","text":"Every line here contains a `Note` Block, which allows writing Markdown or Formulas."}}},{"id":4,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"A `Note` Block also allows using another Block, for example `JSExpr`. Type:","note":{"type":"text","tag":"p","text":"A `Note` Block also allows using another Block, for example `JSExpr`. Type:"}}},{"id":5,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"/blocks.JSExpr","note":{"type":"block","isInstantiated":false,"code":"blocks.JSExpr"}}},{"id":6,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"and hit ⌘`Enter` to use it:","note":{"type":"text","tag":"p","text":"and hit ⌘`Enter` to use it:"}}},{"id":7,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"/blocks.JSExpr","note":{"type":"block","isInstantiated":true,"code":"blocks.JSExpr","state":"// This is a JSExpr Block now\nfunction Mark({ children }) {\n  return (\n    <span className=\"before:block before:absolute before:-inset-0.5 before:-skew-y-2 before:bg-blue-400 relative inline-block\">\n      <span className=\"relative text-white px-0.5 tracking-wide\">\n        {children}\n      </span>\n    </span>\n  )\n}\n\n<p className=\"py-1\">\n  <Mark>Look</Mark> at it!\n</p>"}}},{"id":8,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}},{"id":9,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"All lines here are part of the `SheetOf` Block:","note":{"type":"text","tag":"p","text":"All lines here are part of the `SheetOf` Block:"}}},{"id":10,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"/blocks.SheetOf(blocks.Note)","note":{"type":"block","isInstantiated":false,"code":"blocks.SheetOf(blocks.Note)"}}},{"id":11,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"/blocks.SheetOf(blocks.Note)","note":{"type":"block","isInstantiated":true,"code":"blocks.SheetOf(blocks.Note)","state":{"t":"resheet.sheet","v":1,"lines":[{"id":0,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"Now we have a Sheet inside of a Sheet","note":{"type":"text","tag":"p","text":"Now we have a Sheet inside of a Sheet"}}},{"id":1,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= $9.text","note":{"type":"expr","code":" $9.text"}}}]}}}},{"id":12,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}},{"id":13,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}},{"id":14,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"There are other Blocks available in `blocks`. (Use completion/docs with ⌘`Space`/⌘`D`)","note":{"type":"text","tag":"p","text":"There are other Blocks available in `blocks`. (Use completion/docs with ⌘`Space`/⌘`D`)"}}},{"id":15,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= blocks","note":{"type":"expr","code":" blocks"}}},{"id":16,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}},{"id":17,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"## Custom Blocks","note":{"type":"text","tag":"h2","text":"Custom Blocks"}}},{"id":18,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"You can build your own blocks. For now you either have to shoot me a message or look at the source code of the existing blocks to find out more.","note":{"type":"text","tag":"p","text":"You can build your own blocks. For now you either have to shoot me a message or look at the source code of the existing blocks to find out more."}}},{"id":19,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}},{"id":20,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"Ok, I'll give you a small example:","note":{"type":"text","tag":"p","text":"Ok, I'll give you a small example:"}}},{"id":21,"name":"RAW","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"/blocks.JSExpr","note":{"type":"block","isInstantiated":true,"code":"blocks.JSExpr","state":"resheet.core.block.create({\n  init: \"\",\n  view({ state, dispatch, env }, ref) {\n    return (\n      <textarea\n        ref={ref}\n        value={state}\n        onChange={ev => dispatch(stateBefore => ({ state: ev.target.value }))}\n        rows={state.split('\\n').length}\n        />\n    )\n  },\n  recompute(state, update, env) {\n    return state\n  },\n  getResult(state) {\n    return state\n  },\n  fromJSON(json) {\n    return typeof json === 'string' ? json : ''\n  },\n  toJSON(state) {\n    return state\n  },\n})"}}},{"id":22,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"/RAW","note":{"type":"block","isInstantiated":false,"code":"RAW"}}},{"id":23,"name":"rawText","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"/RAW","note":{"type":"block","isInstantiated":true,"code":"RAW","state":"{\n  \"hello\": \"world\"\n}"}}},{"id":24,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= JSON.parse(rawText)","note":{"type":"expr","code":" JSON.parse(rawText)"}}}]}},"isCollapsed":true,"children":[]}]}],"viewState":{"sidebarOpen":true,"openPage":[0,1]},"template":{"id":1,"name":"","state":{"t":"resheet.selector","v":0,"mode":"run","expr":"SheetOf(Note)","inner":{"t":"resheet.sheet","v":1,"lines":[{"id":0,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}}]}},"isCollapsed":true,"children":[]}},"prev":0},{"time":1711109070420,"state":{"pages":[{"id":0,"name":"Introduction","state":{"t":"resheet.selector","v":0,"mode":"run","expr":"SheetOf(Note)","inner":{"t":"resheet.sheet","v":1,"lines":[{"id":0,"name":"","visibility":"result","state":{"t":"resheet.note","v":1,"level":0,"input":"= <h1 className=\"flex space-x-2 items-baseline my-2 text-5xl\">\n    <img className=\"h-12\" src={resheet.assets.logoSvg} alt=\"ReSheet Logo\"/>\n    <span>ReSheet</span>\n    <span className=\"text-2xl\">alpha</span>\n  </h1>","note":{"type":"expr","code":" <h1 className=\"flex space-x-2 items-baseline my-2 text-5xl\">\n    <img className=\"h-12\" src={resheet.assets.logoSvg} alt=\"ReSheet Logo\"/>\n    <span>ReSheet</span>\n    <span className=\"text-2xl\">alpha</span>\n  </h1>"}}},{"id":41,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"A notes-spreadsheet-hybrid for programmers.","note":{"type":"text","tag":"p","text":"A notes-spreadsheet-hybrid for programmers."}}},{"id":86,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}},{"id":87,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"Everything in ReSheet is a Block. A Block can be thought of like a cell in a spreadsheet.","note":{"type":"text","tag":"p","text":"Everything in ReSheet is a Block. A Block can be thought of like a cell in a spreadsheet."}}},{"id":85,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"ReSheet is heavily keyboard-focused:","note":{"type":"text","tag":"p","text":"ReSheet is heavily keyboard-focused:"}}},{"id":88,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":1,"input":"Try **⌘K/⌘⇧P** to see all commands for the currently focused block(s). (Also try **⌘?**)","note":{"type":"text","tag":"p","text":"Try **⌘K/⌘⇧P** to see all commands for the currently focused block(s). (Also try **⌘?**)"}}},{"id":89,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":1,"input":"Use the ArrowKeys or `H`/`J`/`K`/`L` and `Enter`/`Escape` to move between Blocks.","note":{"type":"text","tag":"p","text":"Use the ArrowKeys or `H`/`J`/`K`/`L` and `Enter`/`Escape` to move between Blocks."}}},{"id":90,"name":"","visibility":"result","state":{"t":"resheet.note","v":1,"level":0,"input":"= <img className=\"my-4\" alt=\"ReSheet demo animation\" src={resheet.assets.demoGif} />","note":{"type":"expr","code":" <img className=\"my-4\" alt=\"ReSheet demo animation\" src={resheet.assets.demoGif} />"}}},{"id":70,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"## Shortcuts","note":{"type":"text","tag":"h2","text":"Shortcuts"}}},{"id":76,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"*⌘ = Meta = Ctrl (can be used interchangeably, useful if the browser intercepts a variant)*","note":{"type":"text","tag":"p","text":"*⌘ = Meta = Ctrl (can be used interchangeably, useful if the browser intercepts a variant)*"}}},{"id":66,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"Command Search: **⌘K/⌘⇧P**","note":{"type":"text","tag":"p","text":"Command Search: **⌘K/⌘⇧P**"}}},{"id":67,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"Shortcut Suggestions: **⌘?**","note":{"type":"text","tag":"p","text":"Shortcut Suggestions: **⌘?**"}}},{"id":68,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"Navigation: **Arrow Keys/`HJKL`**","note":{"type":"text","tag":"p","text":"Navigation: **Arrow Keys/`HJKL`**"}}},{"id":69,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"Go in/out: **`Enter`/`Escape`**","note":{"type":"text","tag":"p","text":"Go in/out: **`Enter`/`Escape`**"}}},{"id":71,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"## Writing","note":{"type":"text","tag":"h2","text":"Writing"}}},{"id":72,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"Format with Markdown","note":{"type":"text","tag":"p","text":"Format with Markdown"}}},{"id":74,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":1,"input":"<span className=\"text-sm text-gray-800\">(`*italic* **bold** [link text](link url)` etc)</span>","note":{"type":"text","tag":"p","text":"<span className=\"text-sm text-gray-800\">(`*italic* **bold** [link text](link url)` etc)</span>"}}},{"id":7,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"\"Formulas\" (JavaScript) start with `\"=\"`","note":{"type":"text","tag":"p","text":"\"Formulas\" (JavaScript) start with `\"=\"`"}}},{"id":82,"name":"x","visibility":"block","state":{"t":"resheet.note","v":1,"level":1,"input":"= 12","note":{"type":"expr","code":" 12"}}},{"id":84,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":1,"input":"= Math.sqrt(x + x)","note":{"type":"expr","code":" Math.sqrt(x + x)"}}},{"id":80,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":1,"input":"**⌘`Space`** for completions","note":{"type":"text","tag":"p","text":"**⌘`Space`** for completions"}}},{"id":81,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":1,"input":"**⌘`D`** for docs (if available)","note":{"type":"text","tag":"p","text":"**⌘`D`** for docs (if available)"}}}]}},"isCollapsed":false,"children":[{"id":0,"name":"Tips","state":{"t":"resheet.selector","v":0,"mode":"run","expr":"SheetOf(Note)","inner":{"t":"resheet.sheet","v":1,"lines":[{"id":13,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"# Tips","note":{"type":"text","tag":"h1","text":"Tips"}}},{"id":2,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"Your document is automatically backed up to IndexedDB, but gets deleted after 7 days. So don't forget to save it to a local file.","note":{"type":"text","tag":"p","text":"Your document is automatically backed up to IndexedDB, but gets deleted after 7 days. So don't forget to save it to a local file."}}},{"id":3,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}},{"id":4,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"ReSheet gives you the full power of JavaScript and React.","note":{"type":"text","tag":"p","text":"ReSheet gives you the full power of JavaScript and React."}}},{"id":5,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"**Be aware:** You have the **power to break it** (but generally you can undo it – ⌘Z) and full responsibilty to **ensure you trust the code you run**.","note":{"type":"text","tag":"p","text":"**Be aware:** You have the **power to break it** (but generally you can undo it – ⌘Z) and full responsibilty to **ensure you trust the code you run**."}}},{"id":6,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"Also beware of side-effects in your code: Everything is automatically rerun as needed (for changes), so side-effects may execute for every character you type.","note":{"type":"text","tag":"p","text":"Also beware of side-effects in your code: Everything is automatically rerun as needed (for changes), so side-effects may execute for every character you type."}}},{"id":7,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}},{"id":8,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"If a shortcut triggers a browser action, try an alternative key combination by switching ⌘/Meta/Ctrl.","note":{"type":"text","tag":"p","text":"If a shortcut triggers a browser action, try an alternative key combination by switching ⌘/Meta/Ctrl."}}},{"id":9,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":1,"input":"For example:","note":{"type":"text","tag":"p","text":"For example:"}}},{"id":10,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":2,"input":"⌘N = Meta-N = Ctrl-N","note":{"type":"text","tag":"p","text":"⌘N = Meta-N = Ctrl-N"}}},{"id":11,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":2,"input":"⌘⇧P = Meta-Shift-P = Ctrl-Shift-P","note":{"type":"text","tag":"p","text":"⌘⇧P = Meta-Shift-P = Ctrl-Shift-P"}}},{"id":12,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":2,"input":"etc","note":{"type":"text","tag":"p","text":"etc"}}}]}},"isCollapsed":true,"children":[]},{"id":1,"name":"Formulas","state":{"t":"resheet.selector","v":0,"mode":"run","expr":"SheetOf(Note)","inner":{"t":"resheet.sheet","v":1,"lines":[{"id":0,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"# Formulas","note":{"type":"text","tag":"h1","text":"Formulas"}}},{"id":1,"name":"msInADay","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= 24 /*h*/ * 60 /*min*/ * 60 /*sec*/ * 1000 /*ms*/","note":{"type":"expr","code":" 24 /*h*/ * 60 /*min*/ * 60 /*sec*/ * 1000 /*ms*/"}}},{"id":2,"name":"startOfThisYear","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= new Date(new Date().getFullYear(), 0, 1)","note":{"type":"expr","code":" new Date(new Date().getFullYear(), 0, 1)"}}},{"id":3,"name":"daysInThisYear","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= (Date.now() - startOfThisYear.getTime()) / msInADay","note":{"type":"expr","code":" (Date.now() - startOfThisYear.getTime()) / msInADay"}}},{"id":4,"name":"","visibility":"result","state":{"t":"resheet.note","v":1,"level":0,"input":"= // using react:\n<p className=\"py-2\">\n  This year is already {/* preserve the space character before this comment */}\n  {daysInThisYear.toLocaleString(\"en-US\", { maximumFractionDigits: 1 })}\n  {} days long. {}\n  <span className=\"text-sm text-gray-700\">(Select this line and show or hide the code with ⌘M)</span>\n</p>","note":{"type":"expr","code":" // using react:\n<p className=\"py-2\">\n  This year is already {/* preserve the space character before this comment */}\n  {daysInThisYear.toLocaleString(\"en-US\", { maximumFractionDigits: 1 })}\n  {} days long. {}\n  <span className=\"text-sm text-gray-700\">(Select this line and show or hide the code with ⌘M)</span>\n</p>"}}},{"id":5,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"## External Libraries","note":{"type":"text","tag":"h2","text":"External Libraries"}}},{"id":6,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"[esm.sh](https://esm.sh/) works great for loading npm libraries","note":{"type":"text","tag":"p","text":"[esm.sh](https://esm.sh/) works great for loading npm libraries"}}},{"id":14,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"### Number Formatting","note":{"type":"text","tag":"h3","text":"Number Formatting"}}},{"id":7,"name":"numeral","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= import('https://esm.sh/numeral')","note":{"type":"expr","code":" import('https://esm.sh/numeral')"}}},{"id":8,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= numeral.default(123456.789).format('0,0.00')","note":{"type":"expr","code":" numeral.default(123456.789).format('0,0.00')"}}},{"id":10,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"### CSV Parsing","note":{"type":"text","tag":"h3","text":"CSV Parsing"}}},{"id":11,"name":"Papa","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= import('https://esm.sh/papaparse')","note":{"type":"expr","code":" import('https://esm.sh/papaparse')"}}},{"id":12,"name":"csv","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"id,name,age,plan,email\n0,John,28,free,john@example.com\n1,Alice,34,premium,alice@boo\n2,Bob,43,premium,bob@b.b","note":{"type":"text","tag":"p","text":"id,name,age,plan,email\n0,John,28,free,john@example.com\n1,Alice,34,premium,alice@boo\n2,Bob,43,premium,bob@b.b"}}},{"id":13,"name":"data","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= Papa.default.parse(csv.text, { header: true }).data","note":{"type":"expr","code":" Papa.default.parse(csv.text, { header: true }).data"}}},{"id":15,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"### Data Validation","note":{"type":"text","tag":"h3","text":"Data Validation"}}},{"id":16,"name":"validator","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= import('https://esm.sh/validator')","note":{"type":"expr","code":" import('https://esm.sh/validator')"}}},{"id":17,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= data.map(user => ({ ...user, validEmail: validator.default.isEmail(user.email) }))","note":{"type":"expr","code":" data.map(user => ({ ...user, validEmail: validator.default.isEmail(user.email) }))"}}},{"id":18,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"### Data Processing","note":{"type":"text","tag":"h3","text":"Data Processing"}}},{"id":19,"name":"lodash","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= import('https://esm.sh/lodash')","note":{"type":"expr","code":" import('https://esm.sh/lodash')"}}},{"id":20,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= lodash.default.groupBy(data, 'plan')","note":{"type":"expr","code":" lodash.default.groupBy(data, 'plan')"}}},{"id":21,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"### Dates","note":{"type":"text","tag":"h3","text":"Dates"}}},{"id":22,"name":"datefns","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= import('https://esm.sh/date-fns')","note":{"type":"expr","code":" import('https://esm.sh/date-fns')"}}},{"id":23,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= datefns.parse('midnight', 'B', new Date())","note":{"type":"expr","code":" datefns.parse('midnight', 'B', new Date())"}}},{"id":24,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"### Charts","note":{"type":"text","tag":"h3","text":"Charts"}}},{"id":25,"name":"recharts","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= import('https://esm.sh/recharts?external=react')","note":{"type":"expr","code":" import('https://esm.sh/recharts?external=react')"}}},{"id":27,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"/blocks.JSExpr","note":{"type":"block","isInstantiated":true,"code":"blocks.JSExpr","state":"const { BarChart, Bar, LineChart, Line, CartesianGrid, XAxis, YAxis } = recharts;\n\nconst data = [10, 20, 15, 30].map((x => ({ x }))\n\n//<ResponsiveContainer width=\"100%\" height=\"400px\">\n  <BarChart width={768} height={400} data={data}>\n    <Bar type=\"monotone\" fill=\"#8884d8\" />\n    <XAxis dataKey=\"Buchungstag\"/>\n    <YAxis/>\n  </BarChart>\n//</ResponsiveContainer>"}}}]}},"isCollapsed":true,"children":[]},{"id":2,"name":"Markdown","state":{"t":"resheet.selector","v":0,"mode":"run","expr":"SheetOf(Note)","inner":{"t":"resheet.sheet","v":1,"lines":[{"id":0,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"# Markdown","note":{"type":"text","tag":"h1","text":"Markdown"}}},{"id":1,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"*`*italic*`*","note":{"type":"text","tag":"p","text":"*`*italic*`*"}}},{"id":2,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"**`**bold**`**","note":{"type":"text","tag":"p","text":"**`**bold**`**"}}},{"id":3,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"`[a link](url)`","note":{"type":"text","tag":"p","text":"`[a link](url)`"}}},{"id":4,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"- Lists","note":{"type":"text","tag":"li","text":"Lists"}}},{"id":5,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"[ ] Todos","note":{"type":"checkbox","checked":false,"text":"Todos"}}},{"id":6,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"[x] Done","note":{"type":"checkbox","checked":true,"text":"Done"}}},{"id":7,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"`# Headings`","note":{"type":"text","tag":"p","text":"`# Headings`"}}},{"id":8,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"Inline <span className=\"before:block before:absolute before:-inset-0.5 before:-skew-y-1 before:bg-blue-100 relative inline-block\"><span className=\"relative text-blue-950\">Html with [tailwindcss](https://tailwindcss.com/docs/utility-first)</span></span>","note":{"type":"text","tag":"p","text":"Inline <span className=\"before:block before:absolute before:-inset-0.5 before:-skew-y-1 before:bg-blue-100 relative inline-block\"><span className=\"relative text-blue-950\">Html with [tailwindcss](https://tailwindcss.com/docs/utility-first)</span></span>"}}}]}},"isCollapsed":true,"children":[]},{"id":3,"name":"Blocks","state":{"t":"resheet.selector","v":0,"mode":"run","expr":"SheetOf(Note)","inner":{"t":"resheet.sheet","v":1,"lines":[{"id":0,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"# Blocks","note":{"type":"text","tag":"h1","text":"Blocks"}}},{"id":1,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"Blocks are the equivalent to cells in a spreadsheet. Most things in ReSheet are Blocks.","note":{"type":"text","tag":"p","text":"Blocks are the equivalent to cells in a spreadsheet. Most things in ReSheet are Blocks."}}},{"id":3,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}},{"id":2,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"Every line here contains a `Note` Block, which allows writing Markdown or Formulas.","note":{"type":"text","tag":"p","text":"Every line here contains a `Note` Block, which allows writing Markdown or Formulas."}}},{"id":4,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"A `Note` Block also allows using another Block, for example `JSExpr`. Type:","note":{"type":"text","tag":"p","text":"A `Note` Block also allows using another Block, for example `JSExpr`. Type:"}}},{"id":5,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"/blocks.JSExpr","note":{"type":"block","isInstantiated":false,"code":"blocks.JSExpr"}}},{"id":6,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"and hit ⌘`Enter` to use it:","note":{"type":"text","tag":"p","text":"and hit ⌘`Enter` to use it:"}}},{"id":7,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"/blocks.JSExpr","note":{"type":"block","isInstantiated":true,"code":"blocks.JSExpr","state":"// This is a JSExpr Block now\nfunction Mark({ children }) {\n  return (\n    <span className=\"before:block before:absolute before:-inset-0.5 before:-skew-y-2 before:bg-blue-400 relative inline-block\">\n      <span className=\"relative text-white px-0.5 tracking-wide\">\n        {children}\n      </span>\n    </span>\n  )\n}\n\n<p className=\"py-1\">\n  <Mark>Look</Mark> at it!\n</p>"}}},{"id":8,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}},{"id":9,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"All lines here are part of the `SheetOf` Block:","note":{"type":"text","tag":"p","text":"All lines here are part of the `SheetOf` Block:"}}},{"id":10,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"/blocks.SheetOf(blocks.Note)","note":{"type":"block","isInstantiated":false,"code":"blocks.SheetOf(blocks.Note)"}}},{"id":11,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"/blocks.SheetOf(blocks.Note)","note":{"type":"block","isInstantiated":true,"code":"blocks.SheetOf(blocks.Note)","state":{"t":"resheet.sheet","v":1,"lines":[{"id":0,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"Now we have a Sheet inside of a Sheet","note":{"type":"text","tag":"p","text":"Now we have a Sheet inside of a Sheet"}}},{"id":1,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= $9.text","note":{"type":"expr","code":" $9.text"}}}]}}}},{"id":12,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}},{"id":13,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}},{"id":14,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"There are other Blocks available in `blocks`. (Use completion/docs with ⌘`Space`/⌘`D`)","note":{"type":"text","tag":"p","text":"There are other Blocks available in `blocks`. (Use completion/docs with ⌘`Space`/⌘`D`)"}}},{"id":15,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= blocks","note":{"type":"expr","code":" blocks"}}},{"id":16,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}},{"id":17,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"## Custom Blocks","note":{"type":"text","tag":"h2","text":"Custom Blocks"}}},{"id":18,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"You can build your own blocks. For now you either have to shoot me a message or look at the source code of the existing blocks to find out more.","note":{"type":"text","tag":"p","text":"You can build your own blocks. For now you either have to shoot me a message or look at the source code of the existing blocks to find out more."}}},{"id":19,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}},{"id":20,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"Ok, I'll give you a small example:","note":{"type":"text","tag":"p","text":"Ok, I'll give you a small example:"}}},{"id":21,"name":"RAW","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"/blocks.JSExpr","note":{"type":"block","isInstantiated":true,"code":"blocks.JSExpr","state":"resheet.core.block.create({\n  init: \"\",\n  view({ state, dispatch, env }, ref) {\n    return (\n      <textarea\n        ref={ref}\n        value={state}\n        onChange={ev => dispatch(stateBefore => ({ state: ev.target.value }))}\n        rows={state.split('\\n').length}\n        />\n    )\n  },\n  recompute(state, update, env) {\n    return state\n  },\n  getResult(state) {\n    return state\n  },\n  fromJSON(json) {\n    return typeof json === 'string' ? json : ''\n  },\n  toJSON(state) {\n    return state\n  },\n})"}}},{"id":22,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"/RAW","note":{"type":"block","isInstantiated":false,"code":"RAW"}}},{"id":23,"name":"rawText","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"/RAW","note":{"type":"block","isInstantiated":true,"code":"RAW","state":"{\n  \"hello\": \"world\"\n}"}}},{"id":24,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= JSON.parse(rawText)","note":{"type":"expr","code":" JSON.parse(rawText)"}}}]}},"isCollapsed":true,"children":[]}]}],"viewState":{"sidebarOpen":true,"openPage":[0,1]},"template":{"id":1,"name":"","state":{"t":"resheet.selector","v":0,"mode":"run","expr":"SheetOf(Note)","inner":{"t":"resheet.sheet","v":1,"lines":[{"id":0,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}}]}},"isCollapsed":true,"children":[]}},"prev":0},{"time":1711109084440,"state":{"pages":[{"id":0,"name":"Introduction","state":{"t":"resheet.selector","v":0,"mode":"run","expr":"SheetOf(Note)","inner":{"t":"resheet.sheet","v":1,"lines":[{"id":0,"name":"","visibility":"result","state":{"t":"resheet.note","v":1,"level":0,"input":"= <h1 className=\"flex space-x-2 items-baseline my-2 text-5xl\">\n    <img className=\"h-12\" src={resheet.assets.logoSvg} alt=\"ReSheet Logo\"/>\n    <span>ReSheet</span>\n    <span className=\"text-2xl\">alpha</span>\n  </h1>","note":{"type":"expr","code":" <h1 className=\"flex space-x-2 items-baseline my-2 text-5xl\">\n    <img className=\"h-12\" src={resheet.assets.logoSvg} alt=\"ReSheet Logo\"/>\n    <span>ReSheet</span>\n    <span className=\"text-2xl\">alpha</span>\n  </h1>"}}},{"id":41,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"A notes-spreadsheet-hybrid for programmers.","note":{"type":"text","tag":"p","text":"A notes-spreadsheet-hybrid for programmers."}}},{"id":86,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}},{"id":87,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"Everything in ReSheet is a Block. A Block can be thought of like a cell in a spreadsheet.","note":{"type":"text","tag":"p","text":"Everything in ReSheet is a Block. A Block can be thought of like a cell in a spreadsheet."}}},{"id":85,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"ReSheet is heavily keyboard-focused:","note":{"type":"text","tag":"p","text":"ReSheet is heavily keyboard-focused:"}}},{"id":88,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":1,"input":"Try **⌘K/⌘⇧P** to see all commands for the currently focused block(s). (Also try **⌘?**)","note":{"type":"text","tag":"p","text":"Try **⌘K/⌘⇧P** to see all commands for the currently focused block(s). (Also try **⌘?**)"}}},{"id":89,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":1,"input":"Use the ArrowKeys or `H`/`J`/`K`/`L` and `Enter`/`Escape` to move between Blocks.","note":{"type":"text","tag":"p","text":"Use the ArrowKeys or `H`/`J`/`K`/`L` and `Enter`/`Escape` to move between Blocks."}}},{"id":90,"name":"","visibility":"result","state":{"t":"resheet.note","v":1,"level":0,"input":"= <img className=\"my-4\" alt=\"ReSheet demo animation\" src={resheet.assets.demoGif} />","note":{"type":"expr","code":" <img className=\"my-4\" alt=\"ReSheet demo animation\" src={resheet.assets.demoGif} />"}}},{"id":70,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"## Shortcuts","note":{"type":"text","tag":"h2","text":"Shortcuts"}}},{"id":76,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"*⌘ = Meta = Ctrl (can be used interchangeably, useful if the browser intercepts a variant)*","note":{"type":"text","tag":"p","text":"*⌘ = Meta = Ctrl (can be used interchangeably, useful if the browser intercepts a variant)*"}}},{"id":66,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"Command Search: **⌘K/⌘⇧P**","note":{"type":"text","tag":"p","text":"Command Search: **⌘K/⌘⇧P**"}}},{"id":67,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"Shortcut Suggestions: **⌘?**","note":{"type":"text","tag":"p","text":"Shortcut Suggestions: **⌘?**"}}},{"id":68,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"Navigation: **Arrow Keys/`HJKL`**","note":{"type":"text","tag":"p","text":"Navigation: **Arrow Keys/`HJKL`**"}}},{"id":69,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"Go in/out: **`Enter`/`Escape`**","note":{"type":"text","tag":"p","text":"Go in/out: **`Enter`/`Escape`**"}}},{"id":71,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"## Writing","note":{"type":"text","tag":"h2","text":"Writing"}}},{"id":72,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"Format with Markdown","note":{"type":"text","tag":"p","text":"Format with Markdown"}}},{"id":74,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":1,"input":"<span className=\"text-sm text-gray-800\">(`*italic* **bold** [link text](link url)` etc)</span>","note":{"type":"text","tag":"p","text":"<span className=\"text-sm text-gray-800\">(`*italic* **bold** [link text](link url)` etc)</span>"}}},{"id":7,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"\"Formulas\" (JavaScript) start with `\"=\"`","note":{"type":"text","tag":"p","text":"\"Formulas\" (JavaScript) start with `\"=\"`"}}},{"id":82,"name":"x","visibility":"block","state":{"t":"resheet.note","v":1,"level":1,"input":"= 12","note":{"type":"expr","code":" 12"}}},{"id":84,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":1,"input":"= Math.sqrt(x + x)","note":{"type":"expr","code":" Math.sqrt(x + x)"}}},{"id":80,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":1,"input":"**⌘`Space`** for completions","note":{"type":"text","tag":"p","text":"**⌘`Space`** for completions"}}},{"id":81,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":1,"input":"**⌘`D`** for docs (if available)","note":{"type":"text","tag":"p","text":"**⌘`D`** for docs (if available)"}}}]}},"isCollapsed":false,"children":[{"id":0,"name":"Tips","state":{"t":"resheet.selector","v":0,"mode":"run","expr":"SheetOf(Note)","inner":{"t":"resheet.sheet","v":1,"lines":[{"id":13,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"# Tips","note":{"type":"text","tag":"h1","text":"Tips"}}},{"id":2,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"Your document is automatically backed up to IndexedDB, but gets deleted after 7 days. So don't forget to save it to a local file.","note":{"type":"text","tag":"p","text":"Your document is automatically backed up to IndexedDB, but gets deleted after 7 days. So don't forget to save it to a local file."}}},{"id":3,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}},{"id":4,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"ReSheet gives you the full power of JavaScript and React.","note":{"type":"text","tag":"p","text":"ReSheet gives you the full power of JavaScript and React."}}},{"id":5,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"**Be aware:** You have the **power to break it** (but generally you can undo it – ⌘Z) and full responsibilty to **ensure you trust the code you run**.","note":{"type":"text","tag":"p","text":"**Be aware:** You have the **power to break it** (but generally you can undo it – ⌘Z) and full responsibilty to **ensure you trust the code you run**."}}},{"id":6,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"Also beware of side-effects in your code: Everything is automatically rerun as needed (for changes), so side-effects may execute for every character you type.","note":{"type":"text","tag":"p","text":"Also beware of side-effects in your code: Everything is automatically rerun as needed (for changes), so side-effects may execute for every character you type."}}},{"id":7,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}},{"id":8,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"If a shortcut triggers a browser action, try an alternative key combination by switching ⌘/Meta/Ctrl.","note":{"type":"text","tag":"p","text":"If a shortcut triggers a browser action, try an alternative key combination by switching ⌘/Meta/Ctrl."}}},{"id":9,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":1,"input":"For example:","note":{"type":"text","tag":"p","text":"For example:"}}},{"id":10,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":2,"input":"⌘N = Meta-N = Ctrl-N","note":{"type":"text","tag":"p","text":"⌘N = Meta-N = Ctrl-N"}}},{"id":11,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":2,"input":"⌘⇧P = Meta-Shift-P = Ctrl-Shift-P","note":{"type":"text","tag":"p","text":"⌘⇧P = Meta-Shift-P = Ctrl-Shift-P"}}},{"id":12,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":2,"input":"etc","note":{"type":"text","tag":"p","text":"etc"}}}]}},"isCollapsed":true,"children":[]},{"id":1,"name":"Formulas","state":{"t":"resheet.selector","v":0,"mode":"run","expr":"SheetOf(Note)","inner":{"t":"resheet.sheet","v":1,"lines":[{"id":0,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"# Formulas","note":{"type":"text","tag":"h1","text":"Formulas"}}},{"id":1,"name":"msInADay","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= 24 /*h*/ * 60 /*min*/ * 60 /*sec*/ * 1000 /*ms*/","note":{"type":"expr","code":" 24 /*h*/ * 60 /*min*/ * 60 /*sec*/ * 1000 /*ms*/"}}},{"id":2,"name":"startOfThisYear","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= new Date(new Date().getFullYear(), 0, 1)","note":{"type":"expr","code":" new Date(new Date().getFullYear(), 0, 1)"}}},{"id":3,"name":"daysInThisYear","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= (Date.now() - startOfThisYear.getTime()) / msInADay","note":{"type":"expr","code":" (Date.now() - startOfThisYear.getTime()) / msInADay"}}},{"id":4,"name":"","visibility":"result","state":{"t":"resheet.note","v":1,"level":0,"input":"= // using react:\n<p className=\"py-2\">\n  This year is already {/* preserve the space character before this comment */}\n  {daysInThisYear.toLocaleString(\"en-US\", { maximumFractionDigits: 1 })}\n  {} days long. {}\n  <span className=\"text-sm text-gray-700\">(Select this line and show or hide the code with ⌘M)</span>\n</p>","note":{"type":"expr","code":" // using react:\n<p className=\"py-2\">\n  This year is already {/* preserve the space character before this comment */}\n  {daysInThisYear.toLocaleString(\"en-US\", { maximumFractionDigits: 1 })}\n  {} days long. {}\n  <span className=\"text-sm text-gray-700\">(Select this line and show or hide the code with ⌘M)</span>\n</p>"}}},{"id":5,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"## External Libraries","note":{"type":"text","tag":"h2","text":"External Libraries"}}},{"id":6,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"[esm.sh](https://esm.sh/) works great for loading npm libraries","note":{"type":"text","tag":"p","text":"[esm.sh](https://esm.sh/) works great for loading npm libraries"}}},{"id":14,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"### Number Formatting","note":{"type":"text","tag":"h3","text":"Number Formatting"}}},{"id":7,"name":"numeral","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= import('https://esm.sh/numeral')","note":{"type":"expr","code":" import('https://esm.sh/numeral')"}}},{"id":8,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= numeral.default(123456.789).format('0,0.00')","note":{"type":"expr","code":" numeral.default(123456.789).format('0,0.00')"}}},{"id":10,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"### CSV Parsing","note":{"type":"text","tag":"h3","text":"CSV Parsing"}}},{"id":11,"name":"Papa","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= import('https://esm.sh/papaparse')","note":{"type":"expr","code":" import('https://esm.sh/papaparse')"}}},{"id":12,"name":"csv","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"id,name,age,plan,email\n0,John,28,free,john@example.com\n1,Alice,34,premium,alice@boo\n2,Bob,43,premium,bob@b.b","note":{"type":"text","tag":"p","text":"id,name,age,plan,email\n0,John,28,free,john@example.com\n1,Alice,34,premium,alice@boo\n2,Bob,43,premium,bob@b.b"}}},{"id":13,"name":"data","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= Papa.default.parse(csv.text, { header: true }).data","note":{"type":"expr","code":" Papa.default.parse(csv.text, { header: true }).data"}}},{"id":15,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"### Data Validation","note":{"type":"text","tag":"h3","text":"Data Validation"}}},{"id":16,"name":"validator","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= import('https://esm.sh/validator')","note":{"type":"expr","code":" import('https://esm.sh/validator')"}}},{"id":17,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= data.map(user => ({ ...user, validEmail: validator.default.isEmail(user.email) }))","note":{"type":"expr","code":" data.map(user => ({ ...user, validEmail: validator.default.isEmail(user.email) }))"}}},{"id":18,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"### Data Processing","note":{"type":"text","tag":"h3","text":"Data Processing"}}},{"id":19,"name":"lodash","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= import('https://esm.sh/lodash')","note":{"type":"expr","code":" import('https://esm.sh/lodash')"}}},{"id":20,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= lodash.default.groupBy(data, 'plan')","note":{"type":"expr","code":" lodash.default.groupBy(data, 'plan')"}}},{"id":21,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"### Dates","note":{"type":"text","tag":"h3","text":"Dates"}}},{"id":22,"name":"datefns","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= import('https://esm.sh/date-fns')","note":{"type":"expr","code":" import('https://esm.sh/date-fns')"}}},{"id":23,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= datefns.parse('midnight', 'B', new Date())","note":{"type":"expr","code":" datefns.parse('midnight', 'B', new Date())"}}},{"id":24,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"### Charts","note":{"type":"text","tag":"h3","text":"Charts"}}},{"id":25,"name":"recharts","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= import('https://esm.sh/recharts?external=react')","note":{"type":"expr","code":" import('https://esm.sh/recharts?external=react')"}}},{"id":27,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"/blocks.JSExpr","note":{"type":"block","isInstantiated":true,"code":"blocks.JSExpr","state":"const { BarChart, Bar, LineChart, Line, CartesianGrid, XAxis, YAxis } = recharts;\n\nconst data = [10, 20, 15, 30].map((x, index) => ({ x, index }))\n\n//<ResponsiveContainer width=\"100%\" height=\"400px\">\n  <BarChart width={768} height={400} data={data}>\n    <Bar type=\"monotone\" dataKey=\"x\" fill=\"#8884d8\" />\n    <XAxis dataKey=\"index\"/>\n    <YAxis/>\n  </BarChart>\n//</ResponsiveContainer>"}}}]}},"isCollapsed":true,"children":[]},{"id":2,"name":"Markdown","state":{"t":"resheet.selector","v":0,"mode":"run","expr":"SheetOf(Note)","inner":{"t":"resheet.sheet","v":1,"lines":[{"id":0,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"# Markdown","note":{"type":"text","tag":"h1","text":"Markdown"}}},{"id":1,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"*`*italic*`*","note":{"type":"text","tag":"p","text":"*`*italic*`*"}}},{"id":2,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"**`**bold**`**","note":{"type":"text","tag":"p","text":"**`**bold**`**"}}},{"id":3,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"`[a link](url)`","note":{"type":"text","tag":"p","text":"`[a link](url)`"}}},{"id":4,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"- Lists","note":{"type":"text","tag":"li","text":"Lists"}}},{"id":5,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"[ ] Todos","note":{"type":"checkbox","checked":false,"text":"Todos"}}},{"id":6,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"[x] Done","note":{"type":"checkbox","checked":true,"text":"Done"}}},{"id":7,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"`# Headings`","note":{"type":"text","tag":"p","text":"`# Headings`"}}},{"id":8,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"Inline <span className=\"before:block before:absolute before:-inset-0.5 before:-skew-y-1 before:bg-blue-100 relative inline-block\"><span className=\"relative text-blue-950\">Html with [tailwindcss](https://tailwindcss.com/docs/utility-first)</span></span>","note":{"type":"text","tag":"p","text":"Inline <span className=\"before:block before:absolute before:-inset-0.5 before:-skew-y-1 before:bg-blue-100 relative inline-block\"><span className=\"relative text-blue-950\">Html with [tailwindcss](https://tailwindcss.com/docs/utility-first)</span></span>"}}}]}},"isCollapsed":true,"children":[]},{"id":3,"name":"Blocks","state":{"t":"resheet.selector","v":0,"mode":"run","expr":"SheetOf(Note)","inner":{"t":"resheet.sheet","v":1,"lines":[{"id":0,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"# Blocks","note":{"type":"text","tag":"h1","text":"Blocks"}}},{"id":1,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"Blocks are the equivalent to cells in a spreadsheet. Most things in ReSheet are Blocks.","note":{"type":"text","tag":"p","text":"Blocks are the equivalent to cells in a spreadsheet. Most things in ReSheet are Blocks."}}},{"id":3,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}},{"id":2,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"Every line here contains a `Note` Block, which allows writing Markdown or Formulas.","note":{"type":"text","tag":"p","text":"Every line here contains a `Note` Block, which allows writing Markdown or Formulas."}}},{"id":4,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"A `Note` Block also allows using another Block, for example `JSExpr`. Type:","note":{"type":"text","tag":"p","text":"A `Note` Block also allows using another Block, for example `JSExpr`. Type:"}}},{"id":5,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"/blocks.JSExpr","note":{"type":"block","isInstantiated":false,"code":"blocks.JSExpr"}}},{"id":6,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"and hit ⌘`Enter` to use it:","note":{"type":"text","tag":"p","text":"and hit ⌘`Enter` to use it:"}}},{"id":7,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"/blocks.JSExpr","note":{"type":"block","isInstantiated":true,"code":"blocks.JSExpr","state":"// This is a JSExpr Block now\nfunction Mark({ children }) {\n  return (\n    <span className=\"before:block before:absolute before:-inset-0.5 before:-skew-y-2 before:bg-blue-400 relative inline-block\">\n      <span className=\"relative text-white px-0.5 tracking-wide\">\n        {children}\n      </span>\n    </span>\n  )\n}\n\n<p className=\"py-1\">\n  <Mark>Look</Mark> at it!\n</p>"}}},{"id":8,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}},{"id":9,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"All lines here are part of the `SheetOf` Block:","note":{"type":"text","tag":"p","text":"All lines here are part of the `SheetOf` Block:"}}},{"id":10,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"/blocks.SheetOf(blocks.Note)","note":{"type":"block","isInstantiated":false,"code":"blocks.SheetOf(blocks.Note)"}}},{"id":11,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"/blocks.SheetOf(blocks.Note)","note":{"type":"block","isInstantiated":true,"code":"blocks.SheetOf(blocks.Note)","state":{"t":"resheet.sheet","v":1,"lines":[{"id":0,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"Now we have a Sheet inside of a Sheet","note":{"type":"text","tag":"p","text":"Now we have a Sheet inside of a Sheet"}}},{"id":1,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= $9.text","note":{"type":"expr","code":" $9.text"}}}]}}}},{"id":12,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}},{"id":13,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}},{"id":14,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"There are other Blocks available in `blocks`. (Use completion/docs with ⌘`Space`/⌘`D`)","note":{"type":"text","tag":"p","text":"There are other Blocks available in `blocks`. (Use completion/docs with ⌘`Space`/⌘`D`)"}}},{"id":15,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= blocks","note":{"type":"expr","code":" blocks"}}},{"id":16,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}},{"id":17,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"## Custom Blocks","note":{"type":"text","tag":"h2","text":"Custom Blocks"}}},{"id":18,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"You can build your own blocks. For now you either have to shoot me a message or look at the source code of the existing blocks to find out more.","note":{"type":"text","tag":"p","text":"You can build your own blocks. For now you either have to shoot me a message or look at the source code of the existing blocks to find out more."}}},{"id":19,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}},{"id":20,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"Ok, I'll give you a small example:","note":{"type":"text","tag":"p","text":"Ok, I'll give you a small example:"}}},{"id":21,"name":"RAW","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"/blocks.JSExpr","note":{"type":"block","isInstantiated":true,"code":"blocks.JSExpr","state":"resheet.core.block.create({\n  init: \"\",\n  view({ state, dispatch, env }, ref) {\n    return (\n      <textarea\n        ref={ref}\n        value={state}\n        onChange={ev => dispatch(stateBefore => ({ state: ev.target.value }))}\n        rows={state.split('\\n').length}\n        />\n    )\n  },\n  recompute(state, update, env) {\n    return state\n  },\n  getResult(state) {\n    return state\n  },\n  fromJSON(json) {\n    return typeof json === 'string' ? json : ''\n  },\n  toJSON(state) {\n    return state\n  },\n})"}}},{"id":22,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"/RAW","note":{"type":"block","isInstantiated":false,"code":"RAW"}}},{"id":23,"name":"rawText","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"/RAW","note":{"type":"block","isInstantiated":true,"code":"RAW","state":"{\n  \"hello\": \"world\"\n}"}}},{"id":24,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= JSON.parse(rawText)","note":{"type":"expr","code":" JSON.parse(rawText)"}}}]}},"isCollapsed":true,"children":[]}]}],"viewState":{"sidebarOpen":true,"openPage":[0,1]},"template":{"id":1,"name":"","state":{"t":"resheet.selector","v":0,"mode":"run","expr":"SheetOf(Note)","inner":{"t":"resheet.sheet","v":1,"lines":[{"id":0,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}}]}},"isCollapsed":true,"children":[]}},"prev":0},{"time":1711109096809,"state":{"pages":[{"id":0,"name":"Introduction","state":{"t":"resheet.selector","v":0,"mode":"run","expr":"SheetOf(Note)","inner":{"t":"resheet.sheet","v":1,"lines":[{"id":0,"name":"","visibility":"result","state":{"t":"resheet.note","v":1,"level":0,"input":"= <h1 className=\"flex space-x-2 items-baseline my-2 text-5xl\">\n    <img className=\"h-12\" src={resheet.assets.logoSvg} alt=\"ReSheet Logo\"/>\n    <span>ReSheet</span>\n    <span className=\"text-2xl\">alpha</span>\n  </h1>","note":{"type":"expr","code":" <h1 className=\"flex space-x-2 items-baseline my-2 text-5xl\">\n    <img className=\"h-12\" src={resheet.assets.logoSvg} alt=\"ReSheet Logo\"/>\n    <span>ReSheet</span>\n    <span className=\"text-2xl\">alpha</span>\n  </h1>"}}},{"id":41,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"A notes-spreadsheet-hybrid for programmers.","note":{"type":"text","tag":"p","text":"A notes-spreadsheet-hybrid for programmers."}}},{"id":86,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}},{"id":87,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"Everything in ReSheet is a Block. A Block can be thought of like a cell in a spreadsheet.","note":{"type":"text","tag":"p","text":"Everything in ReSheet is a Block. A Block can be thought of like a cell in a spreadsheet."}}},{"id":85,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"ReSheet is heavily keyboard-focused:","note":{"type":"text","tag":"p","text":"ReSheet is heavily keyboard-focused:"}}},{"id":88,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":1,"input":"Try **⌘K/⌘⇧P** to see all commands for the currently focused block(s). (Also try **⌘?**)","note":{"type":"text","tag":"p","text":"Try **⌘K/⌘⇧P** to see all commands for the currently focused block(s). (Also try **⌘?**)"}}},{"id":89,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":1,"input":"Use the ArrowKeys or `H`/`J`/`K`/`L` and `Enter`/`Escape` to move between Blocks.","note":{"type":"text","tag":"p","text":"Use the ArrowKeys or `H`/`J`/`K`/`L` and `Enter`/`Escape` to move between Blocks."}}},{"id":90,"name":"","visibility":"result","state":{"t":"resheet.note","v":1,"level":0,"input":"= <img className=\"my-4\" alt=\"ReSheet demo animation\" src={resheet.assets.demoGif} />","note":{"type":"expr","code":" <img className=\"my-4\" alt=\"ReSheet demo animation\" src={resheet.assets.demoGif} />"}}},{"id":70,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"## Shortcuts","note":{"type":"text","tag":"h2","text":"Shortcuts"}}},{"id":76,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"*⌘ = Meta = Ctrl (can be used interchangeably, useful if the browser intercepts a variant)*","note":{"type":"text","tag":"p","text":"*⌘ = Meta = Ctrl (can be used interchangeably, useful if the browser intercepts a variant)*"}}},{"id":66,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"Command Search: **⌘K/⌘⇧P**","note":{"type":"text","tag":"p","text":"Command Search: **⌘K/⌘⇧P**"}}},{"id":67,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"Shortcut Suggestions: **⌘?**","note":{"type":"text","tag":"p","text":"Shortcut Suggestions: **⌘?**"}}},{"id":68,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"Navigation: **Arrow Keys/`HJKL`**","note":{"type":"text","tag":"p","text":"Navigation: **Arrow Keys/`HJKL`**"}}},{"id":69,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"Go in/out: **`Enter`/`Escape`**","note":{"type":"text","tag":"p","text":"Go in/out: **`Enter`/`Escape`**"}}},{"id":71,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"## Writing","note":{"type":"text","tag":"h2","text":"Writing"}}},{"id":72,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"Format with Markdown","note":{"type":"text","tag":"p","text":"Format with Markdown"}}},{"id":74,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":1,"input":"<span className=\"text-sm text-gray-800\">(`*italic* **bold** [link text](link url)` etc)</span>","note":{"type":"text","tag":"p","text":"<span className=\"text-sm text-gray-800\">(`*italic* **bold** [link text](link url)` etc)</span>"}}},{"id":7,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"\"Formulas\" (JavaScript) start with `\"=\"`","note":{"type":"text","tag":"p","text":"\"Formulas\" (JavaScript) start with `\"=\"`"}}},{"id":82,"name":"x","visibility":"block","state":{"t":"resheet.note","v":1,"level":1,"input":"= 12","note":{"type":"expr","code":" 12"}}},{"id":84,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":1,"input":"= Math.sqrt(x + x)","note":{"type":"expr","code":" Math.sqrt(x + x)"}}},{"id":80,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":1,"input":"**⌘`Space`** for completions","note":{"type":"text","tag":"p","text":"**⌘`Space`** for completions"}}},{"id":81,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":1,"input":"**⌘`D`** for docs (if available)","note":{"type":"text","tag":"p","text":"**⌘`D`** for docs (if available)"}}}]}},"isCollapsed":false,"children":[{"id":0,"name":"Tips","state":{"t":"resheet.selector","v":0,"mode":"run","expr":"SheetOf(Note)","inner":{"t":"resheet.sheet","v":1,"lines":[{"id":13,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"# Tips","note":{"type":"text","tag":"h1","text":"Tips"}}},{"id":2,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"Your document is automatically backed up to IndexedDB, but gets deleted after 7 days. So don't forget to save it to a local file.","note":{"type":"text","tag":"p","text":"Your document is automatically backed up to IndexedDB, but gets deleted after 7 days. So don't forget to save it to a local file."}}},{"id":3,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}},{"id":4,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"ReSheet gives you the full power of JavaScript and React.","note":{"type":"text","tag":"p","text":"ReSheet gives you the full power of JavaScript and React."}}},{"id":5,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"**Be aware:** You have the **power to break it** (but generally you can undo it – ⌘Z) and full responsibilty to **ensure you trust the code you run**.","note":{"type":"text","tag":"p","text":"**Be aware:** You have the **power to break it** (but generally you can undo it – ⌘Z) and full responsibilty to **ensure you trust the code you run**."}}},{"id":6,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"Also beware of side-effects in your code: Everything is automatically rerun as needed (for changes), so side-effects may execute for every character you type.","note":{"type":"text","tag":"p","text":"Also beware of side-effects in your code: Everything is automatically rerun as needed (for changes), so side-effects may execute for every character you type."}}},{"id":7,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}},{"id":8,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"If a shortcut triggers a browser action, try an alternative key combination by switching ⌘/Meta/Ctrl.","note":{"type":"text","tag":"p","text":"If a shortcut triggers a browser action, try an alternative key combination by switching ⌘/Meta/Ctrl."}}},{"id":9,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":1,"input":"For example:","note":{"type":"text","tag":"p","text":"For example:"}}},{"id":10,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":2,"input":"⌘N = Meta-N = Ctrl-N","note":{"type":"text","tag":"p","text":"⌘N = Meta-N = Ctrl-N"}}},{"id":11,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":2,"input":"⌘⇧P = Meta-Shift-P = Ctrl-Shift-P","note":{"type":"text","tag":"p","text":"⌘⇧P = Meta-Shift-P = Ctrl-Shift-P"}}},{"id":12,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":2,"input":"etc","note":{"type":"text","tag":"p","text":"etc"}}}]}},"isCollapsed":true,"children":[]},{"id":1,"name":"Formulas","state":{"t":"resheet.selector","v":0,"mode":"run","expr":"SheetOf(Note)","inner":{"t":"resheet.sheet","v":1,"lines":[{"id":0,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"# Formulas","note":{"type":"text","tag":"h1","text":"Formulas"}}},{"id":1,"name":"msInADay","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= 24 /*h*/ * 60 /*min*/ * 60 /*sec*/ * 1000 /*ms*/","note":{"type":"expr","code":" 24 /*h*/ * 60 /*min*/ * 60 /*sec*/ * 1000 /*ms*/"}}},{"id":2,"name":"startOfThisYear","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= new Date(new Date().getFullYear(), 0, 1)","note":{"type":"expr","code":" new Date(new Date().getFullYear(), 0, 1)"}}},{"id":3,"name":"daysInThisYear","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= (Date.now() - startOfThisYear.getTime()) / msInADay","note":{"type":"expr","code":" (Date.now() - startOfThisYear.getTime()) / msInADay"}}},{"id":4,"name":"","visibility":"result","state":{"t":"resheet.note","v":1,"level":0,"input":"= // using react:\n<p className=\"py-2\">\n  This year is already {/* preserve the space character before this comment */}\n  {daysInThisYear.toLocaleString(\"en-US\", { maximumFractionDigits: 1 })}\n  {} days long. {}\n  <span className=\"text-sm text-gray-700\">(Select this line and show or hide the code with ⌘M)</span>\n</p>","note":{"type":"expr","code":" // using react:\n<p className=\"py-2\">\n  This year is already {/* preserve the space character before this comment */}\n  {daysInThisYear.toLocaleString(\"en-US\", { maximumFractionDigits: 1 })}\n  {} days long. {}\n  <span className=\"text-sm text-gray-700\">(Select this line and show or hide the code with ⌘M)</span>\n</p>"}}},{"id":5,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"## External Libraries","note":{"type":"text","tag":"h2","text":"External Libraries"}}},{"id":6,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"[esm.sh](https://esm.sh/) works great for loading npm libraries","note":{"type":"text","tag":"p","text":"[esm.sh](https://esm.sh/) works great for loading npm libraries"}}},{"id":14,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"### Number Formatting","note":{"type":"text","tag":"h3","text":"Number Formatting"}}},{"id":7,"name":"numeral","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= import('https://esm.sh/numeral')","note":{"type":"expr","code":" import('https://esm.sh/numeral')"}}},{"id":8,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= numeral.default(123456.789).format('0,0.00')","note":{"type":"expr","code":" numeral.default(123456.789).format('0,0.00')"}}},{"id":10,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"### CSV Parsing","note":{"type":"text","tag":"h3","text":"CSV Parsing"}}},{"id":11,"name":"Papa","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= import('https://esm.sh/papaparse')","note":{"type":"expr","code":" import('https://esm.sh/papaparse')"}}},{"id":12,"name":"csv","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"id,name,age,plan,email\n0,John,28,free,john@example.com\n1,Alice,34,premium,alice@boo\n2,Bob,43,premium,bob@b.b","note":{"type":"text","tag":"p","text":"id,name,age,plan,email\n0,John,28,free,john@example.com\n1,Alice,34,premium,alice@boo\n2,Bob,43,premium,bob@b.b"}}},{"id":13,"name":"data","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= Papa.default.parse(csv.text, { header: true }).data","note":{"type":"expr","code":" Papa.default.parse(csv.text, { header: true }).data"}}},{"id":15,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"### Data Validation","note":{"type":"text","tag":"h3","text":"Data Validation"}}},{"id":16,"name":"validator","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= import('https://esm.sh/validator')","note":{"type":"expr","code":" import('https://esm.sh/validator')"}}},{"id":17,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= data.map(user => ({ ...user, validEmail: validator.default.isEmail(user.email) }))","note":{"type":"expr","code":" data.map(user => ({ ...user, validEmail: validator.default.isEmail(user.email) }))"}}},{"id":18,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"### Data Processing","note":{"type":"text","tag":"h3","text":"Data Processing"}}},{"id":19,"name":"lodash","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= import('https://esm.sh/lodash')","note":{"type":"expr","code":" import('https://esm.sh/lodash')"}}},{"id":20,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= lodash.default.groupBy(data, 'plan')","note":{"type":"expr","code":" lodash.default.groupBy(data, 'plan')"}}},{"id":21,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"### Dates","note":{"type":"text","tag":"h3","text":"Dates"}}},{"id":22,"name":"datefns","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= import('https://esm.sh/date-fns')","note":{"type":"expr","code":" import('https://esm.sh/date-fns')"}}},{"id":23,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= datefns.parse('midnight', 'B', new Date())","note":{"type":"expr","code":" datefns.parse('midnight', 'B', new Date())"}}},{"id":24,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"### Charts","note":{"type":"text","tag":"h3","text":"Charts"}}},{"id":25,"name":"recharts","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= import('https://esm.sh/recharts?external=react')","note":{"type":"expr","code":" import('https://esm.sh/recharts?external=react')"}}},{"id":27,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"/blocks.JSExpr","note":{"type":"block","isInstantiated":true,"code":"blocks.JSExpr","state":"const { BarChart, Bar, LineChart, Line, CartesianGrid, XAxis, YAxis } = recharts;\n\nconst data = [10, 20, 15, 30].map((x, index) => ({ x, index }));\n\n//<ResponsiveContainer width=\"100%\" height=\"400px\">\n  <BarChart width={768} height={400} data={data}>\n    <Bar type=\"monotone\" dataKey=\"x\" fill=\"#8884d8\" />\n    <XAxis dataKey=\"index\"/>\n    <YAxis/>\n  </BarChart>\n//</ResponsiveContainer>"}}}]}},"isCollapsed":true,"children":[]},{"id":2,"name":"Markdown","state":{"t":"resheet.selector","v":0,"mode":"run","expr":"SheetOf(Note)","inner":{"t":"resheet.sheet","v":1,"lines":[{"id":0,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"# Markdown","note":{"type":"text","tag":"h1","text":"Markdown"}}},{"id":1,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"*`*italic*`*","note":{"type":"text","tag":"p","text":"*`*italic*`*"}}},{"id":2,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"**`**bold**`**","note":{"type":"text","tag":"p","text":"**`**bold**`**"}}},{"id":3,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"`[a link](url)`","note":{"type":"text","tag":"p","text":"`[a link](url)`"}}},{"id":4,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"- Lists","note":{"type":"text","tag":"li","text":"Lists"}}},{"id":5,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"[ ] Todos","note":{"type":"checkbox","checked":false,"text":"Todos"}}},{"id":6,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"[x] Done","note":{"type":"checkbox","checked":true,"text":"Done"}}},{"id":7,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"`# Headings`","note":{"type":"text","tag":"p","text":"`# Headings`"}}},{"id":8,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"Inline <span className=\"before:block before:absolute before:-inset-0.5 before:-skew-y-1 before:bg-blue-100 relative inline-block\"><span className=\"relative text-blue-950\">Html with [tailwindcss](https://tailwindcss.com/docs/utility-first)</span></span>","note":{"type":"text","tag":"p","text":"Inline <span className=\"before:block before:absolute before:-inset-0.5 before:-skew-y-1 before:bg-blue-100 relative inline-block\"><span className=\"relative text-blue-950\">Html with [tailwindcss](https://tailwindcss.com/docs/utility-first)</span></span>"}}}]}},"isCollapsed":true,"children":[]},{"id":3,"name":"Blocks","state":{"t":"resheet.selector","v":0,"mode":"run","expr":"SheetOf(Note)","inner":{"t":"resheet.sheet","v":1,"lines":[{"id":0,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"# Blocks","note":{"type":"text","tag":"h1","text":"Blocks"}}},{"id":1,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"Blocks are the equivalent to cells in a spreadsheet. Most things in ReSheet are Blocks.","note":{"type":"text","tag":"p","text":"Blocks are the equivalent to cells in a spreadsheet. Most things in ReSheet are Blocks."}}},{"id":3,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}},{"id":2,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"Every line here contains a `Note` Block, which allows writing Markdown or Formulas.","note":{"type":"text","tag":"p","text":"Every line here contains a `Note` Block, which allows writing Markdown or Formulas."}}},{"id":4,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"A `Note` Block also allows using another Block, for example `JSExpr`. Type:","note":{"type":"text","tag":"p","text":"A `Note` Block also allows using another Block, for example `JSExpr`. Type:"}}},{"id":5,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"/blocks.JSExpr","note":{"type":"block","isInstantiated":false,"code":"blocks.JSExpr"}}},{"id":6,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"and hit ⌘`Enter` to use it:","note":{"type":"text","tag":"p","text":"and hit ⌘`Enter` to use it:"}}},{"id":7,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"/blocks.JSExpr","note":{"type":"block","isInstantiated":true,"code":"blocks.JSExpr","state":"// This is a JSExpr Block now\nfunction Mark({ children }) {\n  return (\n    <span className=\"before:block before:absolute before:-inset-0.5 before:-skew-y-2 before:bg-blue-400 relative inline-block\">\n      <span className=\"relative text-white px-0.5 tracking-wide\">\n        {children}\n      </span>\n    </span>\n  )\n}\n\n<p className=\"py-1\">\n  <Mark>Look</Mark> at it!\n</p>"}}},{"id":8,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}},{"id":9,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"All lines here are part of the `SheetOf` Block:","note":{"type":"text","tag":"p","text":"All lines here are part of the `SheetOf` Block:"}}},{"id":10,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"/blocks.SheetOf(blocks.Note)","note":{"type":"block","isInstantiated":false,"code":"blocks.SheetOf(blocks.Note)"}}},{"id":11,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"/blocks.SheetOf(blocks.Note)","note":{"type":"block","isInstantiated":true,"code":"blocks.SheetOf(blocks.Note)","state":{"t":"resheet.sheet","v":1,"lines":[{"id":0,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"Now we have a Sheet inside of a Sheet","note":{"type":"text","tag":"p","text":"Now we have a Sheet inside of a Sheet"}}},{"id":1,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= $9.text","note":{"type":"expr","code":" $9.text"}}}]}}}},{"id":12,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}},{"id":13,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}},{"id":14,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"There are other Blocks available in `blocks`. (Use completion/docs with ⌘`Space`/⌘`D`)","note":{"type":"text","tag":"p","text":"There are other Blocks available in `blocks`. (Use completion/docs with ⌘`Space`/⌘`D`)"}}},{"id":15,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= blocks","note":{"type":"expr","code":" blocks"}}},{"id":16,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}},{"id":17,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"## Custom Blocks","note":{"type":"text","tag":"h2","text":"Custom Blocks"}}},{"id":18,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"You can build your own blocks. For now you either have to shoot me a message or look at the source code of the existing blocks to find out more.","note":{"type":"text","tag":"p","text":"You can build your own blocks. For now you either have to shoot me a message or look at the source code of the existing blocks to find out more."}}},{"id":19,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}},{"id":20,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"Ok, I'll give you a small example:","note":{"type":"text","tag":"p","text":"Ok, I'll give you a small example:"}}},{"id":21,"name":"RAW","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"/blocks.JSExpr","note":{"type":"block","isInstantiated":true,"code":"blocks.JSExpr","state":"resheet.core.block.create({\n  init: \"\",\n  view({ state, dispatch, env }, ref) {\n    return (\n      <textarea\n        ref={ref}\n        value={state}\n        onChange={ev => dispatch(stateBefore => ({ state: ev.target.value }))}\n        rows={state.split('\\n').length}\n        />\n    )\n  },\n  recompute(state, update, env) {\n    return state\n  },\n  getResult(state) {\n    return state\n  },\n  fromJSON(json) {\n    return typeof json === 'string' ? json : ''\n  },\n  toJSON(state) {\n    return state\n  },\n})"}}},{"id":22,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"/RAW","note":{"type":"block","isInstantiated":false,"code":"RAW"}}},{"id":23,"name":"rawText","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"/RAW","note":{"type":"block","isInstantiated":true,"code":"RAW","state":"{\n  \"hello\": \"world\"\n}"}}},{"id":24,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= JSON.parse(rawText)","note":{"type":"expr","code":" JSON.parse(rawText)"}}}]}},"isCollapsed":true,"children":[]}]}],"viewState":{"sidebarOpen":true,"openPage":[0,1]},"template":{"id":1,"name":"","state":{"t":"resheet.selector","v":0,"mode":"run","expr":"SheetOf(Note)","inner":{"t":"resheet.sheet","v":1,"lines":[{"id":0,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}}]}},"isCollapsed":true,"children":[]}},"prev":0},{"time":1711109124246,"state":{"pages":[{"id":0,"name":"Introduction","state":{"t":"resheet.selector","v":0,"mode":"run","expr":"SheetOf(Note)","inner":{"t":"resheet.sheet","v":1,"lines":[{"id":0,"name":"","visibility":"result","state":{"t":"resheet.note","v":1,"level":0,"input":"= <h1 className=\"flex space-x-2 items-baseline my-2 text-5xl\">\n    <img className=\"h-12\" src={resheet.assets.logoSvg} alt=\"ReSheet Logo\"/>\n    <span>ReSheet</span>\n    <span className=\"text-2xl\">alpha</span>\n  </h1>","note":{"type":"expr","code":" <h1 className=\"flex space-x-2 items-baseline my-2 text-5xl\">\n    <img className=\"h-12\" src={resheet.assets.logoSvg} alt=\"ReSheet Logo\"/>\n    <span>ReSheet</span>\n    <span className=\"text-2xl\">alpha</span>\n  </h1>"}}},{"id":41,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"A notes-spreadsheet-hybrid for programmers.","note":{"type":"text","tag":"p","text":"A notes-spreadsheet-hybrid for programmers."}}},{"id":86,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}},{"id":87,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"Everything in ReSheet is a Block. A Block can be thought of like a cell in a spreadsheet.","note":{"type":"text","tag":"p","text":"Everything in ReSheet is a Block. A Block can be thought of like a cell in a spreadsheet."}}},{"id":85,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"ReSheet is heavily keyboard-focused:","note":{"type":"text","tag":"p","text":"ReSheet is heavily keyboard-focused:"}}},{"id":88,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":1,"input":"Try **⌘K/⌘⇧P** to see all commands for the currently focused block(s). (Also try **⌘?**)","note":{"type":"text","tag":"p","text":"Try **⌘K/⌘⇧P** to see all commands for the currently focused block(s). (Also try **⌘?**)"}}},{"id":89,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":1,"input":"Use the ArrowKeys or `H`/`J`/`K`/`L` and `Enter`/`Escape` to move between Blocks.","note":{"type":"text","tag":"p","text":"Use the ArrowKeys or `H`/`J`/`K`/`L` and `Enter`/`Escape` to move between Blocks."}}},{"id":90,"name":"","visibility":"result","state":{"t":"resheet.note","v":1,"level":0,"input":"= <img className=\"my-4\" alt=\"ReSheet demo animation\" src={resheet.assets.demoGif} />","note":{"type":"expr","code":" <img className=\"my-4\" alt=\"ReSheet demo animation\" src={resheet.assets.demoGif} />"}}},{"id":70,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"## Shortcuts","note":{"type":"text","tag":"h2","text":"Shortcuts"}}},{"id":76,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"*⌘ = Meta = Ctrl (can be used interchangeably, useful if the browser intercepts a variant)*","note":{"type":"text","tag":"p","text":"*⌘ = Meta = Ctrl (can be used interchangeably, useful if the browser intercepts a variant)*"}}},{"id":66,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"Command Search: **⌘K/⌘⇧P**","note":{"type":"text","tag":"p","text":"Command Search: **⌘K/⌘⇧P**"}}},{"id":67,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"Shortcut Suggestions: **⌘?**","note":{"type":"text","tag":"p","text":"Shortcut Suggestions: **⌘?**"}}},{"id":68,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"Navigation: **Arrow Keys/`HJKL`**","note":{"type":"text","tag":"p","text":"Navigation: **Arrow Keys/`HJKL`**"}}},{"id":69,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"Go in/out: **`Enter`/`Escape`**","note":{"type":"text","tag":"p","text":"Go in/out: **`Enter`/`Escape`**"}}},{"id":71,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"## Writing","note":{"type":"text","tag":"h2","text":"Writing"}}},{"id":72,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"Format with Markdown","note":{"type":"text","tag":"p","text":"Format with Markdown"}}},{"id":74,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":1,"input":"<span className=\"text-sm text-gray-800\">(`*italic* **bold** [link text](link url)` etc)</span>","note":{"type":"text","tag":"p","text":"<span className=\"text-sm text-gray-800\">(`*italic* **bold** [link text](link url)` etc)</span>"}}},{"id":7,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"\"Formulas\" (JavaScript) start with `\"=\"`","note":{"type":"text","tag":"p","text":"\"Formulas\" (JavaScript) start with `\"=\"`"}}},{"id":82,"name":"x","visibility":"block","state":{"t":"resheet.note","v":1,"level":1,"input":"= 12","note":{"type":"expr","code":" 12"}}},{"id":84,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":1,"input":"= Math.sqrt(x + x)","note":{"type":"expr","code":" Math.sqrt(x + x)"}}},{"id":80,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":1,"input":"**⌘`Space`** for completions","note":{"type":"text","tag":"p","text":"**⌘`Space`** for completions"}}},{"id":81,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":1,"input":"**⌘`D`** for docs (if available)","note":{"type":"text","tag":"p","text":"**⌘`D`** for docs (if available)"}}}]}},"isCollapsed":false,"children":[{"id":0,"name":"Tips","state":{"t":"resheet.selector","v":0,"mode":"run","expr":"SheetOf(Note)","inner":{"t":"resheet.sheet","v":1,"lines":[{"id":13,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"# Tips","note":{"type":"text","tag":"h1","text":"Tips"}}},{"id":2,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"Your document is automatically backed up to IndexedDB, but gets deleted after 7 days. So don't forget to save it to a local file.","note":{"type":"text","tag":"p","text":"Your document is automatically backed up to IndexedDB, but gets deleted after 7 days. So don't forget to save it to a local file."}}},{"id":3,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}},{"id":4,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"ReSheet gives you the full power of JavaScript and React.","note":{"type":"text","tag":"p","text":"ReSheet gives you the full power of JavaScript and React."}}},{"id":5,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"**Be aware:** You have the **power to break it** (but generally you can undo it – ⌘Z) and full responsibilty to **ensure you trust the code you run**.","note":{"type":"text","tag":"p","text":"**Be aware:** You have the **power to break it** (but generally you can undo it – ⌘Z) and full responsibilty to **ensure you trust the code you run**."}}},{"id":6,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"Also beware of side-effects in your code: Everything is automatically rerun as needed (for changes), so side-effects may execute for every character you type.","note":{"type":"text","tag":"p","text":"Also beware of side-effects in your code: Everything is automatically rerun as needed (for changes), so side-effects may execute for every character you type."}}},{"id":7,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}},{"id":8,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"If a shortcut triggers a browser action, try an alternative key combination by switching ⌘/Meta/Ctrl.","note":{"type":"text","tag":"p","text":"If a shortcut triggers a browser action, try an alternative key combination by switching ⌘/Meta/Ctrl."}}},{"id":9,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":1,"input":"For example:","note":{"type":"text","tag":"p","text":"For example:"}}},{"id":10,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":2,"input":"⌘N = Meta-N = Ctrl-N","note":{"type":"text","tag":"p","text":"⌘N = Meta-N = Ctrl-N"}}},{"id":11,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":2,"input":"⌘⇧P = Meta-Shift-P = Ctrl-Shift-P","note":{"type":"text","tag":"p","text":"⌘⇧P = Meta-Shift-P = Ctrl-Shift-P"}}},{"id":12,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":2,"input":"etc","note":{"type":"text","tag":"p","text":"etc"}}}]}},"isCollapsed":true,"children":[]},{"id":1,"name":"Formulas","state":{"t":"resheet.selector","v":0,"mode":"run","expr":"SheetOf(Note)","inner":{"t":"resheet.sheet","v":1,"lines":[{"id":0,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"# Formulas","note":{"type":"text","tag":"h1","text":"Formulas"}}},{"id":1,"name":"msInADay","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= 24 /*h*/ * 60 /*min*/ * 60 /*sec*/ * 1000 /*ms*/","note":{"type":"expr","code":" 24 /*h*/ * 60 /*min*/ * 60 /*sec*/ * 1000 /*ms*/"}}},{"id":2,"name":"startOfThisYear","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= new Date(new Date().getFullYear(), 0, 1)","note":{"type":"expr","code":" new Date(new Date().getFullYear(), 0, 1)"}}},{"id":3,"name":"daysInThisYear","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= (Date.now() - startOfThisYear.getTime()) / msInADay","note":{"type":"expr","code":" (Date.now() - startOfThisYear.getTime()) / msInADay"}}},{"id":4,"name":"","visibility":"result","state":{"t":"resheet.note","v":1,"level":0,"input":"= // using react:\n<p className=\"py-2\">\n  This year is already {/* preserve the space character before this comment */}\n  {daysInThisYear.toLocaleString(\"en-US\", { maximumFractionDigits: 1 })}\n  {} days long. {}\n  <span className=\"text-sm text-gray-700\">(Select this line and show or hide the code with ⌘M)</span>\n</p>","note":{"type":"expr","code":" // using react:\n<p className=\"py-2\">\n  This year is already {/* preserve the space character before this comment */}\n  {daysInThisYear.toLocaleString(\"en-US\", { maximumFractionDigits: 1 })}\n  {} days long. {}\n  <span className=\"text-sm text-gray-700\">(Select this line and show or hide the code with ⌘M)</span>\n</p>"}}},{"id":5,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"## External Libraries","note":{"type":"text","tag":"h2","text":"External Libraries"}}},{"id":6,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"[esm.sh](https://esm.sh/) works great for loading npm libraries","note":{"type":"text","tag":"p","text":"[esm.sh](https://esm.sh/) works great for loading npm libraries"}}},{"id":14,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"### Number Formatting","note":{"type":"text","tag":"h3","text":"Number Formatting"}}},{"id":7,"name":"numeral","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= import('https://esm.sh/numeral')","note":{"type":"expr","code":" import('https://esm.sh/numeral')"}}},{"id":8,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= numeral.default(123456.789).format('0,0.00')","note":{"type":"expr","code":" numeral.default(123456.789).format('0,0.00')"}}},{"id":10,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"### CSV Parsing","note":{"type":"text","tag":"h3","text":"CSV Parsing"}}},{"id":11,"name":"Papa","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= import('https://esm.sh/papaparse')","note":{"type":"expr","code":" import('https://esm.sh/papaparse')"}}},{"id":12,"name":"csv","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"id,name,age,plan,email\n0,John,28,free,john@example.com\n1,Alice,34,premium,alice@boo\n2,Bob,43,premium,bob@b.b","note":{"type":"text","tag":"p","text":"id,name,age,plan,email\n0,John,28,free,john@example.com\n1,Alice,34,premium,alice@boo\n2,Bob,43,premium,bob@b.b"}}},{"id":13,"name":"data","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= Papa.default.parse(csv.text, { header: true }).data","note":{"type":"expr","code":" Papa.default.parse(csv.text, { header: true }).data"}}},{"id":15,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"### Data Validation","note":{"type":"text","tag":"h3","text":"Data Validation"}}},{"id":16,"name":"validator","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= import('https://esm.sh/validator')","note":{"type":"expr","code":" import('https://esm.sh/validator')"}}},{"id":17,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= data.map(user => ({ ...user, validEmail: validator.default.isEmail(user.email) }))","note":{"type":"expr","code":" data.map(user => ({ ...user, validEmail: validator.default.isEmail(user.email) }))"}}},{"id":18,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"### Data Processing","note":{"type":"text","tag":"h3","text":"Data Processing"}}},{"id":19,"name":"lodash","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= import('https://esm.sh/lodash')","note":{"type":"expr","code":" import('https://esm.sh/lodash')"}}},{"id":20,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= lodash.default.groupBy(data, 'plan')","note":{"type":"expr","code":" lodash.default.groupBy(data, 'plan')"}}},{"id":21,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"### Dates","note":{"type":"text","tag":"h3","text":"Dates"}}},{"id":22,"name":"datefns","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= import('https://esm.sh/date-fns')","note":{"type":"expr","code":" import('https://esm.sh/date-fns')"}}},{"id":23,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= datefns.parse('midnight', 'B', new Date())","note":{"type":"expr","code":" datefns.parse('midnight', 'B', new Date())"}}},{"id":24,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"### Charts","note":{"type":"text","tag":"h3","text":"Charts"}}},{"id":25,"name":"recharts","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= import('https://esm.sh/recharts?external=react')","note":{"type":"expr","code":" import('https://esm.sh/recharts?external=react')"}}},{"id":27,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"/blocks.JSExpr","note":{"type":"block","isInstantiated":true,"code":"blocks.JSExpr","state":"const { BarChart, Bar, LineChart, Line, CartesianGrid, XAxis, YAxis } =\n  recharts;\n\nconst data = [10, 20, 15, 30].map((x, index) => ({ x, index }));\n\n//<ResponsiveContainer width=\"100%\" height=\"400px\">\n  <BarChart width={768} height={400} data={data}>\n    <Bar type=\"monotone\" dataKey=\"x\" fill=\"#8884d8\" />\n    <XAxis dataKey=\"index\"/>\n    <YAxis/>\n  </BarChart>\n//</ResponsiveContainer>"}}}]}},"isCollapsed":true,"children":[]},{"id":2,"name":"Markdown","state":{"t":"resheet.selector","v":0,"mode":"run","expr":"SheetOf(Note)","inner":{"t":"resheet.sheet","v":1,"lines":[{"id":0,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"# Markdown","note":{"type":"text","tag":"h1","text":"Markdown"}}},{"id":1,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"*`*italic*`*","note":{"type":"text","tag":"p","text":"*`*italic*`*"}}},{"id":2,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"**`**bold**`**","note":{"type":"text","tag":"p","text":"**`**bold**`**"}}},{"id":3,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"`[a link](url)`","note":{"type":"text","tag":"p","text":"`[a link](url)`"}}},{"id":4,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"- Lists","note":{"type":"text","tag":"li","text":"Lists"}}},{"id":5,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"[ ] Todos","note":{"type":"checkbox","checked":false,"text":"Todos"}}},{"id":6,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"[x] Done","note":{"type":"checkbox","checked":true,"text":"Done"}}},{"id":7,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"`# Headings`","note":{"type":"text","tag":"p","text":"`# Headings`"}}},{"id":8,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"Inline <span className=\"before:block before:absolute before:-inset-0.5 before:-skew-y-1 before:bg-blue-100 relative inline-block\"><span className=\"relative text-blue-950\">Html with [tailwindcss](https://tailwindcss.com/docs/utility-first)</span></span>","note":{"type":"text","tag":"p","text":"Inline <span className=\"before:block before:absolute before:-inset-0.5 before:-skew-y-1 before:bg-blue-100 relative inline-block\"><span className=\"relative text-blue-950\">Html with [tailwindcss](https://tailwindcss.com/docs/utility-first)</span></span>"}}}]}},"isCollapsed":true,"children":[]},{"id":3,"name":"Blocks","state":{"t":"resheet.selector","v":0,"mode":"run","expr":"SheetOf(Note)","inner":{"t":"resheet.sheet","v":1,"lines":[{"id":0,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"# Blocks","note":{"type":"text","tag":"h1","text":"Blocks"}}},{"id":1,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"Blocks are the equivalent to cells in a spreadsheet. Most things in ReSheet are Blocks.","note":{"type":"text","tag":"p","text":"Blocks are the equivalent to cells in a spreadsheet. Most things in ReSheet are Blocks."}}},{"id":3,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}},{"id":2,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"Every line here contains a `Note` Block, which allows writing Markdown or Formulas.","note":{"type":"text","tag":"p","text":"Every line here contains a `Note` Block, which allows writing Markdown or Formulas."}}},{"id":4,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"A `Note` Block also allows using another Block, for example `JSExpr`. Type:","note":{"type":"text","tag":"p","text":"A `Note` Block also allows using another Block, for example `JSExpr`. Type:"}}},{"id":5,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"/blocks.JSExpr","note":{"type":"block","isInstantiated":false,"code":"blocks.JSExpr"}}},{"id":6,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"and hit ⌘`Enter` to use it:","note":{"type":"text","tag":"p","text":"and hit ⌘`Enter` to use it:"}}},{"id":7,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"/blocks.JSExpr","note":{"type":"block","isInstantiated":true,"code":"blocks.JSExpr","state":"// This is a JSExpr Block now\nfunction Mark({ children }) {\n  return (\n    <span className=\"before:block before:absolute before:-inset-0.5 before:-skew-y-2 before:bg-blue-400 relative inline-block\">\n      <span className=\"relative text-white px-0.5 tracking-wide\">\n        {children}\n      </span>\n    </span>\n  )\n}\n\n<p className=\"py-1\">\n  <Mark>Look</Mark> at it!\n</p>"}}},{"id":8,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}},{"id":9,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"All lines here are part of the `SheetOf` Block:","note":{"type":"text","tag":"p","text":"All lines here are part of the `SheetOf` Block:"}}},{"id":10,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"/blocks.SheetOf(blocks.Note)","note":{"type":"block","isInstantiated":false,"code":"blocks.SheetOf(blocks.Note)"}}},{"id":11,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"/blocks.SheetOf(blocks.Note)","note":{"type":"block","isInstantiated":true,"code":"blocks.SheetOf(blocks.Note)","state":{"t":"resheet.sheet","v":1,"lines":[{"id":0,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"Now we have a Sheet inside of a Sheet","note":{"type":"text","tag":"p","text":"Now we have a Sheet inside of a Sheet"}}},{"id":1,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= $9.text","note":{"type":"expr","code":" $9.text"}}}]}}}},{"id":12,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}},{"id":13,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}},{"id":14,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"There are other Blocks available in `blocks`. (Use completion/docs with ⌘`Space`/⌘`D`)","note":{"type":"text","tag":"p","text":"There are other Blocks available in `blocks`. (Use completion/docs with ⌘`Space`/⌘`D`)"}}},{"id":15,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= blocks","note":{"type":"expr","code":" blocks"}}},{"id":16,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}},{"id":17,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"## Custom Blocks","note":{"type":"text","tag":"h2","text":"Custom Blocks"}}},{"id":18,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"You can build your own blocks. For now you either have to shoot me a message or look at the source code of the existing blocks to find out more.","note":{"type":"text","tag":"p","text":"You can build your own blocks. For now you either have to shoot me a message or look at the source code of the existing blocks to find out more."}}},{"id":19,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}},{"id":20,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"Ok, I'll give you a small example:","note":{"type":"text","tag":"p","text":"Ok, I'll give you a small example:"}}},{"id":21,"name":"RAW","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"/blocks.JSExpr","note":{"type":"block","isInstantiated":true,"code":"blocks.JSExpr","state":"resheet.core.block.create({\n  init: \"\",\n  view({ state, dispatch, env }, ref) {\n    return (\n      <textarea\n        ref={ref}\n        value={state}\n        onChange={ev => dispatch(stateBefore => ({ state: ev.target.value }))}\n        rows={state.split('\\n').length}\n        />\n    )\n  },\n  recompute(state, update, env) {\n    return state\n  },\n  getResult(state) {\n    return state\n  },\n  fromJSON(json) {\n    return typeof json === 'string' ? json : ''\n  },\n  toJSON(state) {\n    return state\n  },\n})"}}},{"id":22,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"/RAW","note":{"type":"block","isInstantiated":false,"code":"RAW"}}},{"id":23,"name":"rawText","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"/RAW","note":{"type":"block","isInstantiated":true,"code":"RAW","state":"{\n  \"hello\": \"world\"\n}"}}},{"id":24,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= JSON.parse(rawText)","note":{"type":"expr","code":" JSON.parse(rawText)"}}}]}},"isCollapsed":true,"children":[]}]}],"viewState":{"sidebarOpen":true,"openPage":[0,1]},"template":{"id":1,"name":"","state":{"t":"resheet.selector","v":0,"mode":"run","expr":"SheetOf(Note)","inner":{"t":"resheet.sheet","v":1,"lines":[{"id":0,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}}]}},"isCollapsed":true,"children":[]}},"prev":0},{"time":1711109142951,"state":{"pages":[{"id":0,"name":"Introduction","state":{"t":"resheet.selector","v":0,"mode":"run","expr":"SheetOf(Note)","inner":{"t":"resheet.sheet","v":1,"lines":[{"id":0,"name":"","visibility":"result","state":{"t":"resheet.note","v":1,"level":0,"input":"= <h1 className=\"flex space-x-2 items-baseline my-2 text-5xl\">\n    <img className=\"h-12\" src={resheet.assets.logoSvg} alt=\"ReSheet Logo\"/>\n    <span>ReSheet</span>\n    <span className=\"text-2xl\">alpha</span>\n  </h1>","note":{"type":"expr","code":" <h1 className=\"flex space-x-2 items-baseline my-2 text-5xl\">\n    <img className=\"h-12\" src={resheet.assets.logoSvg} alt=\"ReSheet Logo\"/>\n    <span>ReSheet</span>\n    <span className=\"text-2xl\">alpha</span>\n  </h1>"}}},{"id":41,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"A notes-spreadsheet-hybrid for programmers.","note":{"type":"text","tag":"p","text":"A notes-spreadsheet-hybrid for programmers."}}},{"id":86,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}},{"id":87,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"Everything in ReSheet is a Block. A Block can be thought of like a cell in a spreadsheet.","note":{"type":"text","tag":"p","text":"Everything in ReSheet is a Block. A Block can be thought of like a cell in a spreadsheet."}}},{"id":85,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"ReSheet is heavily keyboard-focused:","note":{"type":"text","tag":"p","text":"ReSheet is heavily keyboard-focused:"}}},{"id":88,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":1,"input":"Try **⌘K/⌘⇧P** to see all commands for the currently focused block(s). (Also try **⌘?**)","note":{"type":"text","tag":"p","text":"Try **⌘K/⌘⇧P** to see all commands for the currently focused block(s). (Also try **⌘?**)"}}},{"id":89,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":1,"input":"Use the ArrowKeys or `H`/`J`/`K`/`L` and `Enter`/`Escape` to move between Blocks.","note":{"type":"text","tag":"p","text":"Use the ArrowKeys or `H`/`J`/`K`/`L` and `Enter`/`Escape` to move between Blocks."}}},{"id":90,"name":"","visibility":"result","state":{"t":"resheet.note","v":1,"level":0,"input":"= <img className=\"my-4\" alt=\"ReSheet demo animation\" src={resheet.assets.demoGif} />","note":{"type":"expr","code":" <img className=\"my-4\" alt=\"ReSheet demo animation\" src={resheet.assets.demoGif} />"}}},{"id":70,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"## Shortcuts","note":{"type":"text","tag":"h2","text":"Shortcuts"}}},{"id":76,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"*⌘ = Meta = Ctrl (can be used interchangeably, useful if the browser intercepts a variant)*","note":{"type":"text","tag":"p","text":"*⌘ = Meta = Ctrl (can be used interchangeably, useful if the browser intercepts a variant)*"}}},{"id":66,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"Command Search: **⌘K/⌘⇧P**","note":{"type":"text","tag":"p","text":"Command Search: **⌘K/⌘⇧P**"}}},{"id":67,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"Shortcut Suggestions: **⌘?**","note":{"type":"text","tag":"p","text":"Shortcut Suggestions: **⌘?**"}}},{"id":68,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"Navigation: **Arrow Keys/`HJKL`**","note":{"type":"text","tag":"p","text":"Navigation: **Arrow Keys/`HJKL`**"}}},{"id":69,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"Go in/out: **`Enter`/`Escape`**","note":{"type":"text","tag":"p","text":"Go in/out: **`Enter`/`Escape`**"}}},{"id":71,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"## Writing","note":{"type":"text","tag":"h2","text":"Writing"}}},{"id":72,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"Format with Markdown","note":{"type":"text","tag":"p","text":"Format with Markdown"}}},{"id":74,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":1,"input":"<span className=\"text-sm text-gray-800\">(`*italic* **bold** [link text](link url)` etc)</span>","note":{"type":"text","tag":"p","text":"<span className=\"text-sm text-gray-800\">(`*italic* **bold** [link text](link url)` etc)</span>"}}},{"id":7,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"\"Formulas\" (JavaScript) start with `\"=\"`","note":{"type":"text","tag":"p","text":"\"Formulas\" (JavaScript) start with `\"=\"`"}}},{"id":82,"name":"x","visibility":"block","state":{"t":"resheet.note","v":1,"level":1,"input":"= 12","note":{"type":"expr","code":" 12"}}},{"id":84,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":1,"input":"= Math.sqrt(x + x)","note":{"type":"expr","code":" Math.sqrt(x + x)"}}},{"id":80,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":1,"input":"**⌘`Space`** for completions","note":{"type":"text","tag":"p","text":"**⌘`Space`** for completions"}}},{"id":81,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":1,"input":"**⌘`D`** for docs (if available)","note":{"type":"text","tag":"p","text":"**⌘`D`** for docs (if available)"}}}]}},"isCollapsed":false,"children":[{"id":0,"name":"Tips","state":{"t":"resheet.selector","v":0,"mode":"run","expr":"SheetOf(Note)","inner":{"t":"resheet.sheet","v":1,"lines":[{"id":13,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"# Tips","note":{"type":"text","tag":"h1","text":"Tips"}}},{"id":2,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"Your document is automatically backed up to IndexedDB, but gets deleted after 7 days. So don't forget to save it to a local file.","note":{"type":"text","tag":"p","text":"Your document is automatically backed up to IndexedDB, but gets deleted after 7 days. So don't forget to save it to a local file."}}},{"id":3,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}},{"id":4,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"ReSheet gives you the full power of JavaScript and React.","note":{"type":"text","tag":"p","text":"ReSheet gives you the full power of JavaScript and React."}}},{"id":5,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"**Be aware:** You have the **power to break it** (but generally you can undo it – ⌘Z) and full responsibilty to **ensure you trust the code you run**.","note":{"type":"text","tag":"p","text":"**Be aware:** You have the **power to break it** (but generally you can undo it – ⌘Z) and full responsibilty to **ensure you trust the code you run**."}}},{"id":6,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"Also beware of side-effects in your code: Everything is automatically rerun as needed (for changes), so side-effects may execute for every character you type.","note":{"type":"text","tag":"p","text":"Also beware of side-effects in your code: Everything is automatically rerun as needed (for changes), so side-effects may execute for every character you type."}}},{"id":7,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}},{"id":8,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"If a shortcut triggers a browser action, try an alternative key combination by switching ⌘/Meta/Ctrl.","note":{"type":"text","tag":"p","text":"If a shortcut triggers a browser action, try an alternative key combination by switching ⌘/Meta/Ctrl."}}},{"id":9,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":1,"input":"For example:","note":{"type":"text","tag":"p","text":"For example:"}}},{"id":10,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":2,"input":"⌘N = Meta-N = Ctrl-N","note":{"type":"text","tag":"p","text":"⌘N = Meta-N = Ctrl-N"}}},{"id":11,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":2,"input":"⌘⇧P = Meta-Shift-P = Ctrl-Shift-P","note":{"type":"text","tag":"p","text":"⌘⇧P = Meta-Shift-P = Ctrl-Shift-P"}}},{"id":12,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":2,"input":"etc","note":{"type":"text","tag":"p","text":"etc"}}}]}},"isCollapsed":true,"children":[]},{"id":1,"name":"Formulas","state":{"t":"resheet.selector","v":0,"mode":"run","expr":"SheetOf(Note)","inner":{"t":"resheet.sheet","v":1,"lines":[{"id":0,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"# Formulas","note":{"type":"text","tag":"h1","text":"Formulas"}}},{"id":1,"name":"msInADay","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= 24 /*h*/ * 60 /*min*/ * 60 /*sec*/ * 1000 /*ms*/","note":{"type":"expr","code":" 24 /*h*/ * 60 /*min*/ * 60 /*sec*/ * 1000 /*ms*/"}}},{"id":2,"name":"startOfThisYear","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= new Date(new Date().getFullYear(), 0, 1)","note":{"type":"expr","code":" new Date(new Date().getFullYear(), 0, 1)"}}},{"id":3,"name":"daysInThisYear","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= (Date.now() - startOfThisYear.getTime()) / msInADay","note":{"type":"expr","code":" (Date.now() - startOfThisYear.getTime()) / msInADay"}}},{"id":4,"name":"","visibility":"result","state":{"t":"resheet.note","v":1,"level":0,"input":"= // using react:\n<p className=\"py-2\">\n  This year is already {/* preserve the space character before this comment */}\n  {daysInThisYear.toLocaleString(\"en-US\", { maximumFractionDigits: 1 })}\n  {} days long. {}\n  <span className=\"text-sm text-gray-700\">(Select this line and show or hide the code with ⌘M)</span>\n</p>","note":{"type":"expr","code":" // using react:\n<p className=\"py-2\">\n  This year is already {/* preserve the space character before this comment */}\n  {daysInThisYear.toLocaleString(\"en-US\", { maximumFractionDigits: 1 })}\n  {} days long. {}\n  <span className=\"text-sm text-gray-700\">(Select this line and show or hide the code with ⌘M)</span>\n</p>"}}},{"id":5,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"## External Libraries","note":{"type":"text","tag":"h2","text":"External Libraries"}}},{"id":6,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"[esm.sh](https://esm.sh/) works great for loading npm libraries","note":{"type":"text","tag":"p","text":"[esm.sh](https://esm.sh/) works great for loading npm libraries"}}},{"id":14,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"### Number Formatting","note":{"type":"text","tag":"h3","text":"Number Formatting"}}},{"id":7,"name":"numeral","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= import('https://esm.sh/numeral')","note":{"type":"expr","code":" import('https://esm.sh/numeral')"}}},{"id":8,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= numeral.default(123456.789).format('0,0.00')","note":{"type":"expr","code":" numeral.default(123456.789).format('0,0.00')"}}},{"id":10,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"### CSV Parsing","note":{"type":"text","tag":"h3","text":"CSV Parsing"}}},{"id":11,"name":"Papa","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= import('https://esm.sh/papaparse')","note":{"type":"expr","code":" import('https://esm.sh/papaparse')"}}},{"id":12,"name":"csv","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"id,name,age,plan,email\n0,John,28,free,john@example.com\n1,Alice,34,premium,alice@boo\n2,Bob,43,premium,bob@b.b","note":{"type":"text","tag":"p","text":"id,name,age,plan,email\n0,John,28,free,john@example.com\n1,Alice,34,premium,alice@boo\n2,Bob,43,premium,bob@b.b"}}},{"id":13,"name":"data","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= Papa.default.parse(csv.text, { header: true }).data","note":{"type":"expr","code":" Papa.default.parse(csv.text, { header: true }).data"}}},{"id":15,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"### Data Validation","note":{"type":"text","tag":"h3","text":"Data Validation"}}},{"id":16,"name":"validator","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= import('https://esm.sh/validator')","note":{"type":"expr","code":" import('https://esm.sh/validator')"}}},{"id":17,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= data.map(user => ({ ...user, validEmail: validator.default.isEmail(user.email) }))","note":{"type":"expr","code":" data.map(user => ({ ...user, validEmail: validator.default.isEmail(user.email) }))"}}},{"id":18,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"### Data Processing","note":{"type":"text","tag":"h3","text":"Data Processing"}}},{"id":19,"name":"lodash","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= import('https://esm.sh/lodash')","note":{"type":"expr","code":" import('https://esm.sh/lodash')"}}},{"id":20,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= lodash.default.groupBy(data, 'plan')","note":{"type":"expr","code":" lodash.default.groupBy(data, 'plan')"}}},{"id":21,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"### Dates","note":{"type":"text","tag":"h3","text":"Dates"}}},{"id":22,"name":"datefns","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= import('https://esm.sh/date-fns')","note":{"type":"expr","code":" import('https://esm.sh/date-fns')"}}},{"id":23,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= datefns.parse('midnight', 'B', new Date())","note":{"type":"expr","code":" datefns.parse('midnight', 'B', new Date())"}}},{"id":24,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"### Charts","note":{"type":"text","tag":"h3","text":"Charts"}}},{"id":25,"name":"recharts","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= import('https://esm.sh/recharts?external=react')","note":{"type":"expr","code":" import('https://esm.sh/recharts?external=react')"}}},{"id":27,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"/blocks.JSExpr","note":{"type":"block","isInstantiated":true,"code":"blocks.JSExpr","state":"const { BarChart, Bar, LineChart, Line, CartesianGrid, XAxis, YAxis } =\n  recharts;\n\nconst data = [10, 20, 15, 30].map((x, index) => ({ x, index }));\n\n//<ResponsiveContainer width=\"100%\" height=\"400px\">\n  <BarChart width={768} height={400} data={data}>\n    <Bar type=\"monotone\" dataKey=\"x\" fill=\"#8884d8\" />\n    <XAxis dataKey=\"index\"/>\n    <YAxis/>\n  </BarChart>\n//</ResponsiveContainer>"}}}]}},"isCollapsed":true,"children":[]},{"id":2,"name":"Markdown","state":{"t":"resheet.selector","v":0,"mode":"run","expr":"SheetOf(Note)","inner":{"t":"resheet.sheet","v":1,"lines":[{"id":0,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"# Markdown","note":{"type":"text","tag":"h1","text":"Markdown"}}},{"id":1,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"*`*italic*`*","note":{"type":"text","tag":"p","text":"*`*italic*`*"}}},{"id":2,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"**`**bold**`**","note":{"type":"text","tag":"p","text":"**`**bold**`**"}}},{"id":3,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"`[a link](url)`","note":{"type":"text","tag":"p","text":"`[a link](url)`"}}},{"id":4,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"- Lists","note":{"type":"text","tag":"li","text":"Lists"}}},{"id":5,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"[ ] Todos","note":{"type":"checkbox","checked":false,"text":"Todos"}}},{"id":6,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"[x] Done","note":{"type":"checkbox","checked":true,"text":"Done"}}},{"id":7,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"`# Headings`","note":{"type":"text","tag":"p","text":"`# Headings`"}}},{"id":8,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"Inline <span className=\"before:block before:absolute before:-inset-0.5 before:-skew-y-1 before:bg-blue-100 relative inline-block\"><span className=\"relative text-blue-950\">Html with [tailwindcss](https://tailwindcss.com/docs/utility-first)</span></span>","note":{"type":"text","tag":"p","text":"Inline <span className=\"before:block before:absolute before:-inset-0.5 before:-skew-y-1 before:bg-blue-100 relative inline-block\"><span className=\"relative text-blue-950\">Html with [tailwindcss](https://tailwindcss.com/docs/utility-first)</span></span>"}}}]}},"isCollapsed":true,"children":[]},{"id":3,"name":"Blocks","state":{"t":"resheet.selector","v":0,"mode":"run","expr":"SheetOf(Note)","inner":{"t":"resheet.sheet","v":1,"lines":[{"id":0,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"# Blocks","note":{"type":"text","tag":"h1","text":"Blocks"}}},{"id":1,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"Blocks are the equivalent to cells in a spreadsheet. Most things in ReSheet are Blocks.","note":{"type":"text","tag":"p","text":"Blocks are the equivalent to cells in a spreadsheet. Most things in ReSheet are Blocks."}}},{"id":3,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}},{"id":2,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"Every line here contains a `Note` Block, which allows writing Markdown or Formulas.","note":{"type":"text","tag":"p","text":"Every line here contains a `Note` Block, which allows writing Markdown or Formulas."}}},{"id":4,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"A `Note` Block also allows using another Block, for example `JSExpr`. Type:","note":{"type":"text","tag":"p","text":"A `Note` Block also allows using another Block, for example `JSExpr`. Type:"}}},{"id":5,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"/blocks.JSExpr","note":{"type":"block","isInstantiated":false,"code":"blocks.JSExpr"}}},{"id":6,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"and hit ⌘`Enter` to use it:","note":{"type":"text","tag":"p","text":"and hit ⌘`Enter` to use it:"}}},{"id":7,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"/blocks.JSExpr","note":{"type":"block","isInstantiated":true,"code":"blocks.JSExpr","state":"// This is a JSExpr Block now\nfunction Mark({ children }) {\n  return (\n    <span className=\"before:block before:absolute before:-inset-0.5 before:-skew-y-2 before:bg-blue-400 relative inline-block\">\n      <span className=\"relative text-white px-0.5 tracking-wide\">\n        {children}\n      </span>\n    </span>\n  )\n}\n\n<p className=\"py-1\">\n  <Mark>Look</Mark> at it!\n</p>"}}},{"id":8,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}},{"id":9,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"All lines here are part of the `SheetOf` Block:","note":{"type":"text","tag":"p","text":"All lines here are part of the `SheetOf` Block:"}}},{"id":10,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"/blocks.SheetOf(blocks.Note)","note":{"type":"block","isInstantiated":false,"code":"blocks.SheetOf(blocks.Note)"}}},{"id":11,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"/blocks.SheetOf(blocks.Note)","note":{"type":"block","isInstantiated":true,"code":"blocks.SheetOf(blocks.Note)","state":{"t":"resheet.sheet","v":1,"lines":[{"id":0,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"Now we have a Sheet inside of a Sheet","note":{"type":"text","tag":"p","text":"Now we have a Sheet inside of a Sheet"}}},{"id":1,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= $9.text","note":{"type":"expr","code":" $9.text"}}}]}}}},{"id":12,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}},{"id":13,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}},{"id":14,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"There are other Blocks available in `blocks`. (Use completion/docs with ⌘`Space`/⌘`D`)","note":{"type":"text","tag":"p","text":"There are other Blocks available in `blocks`. (Use completion/docs with ⌘`Space`/⌘`D`)"}}},{"id":15,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= blocks","note":{"type":"expr","code":" blocks"}}},{"id":16,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}},{"id":17,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"## Custom Blocks","note":{"type":"text","tag":"h2","text":"Custom Blocks"}}},{"id":18,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"You can build your own blocks. For now you either have to shoot me a message or look at the source code of the existing blocks to find out more.","note":{"type":"text","tag":"p","text":"You can build your own blocks. For now you either have to shoot me a message or look at the source code of the existing blocks to find out more."}}},{"id":19,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}},{"id":20,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"Ok, I'll give you a small example:","note":{"type":"text","tag":"p","text":"Ok, I'll give you a small example:"}}},{"id":21,"name":"RAW","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"/blocks.JSExpr","note":{"type":"block","isInstantiated":true,"code":"blocks.JSExpr","state":"resheet.core.block.create({\n  init: \"\",\n  view({ state, dispatch, env }, ref) {\n    return (\n      <textarea\n        ref={ref}\n        value={state}\n        onChange={ev => dispatch(stateBefore => ({ state: ev.target.value }))}\n        rows={state.split('\\n').length}\n        />\n    )\n  },\n  recompute(state, update, env) {\n    return state\n  },\n  getResult(state) {\n    return state\n  },\n  fromJSON(json) {\n    return typeof json === 'string' ? json : ''\n  },\n  toJSON(state) {\n    return state\n  },\n})"}}},{"id":22,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"/RAW","note":{"type":"block","isInstantiated":false,"code":"RAW"}}},{"id":23,"name":"rawText","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"/RAW","note":{"type":"block","isInstantiated":true,"code":"RAW","state":"{\n  \"hello\": \"world\"\n}"}}},{"id":24,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= JSON.parse(rawText)","note":{"type":"expr","code":" JSON.parse(rawText)"}}}]}},"isCollapsed":true,"children":[]}]}],"viewState":{"sidebarOpen":true,"openPage":[0,1]},"template":{"id":1,"name":"","state":{"t":"resheet.selector","v":0,"mode":"run","expr":"SheetOf(Note)","inner":{"t":"resheet.sheet","v":1,"lines":[{"id":0,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}}]}},"isCollapsed":true,"children":[]}},"prev":0},{"time":1711109160026,"state":{"pages":[{"id":0,"name":"Introduction","state":{"t":"resheet.selector","v":0,"mode":"run","expr":"SheetOf(Note)","inner":{"t":"resheet.sheet","v":1,"lines":[{"id":0,"name":"","visibility":"result","state":{"t":"resheet.note","v":1,"level":0,"input":"= <h1 className=\"flex space-x-2 items-baseline my-2 text-5xl\">\n    <img className=\"h-12\" src={resheet.assets.logoSvg} alt=\"ReSheet Logo\"/>\n    <span>ReSheet</span>\n    <span className=\"text-2xl\">alpha</span>\n  </h1>","note":{"type":"expr","code":" <h1 className=\"flex space-x-2 items-baseline my-2 text-5xl\">\n    <img className=\"h-12\" src={resheet.assets.logoSvg} alt=\"ReSheet Logo\"/>\n    <span>ReSheet</span>\n    <span className=\"text-2xl\">alpha</span>\n  </h1>"}}},{"id":41,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"A notes-spreadsheet-hybrid for programmers.","note":{"type":"text","tag":"p","text":"A notes-spreadsheet-hybrid for programmers."}}},{"id":86,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}},{"id":87,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"Everything in ReSheet is a Block. A Block can be thought of like a cell in a spreadsheet.","note":{"type":"text","tag":"p","text":"Everything in ReSheet is a Block. A Block can be thought of like a cell in a spreadsheet."}}},{"id":85,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"ReSheet is heavily keyboard-focused:","note":{"type":"text","tag":"p","text":"ReSheet is heavily keyboard-focused:"}}},{"id":88,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":1,"input":"Try **⌘K/⌘⇧P** to see all commands for the currently focused block(s). (Also try **⌘?**)","note":{"type":"text","tag":"p","text":"Try **⌘K/⌘⇧P** to see all commands for the currently focused block(s). (Also try **⌘?**)"}}},{"id":89,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":1,"input":"Use the ArrowKeys or `H`/`J`/`K`/`L` and `Enter`/`Escape` to move between Blocks.","note":{"type":"text","tag":"p","text":"Use the ArrowKeys or `H`/`J`/`K`/`L` and `Enter`/`Escape` to move between Blocks."}}},{"id":90,"name":"","visibility":"result","state":{"t":"resheet.note","v":1,"level":0,"input":"= <img className=\"my-4\" alt=\"ReSheet demo animation\" src={resheet.assets.demoGif} />","note":{"type":"expr","code":" <img className=\"my-4\" alt=\"ReSheet demo animation\" src={resheet.assets.demoGif} />"}}},{"id":70,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"## Shortcuts","note":{"type":"text","tag":"h2","text":"Shortcuts"}}},{"id":76,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"*⌘ = Meta = Ctrl (can be used interchangeably, useful if the browser intercepts a variant)*","note":{"type":"text","tag":"p","text":"*⌘ = Meta = Ctrl (can be used interchangeably, useful if the browser intercepts a variant)*"}}},{"id":66,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"Command Search: **⌘K/⌘⇧P**","note":{"type":"text","tag":"p","text":"Command Search: **⌘K/⌘⇧P**"}}},{"id":67,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"Shortcut Suggestions: **⌘?**","note":{"type":"text","tag":"p","text":"Shortcut Suggestions: **⌘?**"}}},{"id":68,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"Navigation: **Arrow Keys/`HJKL`**","note":{"type":"text","tag":"p","text":"Navigation: **Arrow Keys/`HJKL`**"}}},{"id":69,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"Go in/out: **`Enter`/`Escape`**","note":{"type":"text","tag":"p","text":"Go in/out: **`Enter`/`Escape`**"}}},{"id":71,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"## Writing","note":{"type":"text","tag":"h2","text":"Writing"}}},{"id":72,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"Format with Markdown","note":{"type":"text","tag":"p","text":"Format with Markdown"}}},{"id":74,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":1,"input":"<span className=\"text-sm text-gray-800\">(`*italic* **bold** [link text](link url)` etc)</span>","note":{"type":"text","tag":"p","text":"<span className=\"text-sm text-gray-800\">(`*italic* **bold** [link text](link url)` etc)</span>"}}},{"id":7,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"\"Formulas\" (JavaScript) start with `\"=\"`","note":{"type":"text","tag":"p","text":"\"Formulas\" (JavaScript) start with `\"=\"`"}}},{"id":82,"name":"x","visibility":"block","state":{"t":"resheet.note","v":1,"level":1,"input":"= 12","note":{"type":"expr","code":" 12"}}},{"id":84,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":1,"input":"= Math.sqrt(x + x)","note":{"type":"expr","code":" Math.sqrt(x + x)"}}},{"id":80,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":1,"input":"**⌘`Space`** for completions","note":{"type":"text","tag":"p","text":"**⌘`Space`** for completions"}}},{"id":81,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":1,"input":"**⌘`D`** for docs (if available)","note":{"type":"text","tag":"p","text":"**⌘`D`** for docs (if available)"}}}]}},"isCollapsed":false,"children":[{"id":0,"name":"Tips","state":{"t":"resheet.selector","v":0,"mode":"run","expr":"SheetOf(Note)","inner":{"t":"resheet.sheet","v":1,"lines":[{"id":13,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"# Tips","note":{"type":"text","tag":"h1","text":"Tips"}}},{"id":2,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"Your document is automatically backed up to IndexedDB, but gets deleted after 7 days. So don't forget to save it to a local file.","note":{"type":"text","tag":"p","text":"Your document is automatically backed up to IndexedDB, but gets deleted after 7 days. So don't forget to save it to a local file."}}},{"id":3,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}},{"id":4,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"ReSheet gives you the full power of JavaScript and React.","note":{"type":"text","tag":"p","text":"ReSheet gives you the full power of JavaScript and React."}}},{"id":5,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"**Be aware:** You have the **power to break it** (but generally you can undo it – ⌘Z) and full responsibilty to **ensure you trust the code you run**.","note":{"type":"text","tag":"p","text":"**Be aware:** You have the **power to break it** (but generally you can undo it – ⌘Z) and full responsibilty to **ensure you trust the code you run**."}}},{"id":6,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"Also beware of side-effects in your code: Everything is automatically rerun as needed (for changes), so side-effects may execute for every character you type.","note":{"type":"text","tag":"p","text":"Also beware of side-effects in your code: Everything is automatically rerun as needed (for changes), so side-effects may execute for every character you type."}}},{"id":7,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}},{"id":8,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"If a shortcut triggers a browser action, try an alternative key combination by switching ⌘/Meta/Ctrl.","note":{"type":"text","tag":"p","text":"If a shortcut triggers a browser action, try an alternative key combination by switching ⌘/Meta/Ctrl."}}},{"id":9,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":1,"input":"For example:","note":{"type":"text","tag":"p","text":"For example:"}}},{"id":10,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":2,"input":"⌘N = Meta-N = Ctrl-N","note":{"type":"text","tag":"p","text":"⌘N = Meta-N = Ctrl-N"}}},{"id":11,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":2,"input":"⌘⇧P = Meta-Shift-P = Ctrl-Shift-P","note":{"type":"text","tag":"p","text":"⌘⇧P = Meta-Shift-P = Ctrl-Shift-P"}}},{"id":12,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":2,"input":"etc","note":{"type":"text","tag":"p","text":"etc"}}}]}},"isCollapsed":true,"children":[]},{"id":1,"name":"Formulas","state":{"t":"resheet.selector","v":0,"mode":"run","expr":"SheetOf(Note)","inner":{"t":"resheet.sheet","v":1,"lines":[{"id":0,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"# Formulas","note":{"type":"text","tag":"h1","text":"Formulas"}}},{"id":1,"name":"msInADay","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= 24 /*h*/ * 60 /*min*/ * 60 /*sec*/ * 1000 /*ms*/","note":{"type":"expr","code":" 24 /*h*/ * 60 /*min*/ * 60 /*sec*/ * 1000 /*ms*/"}}},{"id":2,"name":"startOfThisYear","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= new Date(new Date().getFullYear(), 0, 1)","note":{"type":"expr","code":" new Date(new Date().getFullYear(), 0, 1)"}}},{"id":3,"name":"daysInThisYear","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= (Date.now() - startOfThisYear.getTime()) / msInADay","note":{"type":"expr","code":" (Date.now() - startOfThisYear.getTime()) / msInADay"}}},{"id":4,"name":"","visibility":"result","state":{"t":"resheet.note","v":1,"level":0,"input":"= // using react:\n<p className=\"py-2\">\n  This year is already {/* preserve the space character before this comment */}\n  {daysInThisYear.toLocaleString(\"en-US\", { maximumFractionDigits: 1 })}\n  {} days long. {}\n  <span className=\"text-sm text-gray-700\">(Select this line and show or hide the code with ⌘M)</span>\n</p>","note":{"type":"expr","code":" // using react:\n<p className=\"py-2\">\n  This year is already {/* preserve the space character before this comment */}\n  {daysInThisYear.toLocaleString(\"en-US\", { maximumFractionDigits: 1 })}\n  {} days long. {}\n  <span className=\"text-sm text-gray-700\">(Select this line and show or hide the code with ⌘M)</span>\n</p>"}}},{"id":5,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"## External Libraries","note":{"type":"text","tag":"h2","text":"External Libraries"}}},{"id":6,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"[esm.sh](https://esm.sh/) works great for loading npm libraries","note":{"type":"text","tag":"p","text":"[esm.sh](https://esm.sh/) works great for loading npm libraries"}}},{"id":14,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"### Number Formatting","note":{"type":"text","tag":"h3","text":"Number Formatting"}}},{"id":7,"name":"numeral","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= import('https://esm.sh/numeral')","note":{"type":"expr","code":" import('https://esm.sh/numeral')"}}},{"id":8,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= numeral.default(123456.789).format('0,0.00')","note":{"type":"expr","code":" numeral.default(123456.789).format('0,0.00')"}}},{"id":10,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"### CSV Parsing","note":{"type":"text","tag":"h3","text":"CSV Parsing"}}},{"id":11,"name":"Papa","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= import('https://esm.sh/papaparse')","note":{"type":"expr","code":" import('https://esm.sh/papaparse')"}}},{"id":12,"name":"csv","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"id,name,age,plan,email\n0,John,28,free,john@example.com\n1,Alice,34,premium,alice@boo\n2,Bob,43,premium,bob@b.b","note":{"type":"text","tag":"p","text":"id,name,age,plan,email\n0,John,28,free,john@example.com\n1,Alice,34,premium,alice@boo\n2,Bob,43,premium,bob@b.b"}}},{"id":13,"name":"data","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= Papa.default.parse(csv.text, { header: true }).data","note":{"type":"expr","code":" Papa.default.parse(csv.text, { header: true }).data"}}},{"id":15,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"### Data Validation","note":{"type":"text","tag":"h3","text":"Data Validation"}}},{"id":16,"name":"validator","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= import('https://esm.sh/validator')","note":{"type":"expr","code":" import('https://esm.sh/validator')"}}},{"id":17,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= data.map(user => ({ ...user, validEmail: validator.default.isEmail(user.email) }))","note":{"type":"expr","code":" data.map(user => ({ ...user, validEmail: validator.default.isEmail(user.email) }))"}}},{"id":18,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"### Data Processing","note":{"type":"text","tag":"h3","text":"Data Processing"}}},{"id":19,"name":"lodash","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= import('https://esm.sh/lodash')","note":{"type":"expr","code":" import('https://esm.sh/lodash')"}}},{"id":20,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= lodash.default.groupBy(data, 'plan')","note":{"type":"expr","code":" lodash.default.groupBy(data, 'plan')"}}},{"id":21,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"### Dates","note":{"type":"text","tag":"h3","text":"Dates"}}},{"id":22,"name":"datefns","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= import('https://esm.sh/date-fns')","note":{"type":"expr","code":" import('https://esm.sh/date-fns')"}}},{"id":23,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= datefns.parse('midnight', 'B', new Date())","note":{"type":"expr","code":" datefns.parse('midnight', 'B', new Date())"}}},{"id":24,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"### Charts","note":{"type":"text","tag":"h3","text":"Charts"}}},{"id":25,"name":"recharts","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= import('https://esm.sh/recharts?external=react')","note":{"type":"expr","code":" import('https://esm.sh/recharts?external=react')"}}},{"id":27,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"/blocks.JSExpr","note":{"type":"block","isInstantiated":true,"code":"blocks.JSExpr","state":"const { BarChart, Bar, LineChart, Line, CartesianGrid, XAxis, YAxis } =\n  recharts;\n\n//<ResponsiveContainer width=\"100%\" height=\"400px\">\n  <BarChart width={768} height={400} data={data}>\n    <Bar type=\"monotone\" dataKey=\"x\" fill=\"#8884d8\" />\n    <XAxis dataKey=\"index\"/>\n    <YAxis/>\n  </BarChart>\n//</ResponsiveContainer>"}}}]}},"isCollapsed":true,"children":[]},{"id":2,"name":"Markdown","state":{"t":"resheet.selector","v":0,"mode":"run","expr":"SheetOf(Note)","inner":{"t":"resheet.sheet","v":1,"lines":[{"id":0,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"# Markdown","note":{"type":"text","tag":"h1","text":"Markdown"}}},{"id":1,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"*`*italic*`*","note":{"type":"text","tag":"p","text":"*`*italic*`*"}}},{"id":2,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"**`**bold**`**","note":{"type":"text","tag":"p","text":"**`**bold**`**"}}},{"id":3,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"`[a link](url)`","note":{"type":"text","tag":"p","text":"`[a link](url)`"}}},{"id":4,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"- Lists","note":{"type":"text","tag":"li","text":"Lists"}}},{"id":5,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"[ ] Todos","note":{"type":"checkbox","checked":false,"text":"Todos"}}},{"id":6,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"[x] Done","note":{"type":"checkbox","checked":true,"text":"Done"}}},{"id":7,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"`# Headings`","note":{"type":"text","tag":"p","text":"`# Headings`"}}},{"id":8,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"Inline <span className=\"before:block before:absolute before:-inset-0.5 before:-skew-y-1 before:bg-blue-100 relative inline-block\"><span className=\"relative text-blue-950\">Html with [tailwindcss](https://tailwindcss.com/docs/utility-first)</span></span>","note":{"type":"text","tag":"p","text":"Inline <span className=\"before:block before:absolute before:-inset-0.5 before:-skew-y-1 before:bg-blue-100 relative inline-block\"><span className=\"relative text-blue-950\">Html with [tailwindcss](https://tailwindcss.com/docs/utility-first)</span></span>"}}}]}},"isCollapsed":true,"children":[]},{"id":3,"name":"Blocks","state":{"t":"resheet.selector","v":0,"mode":"run","expr":"SheetOf(Note)","inner":{"t":"resheet.sheet","v":1,"lines":[{"id":0,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"# Blocks","note":{"type":"text","tag":"h1","text":"Blocks"}}},{"id":1,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"Blocks are the equivalent to cells in a spreadsheet. Most things in ReSheet are Blocks.","note":{"type":"text","tag":"p","text":"Blocks are the equivalent to cells in a spreadsheet. Most things in ReSheet are Blocks."}}},{"id":3,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}},{"id":2,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"Every line here contains a `Note` Block, which allows writing Markdown or Formulas.","note":{"type":"text","tag":"p","text":"Every line here contains a `Note` Block, which allows writing Markdown or Formulas."}}},{"id":4,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"A `Note` Block also allows using another Block, for example `JSExpr`. Type:","note":{"type":"text","tag":"p","text":"A `Note` Block also allows using another Block, for example `JSExpr`. Type:"}}},{"id":5,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"/blocks.JSExpr","note":{"type":"block","isInstantiated":false,"code":"blocks.JSExpr"}}},{"id":6,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"and hit ⌘`Enter` to use it:","note":{"type":"text","tag":"p","text":"and hit ⌘`Enter` to use it:"}}},{"id":7,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"/blocks.JSExpr","note":{"type":"block","isInstantiated":true,"code":"blocks.JSExpr","state":"// This is a JSExpr Block now\nfunction Mark({ children }) {\n  return (\n    <span className=\"before:block before:absolute before:-inset-0.5 before:-skew-y-2 before:bg-blue-400 relative inline-block\">\n      <span className=\"relative text-white px-0.5 tracking-wide\">\n        {children}\n      </span>\n    </span>\n  )\n}\n\n<p className=\"py-1\">\n  <Mark>Look</Mark> at it!\n</p>"}}},{"id":8,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}},{"id":9,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"All lines here are part of the `SheetOf` Block:","note":{"type":"text","tag":"p","text":"All lines here are part of the `SheetOf` Block:"}}},{"id":10,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"/blocks.SheetOf(blocks.Note)","note":{"type":"block","isInstantiated":false,"code":"blocks.SheetOf(blocks.Note)"}}},{"id":11,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"/blocks.SheetOf(blocks.Note)","note":{"type":"block","isInstantiated":true,"code":"blocks.SheetOf(blocks.Note)","state":{"t":"resheet.sheet","v":1,"lines":[{"id":0,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"Now we have a Sheet inside of a Sheet","note":{"type":"text","tag":"p","text":"Now we have a Sheet inside of a Sheet"}}},{"id":1,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= $9.text","note":{"type":"expr","code":" $9.text"}}}]}}}},{"id":12,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}},{"id":13,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}},{"id":14,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"There are other Blocks available in `blocks`. (Use completion/docs with ⌘`Space`/⌘`D`)","note":{"type":"text","tag":"p","text":"There are other Blocks available in `blocks`. (Use completion/docs with ⌘`Space`/⌘`D`)"}}},{"id":15,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= blocks","note":{"type":"expr","code":" blocks"}}},{"id":16,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}},{"id":17,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"## Custom Blocks","note":{"type":"text","tag":"h2","text":"Custom Blocks"}}},{"id":18,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"You can build your own blocks. For now you either have to shoot me a message or look at the source code of the existing blocks to find out more.","note":{"type":"text","tag":"p","text":"You can build your own blocks. For now you either have to shoot me a message or look at the source code of the existing blocks to find out more."}}},{"id":19,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}},{"id":20,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"Ok, I'll give you a small example:","note":{"type":"text","tag":"p","text":"Ok, I'll give you a small example:"}}},{"id":21,"name":"RAW","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"/blocks.JSExpr","note":{"type":"block","isInstantiated":true,"code":"blocks.JSExpr","state":"resheet.core.block.create({\n  init: \"\",\n  view({ state, dispatch, env }, ref) {\n    return (\n      <textarea\n        ref={ref}\n        value={state}\n        onChange={ev => dispatch(stateBefore => ({ state: ev.target.value }))}\n        rows={state.split('\\n').length}\n        />\n    )\n  },\n  recompute(state, update, env) {\n    return state\n  },\n  getResult(state) {\n    return state\n  },\n  fromJSON(json) {\n    return typeof json === 'string' ? json : ''\n  },\n  toJSON(state) {\n    return state\n  },\n})"}}},{"id":22,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"/RAW","note":{"type":"block","isInstantiated":false,"code":"RAW"}}},{"id":23,"name":"rawText","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"/RAW","note":{"type":"block","isInstantiated":true,"code":"RAW","state":"{\n  \"hello\": \"world\"\n}"}}},{"id":24,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= JSON.parse(rawText)","note":{"type":"expr","code":" JSON.parse(rawText)"}}}]}},"isCollapsed":true,"children":[]}]}],"viewState":{"sidebarOpen":true,"openPage":[0,1]},"template":{"id":1,"name":"","state":{"t":"resheet.selector","v":0,"mode":"run","expr":"SheetOf(Note)","inner":{"t":"resheet.sheet","v":1,"lines":[{"id":0,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}}]}},"isCollapsed":true,"children":[]}},"prev":0},{"time":1711109174886,"state":{"pages":[{"id":0,"name":"Introduction","state":{"t":"resheet.selector","v":0,"mode":"run","expr":"SheetOf(Note)","inner":{"t":"resheet.sheet","v":1,"lines":[{"id":0,"name":"","visibility":"result","state":{"t":"resheet.note","v":1,"level":0,"input":"= <h1 className=\"flex space-x-2 items-baseline my-2 text-5xl\">\n    <img className=\"h-12\" src={resheet.assets.logoSvg} alt=\"ReSheet Logo\"/>\n    <span>ReSheet</span>\n    <span className=\"text-2xl\">alpha</span>\n  </h1>","note":{"type":"expr","code":" <h1 className=\"flex space-x-2 items-baseline my-2 text-5xl\">\n    <img className=\"h-12\" src={resheet.assets.logoSvg} alt=\"ReSheet Logo\"/>\n    <span>ReSheet</span>\n    <span className=\"text-2xl\">alpha</span>\n  </h1>"}}},{"id":41,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"A notes-spreadsheet-hybrid for programmers.","note":{"type":"text","tag":"p","text":"A notes-spreadsheet-hybrid for programmers."}}},{"id":86,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}},{"id":87,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"Everything in ReSheet is a Block. A Block can be thought of like a cell in a spreadsheet.","note":{"type":"text","tag":"p","text":"Everything in ReSheet is a Block. A Block can be thought of like a cell in a spreadsheet."}}},{"id":85,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"ReSheet is heavily keyboard-focused:","note":{"type":"text","tag":"p","text":"ReSheet is heavily keyboard-focused:"}}},{"id":88,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":1,"input":"Try **⌘K/⌘⇧P** to see all commands for the currently focused block(s). (Also try **⌘?**)","note":{"type":"text","tag":"p","text":"Try **⌘K/⌘⇧P** to see all commands for the currently focused block(s). (Also try **⌘?**)"}}},{"id":89,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":1,"input":"Use the ArrowKeys or `H`/`J`/`K`/`L` and `Enter`/`Escape` to move between Blocks.","note":{"type":"text","tag":"p","text":"Use the ArrowKeys or `H`/`J`/`K`/`L` and `Enter`/`Escape` to move between Blocks."}}},{"id":90,"name":"","visibility":"result","state":{"t":"resheet.note","v":1,"level":0,"input":"= <img className=\"my-4\" alt=\"ReSheet demo animation\" src={resheet.assets.demoGif} />","note":{"type":"expr","code":" <img className=\"my-4\" alt=\"ReSheet demo animation\" src={resheet.assets.demoGif} />"}}},{"id":70,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"## Shortcuts","note":{"type":"text","tag":"h2","text":"Shortcuts"}}},{"id":76,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"*⌘ = Meta = Ctrl (can be used interchangeably, useful if the browser intercepts a variant)*","note":{"type":"text","tag":"p","text":"*⌘ = Meta = Ctrl (can be used interchangeably, useful if the browser intercepts a variant)*"}}},{"id":66,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"Command Search: **⌘K/⌘⇧P**","note":{"type":"text","tag":"p","text":"Command Search: **⌘K/⌘⇧P**"}}},{"id":67,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"Shortcut Suggestions: **⌘?**","note":{"type":"text","tag":"p","text":"Shortcut Suggestions: **⌘?**"}}},{"id":68,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"Navigation: **Arrow Keys/`HJKL`**","note":{"type":"text","tag":"p","text":"Navigation: **Arrow Keys/`HJKL`**"}}},{"id":69,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"Go in/out: **`Enter`/`Escape`**","note":{"type":"text","tag":"p","text":"Go in/out: **`Enter`/`Escape`**"}}},{"id":71,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"## Writing","note":{"type":"text","tag":"h2","text":"Writing"}}},{"id":72,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"Format with Markdown","note":{"type":"text","tag":"p","text":"Format with Markdown"}}},{"id":74,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":1,"input":"<span className=\"text-sm text-gray-800\">(`*italic* **bold** [link text](link url)` etc)</span>","note":{"type":"text","tag":"p","text":"<span className=\"text-sm text-gray-800\">(`*italic* **bold** [link text](link url)` etc)</span>"}}},{"id":7,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"\"Formulas\" (JavaScript) start with `\"=\"`","note":{"type":"text","tag":"p","text":"\"Formulas\" (JavaScript) start with `\"=\"`"}}},{"id":82,"name":"x","visibility":"block","state":{"t":"resheet.note","v":1,"level":1,"input":"= 12","note":{"type":"expr","code":" 12"}}},{"id":84,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":1,"input":"= Math.sqrt(x + x)","note":{"type":"expr","code":" Math.sqrt(x + x)"}}},{"id":80,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":1,"input":"**⌘`Space`** for completions","note":{"type":"text","tag":"p","text":"**⌘`Space`** for completions"}}},{"id":81,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":1,"input":"**⌘`D`** for docs (if available)","note":{"type":"text","tag":"p","text":"**⌘`D`** for docs (if available)"}}}]}},"isCollapsed":false,"children":[{"id":0,"name":"Tips","state":{"t":"resheet.selector","v":0,"mode":"run","expr":"SheetOf(Note)","inner":{"t":"resheet.sheet","v":1,"lines":[{"id":13,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"# Tips","note":{"type":"text","tag":"h1","text":"Tips"}}},{"id":2,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"Your document is automatically backed up to IndexedDB, but gets deleted after 7 days. So don't forget to save it to a local file.","note":{"type":"text","tag":"p","text":"Your document is automatically backed up to IndexedDB, but gets deleted after 7 days. So don't forget to save it to a local file."}}},{"id":3,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}},{"id":4,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"ReSheet gives you the full power of JavaScript and React.","note":{"type":"text","tag":"p","text":"ReSheet gives you the full power of JavaScript and React."}}},{"id":5,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"**Be aware:** You have the **power to break it** (but generally you can undo it – ⌘Z) and full responsibilty to **ensure you trust the code you run**.","note":{"type":"text","tag":"p","text":"**Be aware:** You have the **power to break it** (but generally you can undo it – ⌘Z) and full responsibilty to **ensure you trust the code you run**."}}},{"id":6,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"Also beware of side-effects in your code: Everything is automatically rerun as needed (for changes), so side-effects may execute for every character you type.","note":{"type":"text","tag":"p","text":"Also beware of side-effects in your code: Everything is automatically rerun as needed (for changes), so side-effects may execute for every character you type."}}},{"id":7,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}},{"id":8,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"If a shortcut triggers a browser action, try an alternative key combination by switching ⌘/Meta/Ctrl.","note":{"type":"text","tag":"p","text":"If a shortcut triggers a browser action, try an alternative key combination by switching ⌘/Meta/Ctrl."}}},{"id":9,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":1,"input":"For example:","note":{"type":"text","tag":"p","text":"For example:"}}},{"id":10,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":2,"input":"⌘N = Meta-N = Ctrl-N","note":{"type":"text","tag":"p","text":"⌘N = Meta-N = Ctrl-N"}}},{"id":11,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":2,"input":"⌘⇧P = Meta-Shift-P = Ctrl-Shift-P","note":{"type":"text","tag":"p","text":"⌘⇧P = Meta-Shift-P = Ctrl-Shift-P"}}},{"id":12,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":2,"input":"etc","note":{"type":"text","tag":"p","text":"etc"}}}]}},"isCollapsed":true,"children":[]},{"id":1,"name":"Formulas","state":{"t":"resheet.selector","v":0,"mode":"run","expr":"SheetOf(Note)","inner":{"t":"resheet.sheet","v":1,"lines":[{"id":0,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"# Formulas","note":{"type":"text","tag":"h1","text":"Formulas"}}},{"id":1,"name":"msInADay","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= 24 /*h*/ * 60 /*min*/ * 60 /*sec*/ * 1000 /*ms*/","note":{"type":"expr","code":" 24 /*h*/ * 60 /*min*/ * 60 /*sec*/ * 1000 /*ms*/"}}},{"id":2,"name":"startOfThisYear","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= new Date(new Date().getFullYear(), 0, 1)","note":{"type":"expr","code":" new Date(new Date().getFullYear(), 0, 1)"}}},{"id":3,"name":"daysInThisYear","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= (Date.now() - startOfThisYear.getTime()) / msInADay","note":{"type":"expr","code":" (Date.now() - startOfThisYear.getTime()) / msInADay"}}},{"id":4,"name":"","visibility":"result","state":{"t":"resheet.note","v":1,"level":0,"input":"= // using react:\n<p className=\"py-2\">\n  This year is already {/* preserve the space character before this comment */}\n  {daysInThisYear.toLocaleString(\"en-US\", { maximumFractionDigits: 1 })}\n  {} days long. {}\n  <span className=\"text-sm text-gray-700\">(Select this line and show or hide the code with ⌘M)</span>\n</p>","note":{"type":"expr","code":" // using react:\n<p className=\"py-2\">\n  This year is already {/* preserve the space character before this comment */}\n  {daysInThisYear.toLocaleString(\"en-US\", { maximumFractionDigits: 1 })}\n  {} days long. {}\n  <span className=\"text-sm text-gray-700\">(Select this line and show or hide the code with ⌘M)</span>\n</p>"}}},{"id":5,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"## External Libraries","note":{"type":"text","tag":"h2","text":"External Libraries"}}},{"id":6,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"[esm.sh](https://esm.sh/) works great for loading npm libraries","note":{"type":"text","tag":"p","text":"[esm.sh](https://esm.sh/) works great for loading npm libraries"}}},{"id":14,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"### Number Formatting","note":{"type":"text","tag":"h3","text":"Number Formatting"}}},{"id":7,"name":"numeral","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= import('https://esm.sh/numeral')","note":{"type":"expr","code":" import('https://esm.sh/numeral')"}}},{"id":8,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= numeral.default(123456.789).format('0,0.00')","note":{"type":"expr","code":" numeral.default(123456.789).format('0,0.00')"}}},{"id":10,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"### CSV Parsing","note":{"type":"text","tag":"h3","text":"CSV Parsing"}}},{"id":11,"name":"Papa","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= import('https://esm.sh/papaparse')","note":{"type":"expr","code":" import('https://esm.sh/papaparse')"}}},{"id":12,"name":"csv","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"id,name,age,plan,email\n0,John,28,free,john@example.com\n1,Alice,34,premium,alice@boo\n2,Bob,43,premium,bob@b.b","note":{"type":"text","tag":"p","text":"id,name,age,plan,email\n0,John,28,free,john@example.com\n1,Alice,34,premium,alice@boo\n2,Bob,43,premium,bob@b.b"}}},{"id":13,"name":"data","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= Papa.default.parse(csv.text, { header: true }).data","note":{"type":"expr","code":" Papa.default.parse(csv.text, { header: true }).data"}}},{"id":15,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"### Data Validation","note":{"type":"text","tag":"h3","text":"Data Validation"}}},{"id":16,"name":"validator","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= import('https://esm.sh/validator')","note":{"type":"expr","code":" import('https://esm.sh/validator')"}}},{"id":17,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= data.map(user => ({ ...user, validEmail: validator.default.isEmail(user.email) }))","note":{"type":"expr","code":" data.map(user => ({ ...user, validEmail: validator.default.isEmail(user.email) }))"}}},{"id":18,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"### Data Processing","note":{"type":"text","tag":"h3","text":"Data Processing"}}},{"id":19,"name":"lodash","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= import('https://esm.sh/lodash')","note":{"type":"expr","code":" import('https://esm.sh/lodash')"}}},{"id":20,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= lodash.default.groupBy(data, 'plan')","note":{"type":"expr","code":" lodash.default.groupBy(data, 'plan')"}}},{"id":21,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"### Dates","note":{"type":"text","tag":"h3","text":"Dates"}}},{"id":22,"name":"datefns","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= import('https://esm.sh/date-fns')","note":{"type":"expr","code":" import('https://esm.sh/date-fns')"}}},{"id":23,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= datefns.parse('midnight', 'B', new Date())","note":{"type":"expr","code":" datefns.parse('midnight', 'B', new Date())"}}},{"id":24,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"### Charts","note":{"type":"text","tag":"h3","text":"Charts"}}},{"id":25,"name":"recharts","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= import('https://esm.sh/recharts?external=react')","note":{"type":"expr","code":" import('https://esm.sh/recharts?external=react')"}}},{"id":27,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"/blocks.JSExpr","note":{"type":"block","isInstantiated":true,"code":"blocks.JSExpr","state":"const { BarChart, Bar, LineChart, Line, CartesianGrid, XAxis, YAxis } =\n  recharts;\n\n//<ResponsiveContainer width=\"100%\" height=\"400px\">\n  <BarChart width={768} height={400} data={data}>\n    <Bar type=\"monotone\" dataKey=\"x\" fill=\"#8884d8\" />\n    <XAxis dataKey=\"n\"/>\n    <YAxis/>\n  </BarChart>\n//</ResponsiveContainer>"}}}]}},"isCollapsed":true,"children":[]},{"id":2,"name":"Markdown","state":{"t":"resheet.selector","v":0,"mode":"run","expr":"SheetOf(Note)","inner":{"t":"resheet.sheet","v":1,"lines":[{"id":0,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"# Markdown","note":{"type":"text","tag":"h1","text":"Markdown"}}},{"id":1,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"*`*italic*`*","note":{"type":"text","tag":"p","text":"*`*italic*`*"}}},{"id":2,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"**`**bold**`**","note":{"type":"text","tag":"p","text":"**`**bold**`**"}}},{"id":3,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"`[a link](url)`","note":{"type":"text","tag":"p","text":"`[a link](url)`"}}},{"id":4,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"- Lists","note":{"type":"text","tag":"li","text":"Lists"}}},{"id":5,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"[ ] Todos","note":{"type":"checkbox","checked":false,"text":"Todos"}}},{"id":6,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"[x] Done","note":{"type":"checkbox","checked":true,"text":"Done"}}},{"id":7,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"`# Headings`","note":{"type":"text","tag":"p","text":"`# Headings`"}}},{"id":8,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"Inline <span className=\"before:block before:absolute before:-inset-0.5 before:-skew-y-1 before:bg-blue-100 relative inline-block\"><span className=\"relative text-blue-950\">Html with [tailwindcss](https://tailwindcss.com/docs/utility-first)</span></span>","note":{"type":"text","tag":"p","text":"Inline <span className=\"before:block before:absolute before:-inset-0.5 before:-skew-y-1 before:bg-blue-100 relative inline-block\"><span className=\"relative text-blue-950\">Html with [tailwindcss](https://tailwindcss.com/docs/utility-first)</span></span>"}}}]}},"isCollapsed":true,"children":[]},{"id":3,"name":"Blocks","state":{"t":"resheet.selector","v":0,"mode":"run","expr":"SheetOf(Note)","inner":{"t":"resheet.sheet","v":1,"lines":[{"id":0,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"# Blocks","note":{"type":"text","tag":"h1","text":"Blocks"}}},{"id":1,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"Blocks are the equivalent to cells in a spreadsheet. Most things in ReSheet are Blocks.","note":{"type":"text","tag":"p","text":"Blocks are the equivalent to cells in a spreadsheet. Most things in ReSheet are Blocks."}}},{"id":3,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}},{"id":2,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"Every line here contains a `Note` Block, which allows writing Markdown or Formulas.","note":{"type":"text","tag":"p","text":"Every line here contains a `Note` Block, which allows writing Markdown or Formulas."}}},{"id":4,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"A `Note` Block also allows using another Block, for example `JSExpr`. Type:","note":{"type":"text","tag":"p","text":"A `Note` Block also allows using another Block, for example `JSExpr`. Type:"}}},{"id":5,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"/blocks.JSExpr","note":{"type":"block","isInstantiated":false,"code":"blocks.JSExpr"}}},{"id":6,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"and hit ⌘`Enter` to use it:","note":{"type":"text","tag":"p","text":"and hit ⌘`Enter` to use it:"}}},{"id":7,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"/blocks.JSExpr","note":{"type":"block","isInstantiated":true,"code":"blocks.JSExpr","state":"// This is a JSExpr Block now\nfunction Mark({ children }) {\n  return (\n    <span className=\"before:block before:absolute before:-inset-0.5 before:-skew-y-2 before:bg-blue-400 relative inline-block\">\n      <span className=\"relative text-white px-0.5 tracking-wide\">\n        {children}\n      </span>\n    </span>\n  )\n}\n\n<p className=\"py-1\">\n  <Mark>Look</Mark> at it!\n</p>"}}},{"id":8,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}},{"id":9,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"All lines here are part of the `SheetOf` Block:","note":{"type":"text","tag":"p","text":"All lines here are part of the `SheetOf` Block:"}}},{"id":10,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"/blocks.SheetOf(blocks.Note)","note":{"type":"block","isInstantiated":false,"code":"blocks.SheetOf(blocks.Note)"}}},{"id":11,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"/blocks.SheetOf(blocks.Note)","note":{"type":"block","isInstantiated":true,"code":"blocks.SheetOf(blocks.Note)","state":{"t":"resheet.sheet","v":1,"lines":[{"id":0,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"Now we have a Sheet inside of a Sheet","note":{"type":"text","tag":"p","text":"Now we have a Sheet inside of a Sheet"}}},{"id":1,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= $9.text","note":{"type":"expr","code":" $9.text"}}}]}}}},{"id":12,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}},{"id":13,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}},{"id":14,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"There are other Blocks available in `blocks`. (Use completion/docs with ⌘`Space`/⌘`D`)","note":{"type":"text","tag":"p","text":"There are other Blocks available in `blocks`. (Use completion/docs with ⌘`Space`/⌘`D`)"}}},{"id":15,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= blocks","note":{"type":"expr","code":" blocks"}}},{"id":16,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}},{"id":17,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"## Custom Blocks","note":{"type":"text","tag":"h2","text":"Custom Blocks"}}},{"id":18,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"You can build your own blocks. For now you either have to shoot me a message or look at the source code of the existing blocks to find out more.","note":{"type":"text","tag":"p","text":"You can build your own blocks. For now you either have to shoot me a message or look at the source code of the existing blocks to find out more."}}},{"id":19,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}},{"id":20,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"Ok, I'll give you a small example:","note":{"type":"text","tag":"p","text":"Ok, I'll give you a small example:"}}},{"id":21,"name":"RAW","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"/blocks.JSExpr","note":{"type":"block","isInstantiated":true,"code":"blocks.JSExpr","state":"resheet.core.block.create({\n  init: \"\",\n  view({ state, dispatch, env }, ref) {\n    return (\n      <textarea\n        ref={ref}\n        value={state}\n        onChange={ev => dispatch(stateBefore => ({ state: ev.target.value }))}\n        rows={state.split('\\n').length}\n        />\n    )\n  },\n  recompute(state, update, env) {\n    return state\n  },\n  getResult(state) {\n    return state\n  },\n  fromJSON(json) {\n    return typeof json === 'string' ? json : ''\n  },\n  toJSON(state) {\n    return state\n  },\n})"}}},{"id":22,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"/RAW","note":{"type":"block","isInstantiated":false,"code":"RAW"}}},{"id":23,"name":"rawText","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"/RAW","note":{"type":"block","isInstantiated":true,"code":"RAW","state":"{\n  \"hello\": \"world\"\n}"}}},{"id":24,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= JSON.parse(rawText)","note":{"type":"expr","code":" JSON.parse(rawText)"}}}]}},"isCollapsed":true,"children":[]}]}],"viewState":{"sidebarOpen":true,"openPage":[0,1]},"template":{"id":1,"name":"","state":{"t":"resheet.selector","v":0,"mode":"run","expr":"SheetOf(Note)","inner":{"t":"resheet.sheet","v":1,"lines":[{"id":0,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}}]}},"isCollapsed":true,"children":[]}},"prev":0},{"time":1711109184665,"state":{"pages":[{"id":0,"name":"Introduction","state":{"t":"resheet.selector","v":0,"mode":"run","expr":"SheetOf(Note)","inner":{"t":"resheet.sheet","v":1,"lines":[{"id":0,"name":"","visibility":"result","state":{"t":"resheet.note","v":1,"level":0,"input":"= <h1 className=\"flex space-x-2 items-baseline my-2 text-5xl\">\n    <img className=\"h-12\" src={resheet.assets.logoSvg} alt=\"ReSheet Logo\"/>\n    <span>ReSheet</span>\n    <span className=\"text-2xl\">alpha</span>\n  </h1>","note":{"type":"expr","code":" <h1 className=\"flex space-x-2 items-baseline my-2 text-5xl\">\n    <img className=\"h-12\" src={resheet.assets.logoSvg} alt=\"ReSheet Logo\"/>\n    <span>ReSheet</span>\n    <span className=\"text-2xl\">alpha</span>\n  </h1>"}}},{"id":41,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"A notes-spreadsheet-hybrid for programmers.","note":{"type":"text","tag":"p","text":"A notes-spreadsheet-hybrid for programmers."}}},{"id":86,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}},{"id":87,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"Everything in ReSheet is a Block. A Block can be thought of like a cell in a spreadsheet.","note":{"type":"text","tag":"p","text":"Everything in ReSheet is a Block. A Block can be thought of like a cell in a spreadsheet."}}},{"id":85,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"ReSheet is heavily keyboard-focused:","note":{"type":"text","tag":"p","text":"ReSheet is heavily keyboard-focused:"}}},{"id":88,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":1,"input":"Try **⌘K/⌘⇧P** to see all commands for the currently focused block(s). (Also try **⌘?**)","note":{"type":"text","tag":"p","text":"Try **⌘K/⌘⇧P** to see all commands for the currently focused block(s). (Also try **⌘?**)"}}},{"id":89,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":1,"input":"Use the ArrowKeys or `H`/`J`/`K`/`L` and `Enter`/`Escape` to move between Blocks.","note":{"type":"text","tag":"p","text":"Use the ArrowKeys or `H`/`J`/`K`/`L` and `Enter`/`Escape` to move between Blocks."}}},{"id":90,"name":"","visibility":"result","state":{"t":"resheet.note","v":1,"level":0,"input":"= <img className=\"my-4\" alt=\"ReSheet demo animation\" src={resheet.assets.demoGif} />","note":{"type":"expr","code":" <img className=\"my-4\" alt=\"ReSheet demo animation\" src={resheet.assets.demoGif} />"}}},{"id":70,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"## Shortcuts","note":{"type":"text","tag":"h2","text":"Shortcuts"}}},{"id":76,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"*⌘ = Meta = Ctrl (can be used interchangeably, useful if the browser intercepts a variant)*","note":{"type":"text","tag":"p","text":"*⌘ = Meta = Ctrl (can be used interchangeably, useful if the browser intercepts a variant)*"}}},{"id":66,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"Command Search: **⌘K/⌘⇧P**","note":{"type":"text","tag":"p","text":"Command Search: **⌘K/⌘⇧P**"}}},{"id":67,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"Shortcut Suggestions: **⌘?**","note":{"type":"text","tag":"p","text":"Shortcut Suggestions: **⌘?**"}}},{"id":68,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"Navigation: **Arrow Keys/`HJKL`**","note":{"type":"text","tag":"p","text":"Navigation: **Arrow Keys/`HJKL`**"}}},{"id":69,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"Go in/out: **`Enter`/`Escape`**","note":{"type":"text","tag":"p","text":"Go in/out: **`Enter`/`Escape`**"}}},{"id":71,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"## Writing","note":{"type":"text","tag":"h2","text":"Writing"}}},{"id":72,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"Format with Markdown","note":{"type":"text","tag":"p","text":"Format with Markdown"}}},{"id":74,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":1,"input":"<span className=\"text-sm text-gray-800\">(`*italic* **bold** [link text](link url)` etc)</span>","note":{"type":"text","tag":"p","text":"<span className=\"text-sm text-gray-800\">(`*italic* **bold** [link text](link url)` etc)</span>"}}},{"id":7,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"\"Formulas\" (JavaScript) start with `\"=\"`","note":{"type":"text","tag":"p","text":"\"Formulas\" (JavaScript) start with `\"=\"`"}}},{"id":82,"name":"x","visibility":"block","state":{"t":"resheet.note","v":1,"level":1,"input":"= 12","note":{"type":"expr","code":" 12"}}},{"id":84,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":1,"input":"= Math.sqrt(x + x)","note":{"type":"expr","code":" Math.sqrt(x + x)"}}},{"id":80,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":1,"input":"**⌘`Space`** for completions","note":{"type":"text","tag":"p","text":"**⌘`Space`** for completions"}}},{"id":81,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":1,"input":"**⌘`D`** for docs (if available)","note":{"type":"text","tag":"p","text":"**⌘`D`** for docs (if available)"}}}]}},"isCollapsed":false,"children":[{"id":0,"name":"Tips","state":{"t":"resheet.selector","v":0,"mode":"run","expr":"SheetOf(Note)","inner":{"t":"resheet.sheet","v":1,"lines":[{"id":13,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"# Tips","note":{"type":"text","tag":"h1","text":"Tips"}}},{"id":2,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"Your document is automatically backed up to IndexedDB, but gets deleted after 7 days. So don't forget to save it to a local file.","note":{"type":"text","tag":"p","text":"Your document is automatically backed up to IndexedDB, but gets deleted after 7 days. So don't forget to save it to a local file."}}},{"id":3,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}},{"id":4,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"ReSheet gives you the full power of JavaScript and React.","note":{"type":"text","tag":"p","text":"ReSheet gives you the full power of JavaScript and React."}}},{"id":5,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"**Be aware:** You have the **power to break it** (but generally you can undo it – ⌘Z) and full responsibilty to **ensure you trust the code you run**.","note":{"type":"text","tag":"p","text":"**Be aware:** You have the **power to break it** (but generally you can undo it – ⌘Z) and full responsibilty to **ensure you trust the code you run**."}}},{"id":6,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"Also beware of side-effects in your code: Everything is automatically rerun as needed (for changes), so side-effects may execute for every character you type.","note":{"type":"text","tag":"p","text":"Also beware of side-effects in your code: Everything is automatically rerun as needed (for changes), so side-effects may execute for every character you type."}}},{"id":7,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}},{"id":8,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"If a shortcut triggers a browser action, try an alternative key combination by switching ⌘/Meta/Ctrl.","note":{"type":"text","tag":"p","text":"If a shortcut triggers a browser action, try an alternative key combination by switching ⌘/Meta/Ctrl."}}},{"id":9,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":1,"input":"For example:","note":{"type":"text","tag":"p","text":"For example:"}}},{"id":10,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":2,"input":"⌘N = Meta-N = Ctrl-N","note":{"type":"text","tag":"p","text":"⌘N = Meta-N = Ctrl-N"}}},{"id":11,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":2,"input":"⌘⇧P = Meta-Shift-P = Ctrl-Shift-P","note":{"type":"text","tag":"p","text":"⌘⇧P = Meta-Shift-P = Ctrl-Shift-P"}}},{"id":12,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":2,"input":"etc","note":{"type":"text","tag":"p","text":"etc"}}}]}},"isCollapsed":true,"children":[]},{"id":1,"name":"Formulas","state":{"t":"resheet.selector","v":0,"mode":"run","expr":"SheetOf(Note)","inner":{"t":"resheet.sheet","v":1,"lines":[{"id":0,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"# Formulas","note":{"type":"text","tag":"h1","text":"Formulas"}}},{"id":1,"name":"msInADay","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= 24 /*h*/ * 60 /*min*/ * 60 /*sec*/ * 1000 /*ms*/","note":{"type":"expr","code":" 24 /*h*/ * 60 /*min*/ * 60 /*sec*/ * 1000 /*ms*/"}}},{"id":2,"name":"startOfThisYear","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= new Date(new Date().getFullYear(), 0, 1)","note":{"type":"expr","code":" new Date(new Date().getFullYear(), 0, 1)"}}},{"id":3,"name":"daysInThisYear","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= (Date.now() - startOfThisYear.getTime()) / msInADay","note":{"type":"expr","code":" (Date.now() - startOfThisYear.getTime()) / msInADay"}}},{"id":4,"name":"","visibility":"result","state":{"t":"resheet.note","v":1,"level":0,"input":"= // using react:\n<p className=\"py-2\">\n  This year is already {/* preserve the space character before this comment */}\n  {daysInThisYear.toLocaleString(\"en-US\", { maximumFractionDigits: 1 })}\n  {} days long. {}\n  <span className=\"text-sm text-gray-700\">(Select this line and show or hide the code with ⌘M)</span>\n</p>","note":{"type":"expr","code":" // using react:\n<p className=\"py-2\">\n  This year is already {/* preserve the space character before this comment */}\n  {daysInThisYear.toLocaleString(\"en-US\", { maximumFractionDigits: 1 })}\n  {} days long. {}\n  <span className=\"text-sm text-gray-700\">(Select this line and show or hide the code with ⌘M)</span>\n</p>"}}},{"id":5,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"## External Libraries","note":{"type":"text","tag":"h2","text":"External Libraries"}}},{"id":6,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"[esm.sh](https://esm.sh/) works great for loading npm libraries","note":{"type":"text","tag":"p","text":"[esm.sh](https://esm.sh/) works great for loading npm libraries"}}},{"id":14,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"### Number Formatting","note":{"type":"text","tag":"h3","text":"Number Formatting"}}},{"id":7,"name":"numeral","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= import('https://esm.sh/numeral')","note":{"type":"expr","code":" import('https://esm.sh/numeral')"}}},{"id":8,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= numeral.default(123456.789).format('0,0.00')","note":{"type":"expr","code":" numeral.default(123456.789).format('0,0.00')"}}},{"id":10,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"### CSV Parsing","note":{"type":"text","tag":"h3","text":"CSV Parsing"}}},{"id":11,"name":"Papa","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= import('https://esm.sh/papaparse')","note":{"type":"expr","code":" import('https://esm.sh/papaparse')"}}},{"id":12,"name":"csv","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"id,name,age,plan,email\n0,John,28,free,john@example.com\n1,Alice,34,premium,alice@boo\n2,Bob,43,premium,bob@b.b","note":{"type":"text","tag":"p","text":"id,name,age,plan,email\n0,John,28,free,john@example.com\n1,Alice,34,premium,alice@boo\n2,Bob,43,premium,bob@b.b"}}},{"id":13,"name":"data","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= Papa.default.parse(csv.text, { header: true }).data","note":{"type":"expr","code":" Papa.default.parse(csv.text, { header: true }).data"}}},{"id":15,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"### Data Validation","note":{"type":"text","tag":"h3","text":"Data Validation"}}},{"id":16,"name":"validator","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= import('https://esm.sh/validator')","note":{"type":"expr","code":" import('https://esm.sh/validator')"}}},{"id":17,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= data.map(user => ({ ...user, validEmail: validator.default.isEmail(user.email) }))","note":{"type":"expr","code":" data.map(user => ({ ...user, validEmail: validator.default.isEmail(user.email) }))"}}},{"id":18,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"### Data Processing","note":{"type":"text","tag":"h3","text":"Data Processing"}}},{"id":19,"name":"lodash","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= import('https://esm.sh/lodash')","note":{"type":"expr","code":" import('https://esm.sh/lodash')"}}},{"id":20,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= lodash.default.groupBy(data, 'plan')","note":{"type":"expr","code":" lodash.default.groupBy(data, 'plan')"}}},{"id":21,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"### Dates","note":{"type":"text","tag":"h3","text":"Dates"}}},{"id":22,"name":"datefns","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= import('https://esm.sh/date-fns')","note":{"type":"expr","code":" import('https://esm.sh/date-fns')"}}},{"id":23,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= datefns.parse('midnight', 'B', new Date())","note":{"type":"expr","code":" datefns.parse('midnight', 'B', new Date())"}}},{"id":24,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"### Charts","note":{"type":"text","tag":"h3","text":"Charts"}}},{"id":25,"name":"recharts","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= import('https://esm.sh/recharts?external=react')","note":{"type":"expr","code":" import('https://esm.sh/recharts?external=react')"}}},{"id":27,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"/blocks.JSExpr","note":{"type":"block","isInstantiated":true,"code":"blocks.JSExpr","state":"const { BarChart, Bar, LineChart, Line, CartesianGrid, XAxis, YAxis } =\n  recharts;\n\n/<ResponsiveContainer width=\"100%\" height=\"400px\">\n  <BarChart width={768} height={400} data={data}>\n    <Bar type=\"monotone\" dataKey=\"age\" fill=\"#8884d8\" />\n    <XAxis dataKey=\"name\"/>\n    <YAxis/>\n  </BarChart>\n//</ResponsiveContainer>"}}}]}},"isCollapsed":true,"children":[]},{"id":2,"name":"Markdown","state":{"t":"resheet.selector","v":0,"mode":"run","expr":"SheetOf(Note)","inner":{"t":"resheet.sheet","v":1,"lines":[{"id":0,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"# Markdown","note":{"type":"text","tag":"h1","text":"Markdown"}}},{"id":1,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"*`*italic*`*","note":{"type":"text","tag":"p","text":"*`*italic*`*"}}},{"id":2,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"**`**bold**`**","note":{"type":"text","tag":"p","text":"**`**bold**`**"}}},{"id":3,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"`[a link](url)`","note":{"type":"text","tag":"p","text":"`[a link](url)`"}}},{"id":4,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"- Lists","note":{"type":"text","tag":"li","text":"Lists"}}},{"id":5,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"[ ] Todos","note":{"type":"checkbox","checked":false,"text":"Todos"}}},{"id":6,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"[x] Done","note":{"type":"checkbox","checked":true,"text":"Done"}}},{"id":7,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"`# Headings`","note":{"type":"text","tag":"p","text":"`# Headings`"}}},{"id":8,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"Inline <span className=\"before:block before:absolute before:-inset-0.5 before:-skew-y-1 before:bg-blue-100 relative inline-block\"><span className=\"relative text-blue-950\">Html with [tailwindcss](https://tailwindcss.com/docs/utility-first)</span></span>","note":{"type":"text","tag":"p","text":"Inline <span className=\"before:block before:absolute before:-inset-0.5 before:-skew-y-1 before:bg-blue-100 relative inline-block\"><span className=\"relative text-blue-950\">Html with [tailwindcss](https://tailwindcss.com/docs/utility-first)</span></span>"}}}]}},"isCollapsed":true,"children":[]},{"id":3,"name":"Blocks","state":{"t":"resheet.selector","v":0,"mode":"run","expr":"SheetOf(Note)","inner":{"t":"resheet.sheet","v":1,"lines":[{"id":0,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"# Blocks","note":{"type":"text","tag":"h1","text":"Blocks"}}},{"id":1,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"Blocks are the equivalent to cells in a spreadsheet. Most things in ReSheet are Blocks.","note":{"type":"text","tag":"p","text":"Blocks are the equivalent to cells in a spreadsheet. Most things in ReSheet are Blocks."}}},{"id":3,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}},{"id":2,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"Every line here contains a `Note` Block, which allows writing Markdown or Formulas.","note":{"type":"text","tag":"p","text":"Every line here contains a `Note` Block, which allows writing Markdown or Formulas."}}},{"id":4,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"A `Note` Block also allows using another Block, for example `JSExpr`. Type:","note":{"type":"text","tag":"p","text":"A `Note` Block also allows using another Block, for example `JSExpr`. Type:"}}},{"id":5,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"/blocks.JSExpr","note":{"type":"block","isInstantiated":false,"code":"blocks.JSExpr"}}},{"id":6,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"and hit ⌘`Enter` to use it:","note":{"type":"text","tag":"p","text":"and hit ⌘`Enter` to use it:"}}},{"id":7,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"/blocks.JSExpr","note":{"type":"block","isInstantiated":true,"code":"blocks.JSExpr","state":"// This is a JSExpr Block now\nfunction Mark({ children }) {\n  return (\n    <span className=\"before:block before:absolute before:-inset-0.5 before:-skew-y-2 before:bg-blue-400 relative inline-block\">\n      <span className=\"relative text-white px-0.5 tracking-wide\">\n        {children}\n      </span>\n    </span>\n  )\n}\n\n<p className=\"py-1\">\n  <Mark>Look</Mark> at it!\n</p>"}}},{"id":8,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}},{"id":9,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"All lines here are part of the `SheetOf` Block:","note":{"type":"text","tag":"p","text":"All lines here are part of the `SheetOf` Block:"}}},{"id":10,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"/blocks.SheetOf(blocks.Note)","note":{"type":"block","isInstantiated":false,"code":"blocks.SheetOf(blocks.Note)"}}},{"id":11,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"/blocks.SheetOf(blocks.Note)","note":{"type":"block","isInstantiated":true,"code":"blocks.SheetOf(blocks.Note)","state":{"t":"resheet.sheet","v":1,"lines":[{"id":0,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"Now we have a Sheet inside of a Sheet","note":{"type":"text","tag":"p","text":"Now we have a Sheet inside of a Sheet"}}},{"id":1,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= $9.text","note":{"type":"expr","code":" $9.text"}}}]}}}},{"id":12,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}},{"id":13,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}},{"id":14,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"There are other Blocks available in `blocks`. (Use completion/docs with ⌘`Space`/⌘`D`)","note":{"type":"text","tag":"p","text":"There are other Blocks available in `blocks`. (Use completion/docs with ⌘`Space`/⌘`D`)"}}},{"id":15,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= blocks","note":{"type":"expr","code":" blocks"}}},{"id":16,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}},{"id":17,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"## Custom Blocks","note":{"type":"text","tag":"h2","text":"Custom Blocks"}}},{"id":18,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"You can build your own blocks. For now you either have to shoot me a message or look at the source code of the existing blocks to find out more.","note":{"type":"text","tag":"p","text":"You can build your own blocks. For now you either have to shoot me a message or look at the source code of the existing blocks to find out more."}}},{"id":19,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}},{"id":20,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"Ok, I'll give you a small example:","note":{"type":"text","tag":"p","text":"Ok, I'll give you a small example:"}}},{"id":21,"name":"RAW","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"/blocks.JSExpr","note":{"type":"block","isInstantiated":true,"code":"blocks.JSExpr","state":"resheet.core.block.create({\n  init: \"\",\n  view({ state, dispatch, env }, ref) {\n    return (\n      <textarea\n        ref={ref}\n        value={state}\n        onChange={ev => dispatch(stateBefore => ({ state: ev.target.value }))}\n        rows={state.split('\\n').length}\n        />\n    )\n  },\n  recompute(state, update, env) {\n    return state\n  },\n  getResult(state) {\n    return state\n  },\n  fromJSON(json) {\n    return typeof json === 'string' ? json : ''\n  },\n  toJSON(state) {\n    return state\n  },\n})"}}},{"id":22,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"/RAW","note":{"type":"block","isInstantiated":false,"code":"RAW"}}},{"id":23,"name":"rawText","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"/RAW","note":{"type":"block","isInstantiated":true,"code":"RAW","state":"{\n  \"hello\": \"world\"\n}"}}},{"id":24,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= JSON.parse(rawText)","note":{"type":"expr","code":" JSON.parse(rawText)"}}}]}},"isCollapsed":true,"children":[]}]}],"viewState":{"sidebarOpen":true,"openPage":[0,1]},"template":{"id":1,"name":"","state":{"t":"resheet.selector","v":0,"mode":"run","expr":"SheetOf(Note)","inner":{"t":"resheet.sheet","v":1,"lines":[{"id":0,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}}]}},"isCollapsed":true,"children":[]}},"prev":0},{"time":1711109196736,"state":{"pages":[{"id":0,"name":"Introduction","state":{"t":"resheet.selector","v":0,"mode":"run","expr":"SheetOf(Note)","inner":{"t":"resheet.sheet","v":1,"lines":[{"id":0,"name":"","visibility":"result","state":{"t":"resheet.note","v":1,"level":0,"input":"= <h1 className=\"flex space-x-2 items-baseline my-2 text-5xl\">\n    <img className=\"h-12\" src={resheet.assets.logoSvg} alt=\"ReSheet Logo\"/>\n    <span>ReSheet</span>\n    <span className=\"text-2xl\">alpha</span>\n  </h1>","note":{"type":"expr","code":" <h1 className=\"flex space-x-2 items-baseline my-2 text-5xl\">\n    <img className=\"h-12\" src={resheet.assets.logoSvg} alt=\"ReSheet Logo\"/>\n    <span>ReSheet</span>\n    <span className=\"text-2xl\">alpha</span>\n  </h1>"}}},{"id":41,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"A notes-spreadsheet-hybrid for programmers.","note":{"type":"text","tag":"p","text":"A notes-spreadsheet-hybrid for programmers."}}},{"id":86,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}},{"id":87,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"Everything in ReSheet is a Block. A Block can be thought of like a cell in a spreadsheet.","note":{"type":"text","tag":"p","text":"Everything in ReSheet is a Block. A Block can be thought of like a cell in a spreadsheet."}}},{"id":85,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"ReSheet is heavily keyboard-focused:","note":{"type":"text","tag":"p","text":"ReSheet is heavily keyboard-focused:"}}},{"id":88,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":1,"input":"Try **⌘K/⌘⇧P** to see all commands for the currently focused block(s). (Also try **⌘?**)","note":{"type":"text","tag":"p","text":"Try **⌘K/⌘⇧P** to see all commands for the currently focused block(s). (Also try **⌘?**)"}}},{"id":89,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":1,"input":"Use the ArrowKeys or `H`/`J`/`K`/`L` and `Enter`/`Escape` to move between Blocks.","note":{"type":"text","tag":"p","text":"Use the ArrowKeys or `H`/`J`/`K`/`L` and `Enter`/`Escape` to move between Blocks."}}},{"id":90,"name":"","visibility":"result","state":{"t":"resheet.note","v":1,"level":0,"input":"= <img className=\"my-4\" alt=\"ReSheet demo animation\" src={resheet.assets.demoGif} />","note":{"type":"expr","code":" <img className=\"my-4\" alt=\"ReSheet demo animation\" src={resheet.assets.demoGif} />"}}},{"id":70,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"## Shortcuts","note":{"type":"text","tag":"h2","text":"Shortcuts"}}},{"id":76,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"*⌘ = Meta = Ctrl (can be used interchangeably, useful if the browser intercepts a variant)*","note":{"type":"text","tag":"p","text":"*⌘ = Meta = Ctrl (can be used interchangeably, useful if the browser intercepts a variant)*"}}},{"id":66,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"Command Search: **⌘K/⌘⇧P**","note":{"type":"text","tag":"p","text":"Command Search: **⌘K/⌘⇧P**"}}},{"id":67,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"Shortcut Suggestions: **⌘?**","note":{"type":"text","tag":"p","text":"Shortcut Suggestions: **⌘?**"}}},{"id":68,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"Navigation: **Arrow Keys/`HJKL`**","note":{"type":"text","tag":"p","text":"Navigation: **Arrow Keys/`HJKL`**"}}},{"id":69,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"Go in/out: **`Enter`/`Escape`**","note":{"type":"text","tag":"p","text":"Go in/out: **`Enter`/`Escape`**"}}},{"id":71,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"## Writing","note":{"type":"text","tag":"h2","text":"Writing"}}},{"id":72,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"Format with Markdown","note":{"type":"text","tag":"p","text":"Format with Markdown"}}},{"id":74,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":1,"input":"<span className=\"text-sm text-gray-800\">(`*italic* **bold** [link text](link url)` etc)</span>","note":{"type":"text","tag":"p","text":"<span className=\"text-sm text-gray-800\">(`*italic* **bold** [link text](link url)` etc)</span>"}}},{"id":7,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"\"Formulas\" (JavaScript) start with `\"=\"`","note":{"type":"text","tag":"p","text":"\"Formulas\" (JavaScript) start with `\"=\"`"}}},{"id":82,"name":"x","visibility":"block","state":{"t":"resheet.note","v":1,"level":1,"input":"= 12","note":{"type":"expr","code":" 12"}}},{"id":84,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":1,"input":"= Math.sqrt(x + x)","note":{"type":"expr","code":" Math.sqrt(x + x)"}}},{"id":80,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":1,"input":"**⌘`Space`** for completions","note":{"type":"text","tag":"p","text":"**⌘`Space`** for completions"}}},{"id":81,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":1,"input":"**⌘`D`** for docs (if available)","note":{"type":"text","tag":"p","text":"**⌘`D`** for docs (if available)"}}}]}},"isCollapsed":false,"children":[{"id":0,"name":"Tips","state":{"t":"resheet.selector","v":0,"mode":"run","expr":"SheetOf(Note)","inner":{"t":"resheet.sheet","v":1,"lines":[{"id":13,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"# Tips","note":{"type":"text","tag":"h1","text":"Tips"}}},{"id":2,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"Your document is automatically backed up to IndexedDB, but gets deleted after 7 days. So don't forget to save it to a local file.","note":{"type":"text","tag":"p","text":"Your document is automatically backed up to IndexedDB, but gets deleted after 7 days. So don't forget to save it to a local file."}}},{"id":3,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}},{"id":4,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"ReSheet gives you the full power of JavaScript and React.","note":{"type":"text","tag":"p","text":"ReSheet gives you the full power of JavaScript and React."}}},{"id":5,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"**Be aware:** You have the **power to break it** (but generally you can undo it – ⌘Z) and full responsibilty to **ensure you trust the code you run**.","note":{"type":"text","tag":"p","text":"**Be aware:** You have the **power to break it** (but generally you can undo it – ⌘Z) and full responsibilty to **ensure you trust the code you run**."}}},{"id":6,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"Also beware of side-effects in your code: Everything is automatically rerun as needed (for changes), so side-effects may execute for every character you type.","note":{"type":"text","tag":"p","text":"Also beware of side-effects in your code: Everything is automatically rerun as needed (for changes), so side-effects may execute for every character you type."}}},{"id":7,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}},{"id":8,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"If a shortcut triggers a browser action, try an alternative key combination by switching ⌘/Meta/Ctrl.","note":{"type":"text","tag":"p","text":"If a shortcut triggers a browser action, try an alternative key combination by switching ⌘/Meta/Ctrl."}}},{"id":9,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":1,"input":"For example:","note":{"type":"text","tag":"p","text":"For example:"}}},{"id":10,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":2,"input":"⌘N = Meta-N = Ctrl-N","note":{"type":"text","tag":"p","text":"⌘N = Meta-N = Ctrl-N"}}},{"id":11,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":2,"input":"⌘⇧P = Meta-Shift-P = Ctrl-Shift-P","note":{"type":"text","tag":"p","text":"⌘⇧P = Meta-Shift-P = Ctrl-Shift-P"}}},{"id":12,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":2,"input":"etc","note":{"type":"text","tag":"p","text":"etc"}}}]}},"isCollapsed":true,"children":[]},{"id":1,"name":"Formulas","state":{"t":"resheet.selector","v":0,"mode":"run","expr":"SheetOf(Note)","inner":{"t":"resheet.sheet","v":1,"lines":[{"id":0,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"# Formulas","note":{"type":"text","tag":"h1","text":"Formulas"}}},{"id":1,"name":"msInADay","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= 24 /*h*/ * 60 /*min*/ * 60 /*sec*/ * 1000 /*ms*/","note":{"type":"expr","code":" 24 /*h*/ * 60 /*min*/ * 60 /*sec*/ * 1000 /*ms*/"}}},{"id":2,"name":"startOfThisYear","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= new Date(new Date().getFullYear(), 0, 1)","note":{"type":"expr","code":" new Date(new Date().getFullYear(), 0, 1)"}}},{"id":3,"name":"daysInThisYear","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= (Date.now() - startOfThisYear.getTime()) / msInADay","note":{"type":"expr","code":" (Date.now() - startOfThisYear.getTime()) / msInADay"}}},{"id":4,"name":"","visibility":"result","state":{"t":"resheet.note","v":1,"level":0,"input":"= // using react:\n<p className=\"py-2\">\n  This year is already {/* preserve the space character before this comment */}\n  {daysInThisYear.toLocaleString(\"en-US\", { maximumFractionDigits: 1 })}\n  {} days long. {}\n  <span className=\"text-sm text-gray-700\">(Select this line and show or hide the code with ⌘M)</span>\n</p>","note":{"type":"expr","code":" // using react:\n<p className=\"py-2\">\n  This year is already {/* preserve the space character before this comment */}\n  {daysInThisYear.toLocaleString(\"en-US\", { maximumFractionDigits: 1 })}\n  {} days long. {}\n  <span className=\"text-sm text-gray-700\">(Select this line and show or hide the code with ⌘M)</span>\n</p>"}}},{"id":5,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"## External Libraries","note":{"type":"text","tag":"h2","text":"External Libraries"}}},{"id":6,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"[esm.sh](https://esm.sh/) works great for loading npm libraries","note":{"type":"text","tag":"p","text":"[esm.sh](https://esm.sh/) works great for loading npm libraries"}}},{"id":14,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"### Number Formatting","note":{"type":"text","tag":"h3","text":"Number Formatting"}}},{"id":7,"name":"numeral","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= import('https://esm.sh/numeral')","note":{"type":"expr","code":" import('https://esm.sh/numeral')"}}},{"id":8,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= numeral.default(123456.789).format('0,0.00')","note":{"type":"expr","code":" numeral.default(123456.789).format('0,0.00')"}}},{"id":10,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"### CSV Parsing","note":{"type":"text","tag":"h3","text":"CSV Parsing"}}},{"id":11,"name":"Papa","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= import('https://esm.sh/papaparse')","note":{"type":"expr","code":" import('https://esm.sh/papaparse')"}}},{"id":12,"name":"csv","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"id,name,age,plan,email\n0,John,28,free,john@example.com\n1,Alice,34,premium,alice@boo\n2,Bob,43,premium,bob@b.b","note":{"type":"text","tag":"p","text":"id,name,age,plan,email\n0,John,28,free,john@example.com\n1,Alice,34,premium,alice@boo\n2,Bob,43,premium,bob@b.b"}}},{"id":13,"name":"data","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= Papa.default.parse(csv.text, { header: true }).data","note":{"type":"expr","code":" Papa.default.parse(csv.text, { header: true }).data"}}},{"id":15,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"### Data Validation","note":{"type":"text","tag":"h3","text":"Data Validation"}}},{"id":16,"name":"validator","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= import('https://esm.sh/validator')","note":{"type":"expr","code":" import('https://esm.sh/validator')"}}},{"id":17,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= data.map(user => ({ ...user, validEmail: validator.default.isEmail(user.email) }))","note":{"type":"expr","code":" data.map(user => ({ ...user, validEmail: validator.default.isEmail(user.email) }))"}}},{"id":18,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"### Data Processing","note":{"type":"text","tag":"h3","text":"Data Processing"}}},{"id":19,"name":"lodash","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= import('https://esm.sh/lodash')","note":{"type":"expr","code":" import('https://esm.sh/lodash')"}}},{"id":20,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= lodash.default.groupBy(data, 'plan')","note":{"type":"expr","code":" lodash.default.groupBy(data, 'plan')"}}},{"id":21,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"### Dates","note":{"type":"text","tag":"h3","text":"Dates"}}},{"id":22,"name":"datefns","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= import('https://esm.sh/date-fns')","note":{"type":"expr","code":" import('https://esm.sh/date-fns')"}}},{"id":23,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= datefns.parse('midnight', 'B', new Date())","note":{"type":"expr","code":" datefns.parse('midnight', 'B', new Date())"}}},{"id":24,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"### Charts","note":{"type":"text","tag":"h3","text":"Charts"}}},{"id":25,"name":"recharts","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= import('https://esm.sh/recharts?external=react')","note":{"type":"expr","code":" import('https://esm.sh/recharts?external=react')"}}},{"id":27,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"/blocks.JSExpr","note":{"type":"block","isInstantiated":true,"code":"blocks.JSExpr","state":"const { ResponsiveContainer, BarChart, Bar, XAxis, YAxis } =\n  recharts;\n\n<ResponsiveContainer width=\"100%\" height=\"400px\">\n  <BarChart width={768} height={400} data={data}>\n    <Bar type=\"monotone\" dataKey=\"age\" fill=\"#8884d8\" />\n    <XAxis dataKey=\"name\"/>\n    <YAxis/>\n  </BarChart>\n</ResponsiveContainer>"}}}]}},"isCollapsed":true,"children":[]},{"id":2,"name":"Markdown","state":{"t":"resheet.selector","v":0,"mode":"run","expr":"SheetOf(Note)","inner":{"t":"resheet.sheet","v":1,"lines":[{"id":0,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"# Markdown","note":{"type":"text","tag":"h1","text":"Markdown"}}},{"id":1,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"*`*italic*`*","note":{"type":"text","tag":"p","text":"*`*italic*`*"}}},{"id":2,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"**`**bold**`**","note":{"type":"text","tag":"p","text":"**`**bold**`**"}}},{"id":3,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"`[a link](url)`","note":{"type":"text","tag":"p","text":"`[a link](url)`"}}},{"id":4,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"- Lists","note":{"type":"text","tag":"li","text":"Lists"}}},{"id":5,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"[ ] Todos","note":{"type":"checkbox","checked":false,"text":"Todos"}}},{"id":6,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"[x] Done","note":{"type":"checkbox","checked":true,"text":"Done"}}},{"id":7,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"`# Headings`","note":{"type":"text","tag":"p","text":"`# Headings`"}}},{"id":8,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"Inline <span className=\"before:block before:absolute before:-inset-0.5 before:-skew-y-1 before:bg-blue-100 relative inline-block\"><span className=\"relative text-blue-950\">Html with [tailwindcss](https://tailwindcss.com/docs/utility-first)</span></span>","note":{"type":"text","tag":"p","text":"Inline <span className=\"before:block before:absolute before:-inset-0.5 before:-skew-y-1 before:bg-blue-100 relative inline-block\"><span className=\"relative text-blue-950\">Html with [tailwindcss](https://tailwindcss.com/docs/utility-first)</span></span>"}}}]}},"isCollapsed":true,"children":[]},{"id":3,"name":"Blocks","state":{"t":"resheet.selector","v":0,"mode":"run","expr":"SheetOf(Note)","inner":{"t":"resheet.sheet","v":1,"lines":[{"id":0,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"# Blocks","note":{"type":"text","tag":"h1","text":"Blocks"}}},{"id":1,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"Blocks are the equivalent to cells in a spreadsheet. Most things in ReSheet are Blocks.","note":{"type":"text","tag":"p","text":"Blocks are the equivalent to cells in a spreadsheet. Most things in ReSheet are Blocks."}}},{"id":3,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}},{"id":2,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"Every line here contains a `Note` Block, which allows writing Markdown or Formulas.","note":{"type":"text","tag":"p","text":"Every line here contains a `Note` Block, which allows writing Markdown or Formulas."}}},{"id":4,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"A `Note` Block also allows using another Block, for example `JSExpr`. Type:","note":{"type":"text","tag":"p","text":"A `Note` Block also allows using another Block, for example `JSExpr`. Type:"}}},{"id":5,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"/blocks.JSExpr","note":{"type":"block","isInstantiated":false,"code":"blocks.JSExpr"}}},{"id":6,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"and hit ⌘`Enter` to use it:","note":{"type":"text","tag":"p","text":"and hit ⌘`Enter` to use it:"}}},{"id":7,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"/blocks.JSExpr","note":{"type":"block","isInstantiated":true,"code":"blocks.JSExpr","state":"// This is a JSExpr Block now\nfunction Mark({ children }) {\n  return (\n    <span className=\"before:block before:absolute before:-inset-0.5 before:-skew-y-2 before:bg-blue-400 relative inline-block\">\n      <span className=\"relative text-white px-0.5 tracking-wide\">\n        {children}\n      </span>\n    </span>\n  )\n}\n\n<p className=\"py-1\">\n  <Mark>Look</Mark> at it!\n</p>"}}},{"id":8,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}},{"id":9,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"All lines here are part of the `SheetOf` Block:","note":{"type":"text","tag":"p","text":"All lines here are part of the `SheetOf` Block:"}}},{"id":10,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"/blocks.SheetOf(blocks.Note)","note":{"type":"block","isInstantiated":false,"code":"blocks.SheetOf(blocks.Note)"}}},{"id":11,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"/blocks.SheetOf(blocks.Note)","note":{"type":"block","isInstantiated":true,"code":"blocks.SheetOf(blocks.Note)","state":{"t":"resheet.sheet","v":1,"lines":[{"id":0,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"Now we have a Sheet inside of a Sheet","note":{"type":"text","tag":"p","text":"Now we have a Sheet inside of a Sheet"}}},{"id":1,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= $9.text","note":{"type":"expr","code":" $9.text"}}}]}}}},{"id":12,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}},{"id":13,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}},{"id":14,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"There are other Blocks available in `blocks`. (Use completion/docs with ⌘`Space`/⌘`D`)","note":{"type":"text","tag":"p","text":"There are other Blocks available in `blocks`. (Use completion/docs with ⌘`Space`/⌘`D`)"}}},{"id":15,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= blocks","note":{"type":"expr","code":" blocks"}}},{"id":16,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}},{"id":17,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"## Custom Blocks","note":{"type":"text","tag":"h2","text":"Custom Blocks"}}},{"id":18,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"You can build your own blocks. For now you either have to shoot me a message or look at the source code of the existing blocks to find out more.","note":{"type":"text","tag":"p","text":"You can build your own blocks. For now you either have to shoot me a message or look at the source code of the existing blocks to find out more."}}},{"id":19,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}},{"id":20,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"Ok, I'll give you a small example:","note":{"type":"text","tag":"p","text":"Ok, I'll give you a small example:"}}},{"id":21,"name":"RAW","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"/blocks.JSExpr","note":{"type":"block","isInstantiated":true,"code":"blocks.JSExpr","state":"resheet.core.block.create({\n  init: \"\",\n  view({ state, dispatch, env }, ref) {\n    return (\n      <textarea\n        ref={ref}\n        value={state}\n        onChange={ev => dispatch(stateBefore => ({ state: ev.target.value }))}\n        rows={state.split('\\n').length}\n        />\n    )\n  },\n  recompute(state, update, env) {\n    return state\n  },\n  getResult(state) {\n    return state\n  },\n  fromJSON(json) {\n    return typeof json === 'string' ? json : ''\n  },\n  toJSON(state) {\n    return state\n  },\n})"}}},{"id":22,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"/RAW","note":{"type":"block","isInstantiated":false,"code":"RAW"}}},{"id":23,"name":"rawText","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"/RAW","note":{"type":"block","isInstantiated":true,"code":"RAW","state":"{\n  \"hello\": \"world\"\n}"}}},{"id":24,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= JSON.parse(rawText)","note":{"type":"expr","code":" JSON.parse(rawText)"}}}]}},"isCollapsed":true,"children":[]}]}],"viewState":{"sidebarOpen":true,"openPage":[0,1]},"template":{"id":1,"name":"","state":{"t":"resheet.selector","v":0,"mode":"run","expr":"SheetOf(Note)","inner":{"t":"resheet.sheet","v":1,"lines":[{"id":0,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}}]}},"isCollapsed":true,"children":[]}},"prev":0},{"time":1711109208369,"state":{"pages":[{"id":0,"name":"Introduction","state":{"t":"resheet.selector","v":0,"mode":"run","expr":"SheetOf(Note)","inner":{"t":"resheet.sheet","v":1,"lines":[{"id":0,"name":"","visibility":"result","state":{"t":"resheet.note","v":1,"level":0,"input":"= <h1 className=\"flex space-x-2 items-baseline my-2 text-5xl\">\n    <img className=\"h-12\" src={resheet.assets.logoSvg} alt=\"ReSheet Logo\"/>\n    <span>ReSheet</span>\n    <span className=\"text-2xl\">alpha</span>\n  </h1>","note":{"type":"expr","code":" <h1 className=\"flex space-x-2 items-baseline my-2 text-5xl\">\n    <img className=\"h-12\" src={resheet.assets.logoSvg} alt=\"ReSheet Logo\"/>\n    <span>ReSheet</span>\n    <span className=\"text-2xl\">alpha</span>\n  </h1>"}}},{"id":41,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"A notes-spreadsheet-hybrid for programmers.","note":{"type":"text","tag":"p","text":"A notes-spreadsheet-hybrid for programmers."}}},{"id":86,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}},{"id":87,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"Everything in ReSheet is a Block. A Block can be thought of like a cell in a spreadsheet.","note":{"type":"text","tag":"p","text":"Everything in ReSheet is a Block. A Block can be thought of like a cell in a spreadsheet."}}},{"id":85,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"ReSheet is heavily keyboard-focused:","note":{"type":"text","tag":"p","text":"ReSheet is heavily keyboard-focused:"}}},{"id":88,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":1,"input":"Try **⌘K/⌘⇧P** to see all commands for the currently focused block(s). (Also try **⌘?**)","note":{"type":"text","tag":"p","text":"Try **⌘K/⌘⇧P** to see all commands for the currently focused block(s). (Also try **⌘?**)"}}},{"id":89,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":1,"input":"Use the ArrowKeys or `H`/`J`/`K`/`L` and `Enter`/`Escape` to move between Blocks.","note":{"type":"text","tag":"p","text":"Use the ArrowKeys or `H`/`J`/`K`/`L` and `Enter`/`Escape` to move between Blocks."}}},{"id":90,"name":"","visibility":"result","state":{"t":"resheet.note","v":1,"level":0,"input":"= <img className=\"my-4\" alt=\"ReSheet demo animation\" src={resheet.assets.demoGif} />","note":{"type":"expr","code":" <img className=\"my-4\" alt=\"ReSheet demo animation\" src={resheet.assets.demoGif} />"}}},{"id":70,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"## Shortcuts","note":{"type":"text","tag":"h2","text":"Shortcuts"}}},{"id":76,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"*⌘ = Meta = Ctrl (can be used interchangeably, useful if the browser intercepts a variant)*","note":{"type":"text","tag":"p","text":"*⌘ = Meta = Ctrl (can be used interchangeably, useful if the browser intercepts a variant)*"}}},{"id":66,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"Command Search: **⌘K/⌘⇧P**","note":{"type":"text","tag":"p","text":"Command Search: **⌘K/⌘⇧P**"}}},{"id":67,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"Shortcut Suggestions: **⌘?**","note":{"type":"text","tag":"p","text":"Shortcut Suggestions: **⌘?**"}}},{"id":68,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"Navigation: **Arrow Keys/`HJKL`**","note":{"type":"text","tag":"p","text":"Navigation: **Arrow Keys/`HJKL`**"}}},{"id":69,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"Go in/out: **`Enter`/`Escape`**","note":{"type":"text","tag":"p","text":"Go in/out: **`Enter`/`Escape`**"}}},{"id":71,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"## Writing","note":{"type":"text","tag":"h2","text":"Writing"}}},{"id":72,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"Format with Markdown","note":{"type":"text","tag":"p","text":"Format with Markdown"}}},{"id":74,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":1,"input":"<span className=\"text-sm text-gray-800\">(`*italic* **bold** [link text](link url)` etc)</span>","note":{"type":"text","tag":"p","text":"<span className=\"text-sm text-gray-800\">(`*italic* **bold** [link text](link url)` etc)</span>"}}},{"id":7,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"\"Formulas\" (JavaScript) start with `\"=\"`","note":{"type":"text","tag":"p","text":"\"Formulas\" (JavaScript) start with `\"=\"`"}}},{"id":82,"name":"x","visibility":"block","state":{"t":"resheet.note","v":1,"level":1,"input":"= 12","note":{"type":"expr","code":" 12"}}},{"id":84,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":1,"input":"= Math.sqrt(x + x)","note":{"type":"expr","code":" Math.sqrt(x + x)"}}},{"id":80,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":1,"input":"**⌘`Space`** for completions","note":{"type":"text","tag":"p","text":"**⌘`Space`** for completions"}}},{"id":81,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":1,"input":"**⌘`D`** for docs (if available)","note":{"type":"text","tag":"p","text":"**⌘`D`** for docs (if available)"}}}]}},"isCollapsed":false,"children":[{"id":0,"name":"Tips","state":{"t":"resheet.selector","v":0,"mode":"run","expr":"SheetOf(Note)","inner":{"t":"resheet.sheet","v":1,"lines":[{"id":13,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"# Tips","note":{"type":"text","tag":"h1","text":"Tips"}}},{"id":2,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"Your document is automatically backed up to IndexedDB, but gets deleted after 7 days. So don't forget to save it to a local file.","note":{"type":"text","tag":"p","text":"Your document is automatically backed up to IndexedDB, but gets deleted after 7 days. So don't forget to save it to a local file."}}},{"id":3,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}},{"id":4,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"ReSheet gives you the full power of JavaScript and React.","note":{"type":"text","tag":"p","text":"ReSheet gives you the full power of JavaScript and React."}}},{"id":5,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"**Be aware:** You have the **power to break it** (but generally you can undo it – ⌘Z) and full responsibilty to **ensure you trust the code you run**.","note":{"type":"text","tag":"p","text":"**Be aware:** You have the **power to break it** (but generally you can undo it – ⌘Z) and full responsibilty to **ensure you trust the code you run**."}}},{"id":6,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"Also beware of side-effects in your code: Everything is automatically rerun as needed (for changes), so side-effects may execute for every character you type.","note":{"type":"text","tag":"p","text":"Also beware of side-effects in your code: Everything is automatically rerun as needed (for changes), so side-effects may execute for every character you type."}}},{"id":7,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}},{"id":8,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"If a shortcut triggers a browser action, try an alternative key combination by switching ⌘/Meta/Ctrl.","note":{"type":"text","tag":"p","text":"If a shortcut triggers a browser action, try an alternative key combination by switching ⌘/Meta/Ctrl."}}},{"id":9,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":1,"input":"For example:","note":{"type":"text","tag":"p","text":"For example:"}}},{"id":10,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":2,"input":"⌘N = Meta-N = Ctrl-N","note":{"type":"text","tag":"p","text":"⌘N = Meta-N = Ctrl-N"}}},{"id":11,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":2,"input":"⌘⇧P = Meta-Shift-P = Ctrl-Shift-P","note":{"type":"text","tag":"p","text":"⌘⇧P = Meta-Shift-P = Ctrl-Shift-P"}}},{"id":12,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":2,"input":"etc","note":{"type":"text","tag":"p","text":"etc"}}}]}},"isCollapsed":true,"children":[]},{"id":1,"name":"Formulas","state":{"t":"resheet.selector","v":0,"mode":"run","expr":"SheetOf(Note)","inner":{"t":"resheet.sheet","v":1,"lines":[{"id":0,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"# Formulas","note":{"type":"text","tag":"h1","text":"Formulas"}}},{"id":1,"name":"msInADay","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= 24 /*h*/ * 60 /*min*/ * 60 /*sec*/ * 1000 /*ms*/","note":{"type":"expr","code":" 24 /*h*/ * 60 /*min*/ * 60 /*sec*/ * 1000 /*ms*/"}}},{"id":2,"name":"startOfThisYear","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= new Date(new Date().getFullYear(), 0, 1)","note":{"type":"expr","code":" new Date(new Date().getFullYear(), 0, 1)"}}},{"id":3,"name":"daysInThisYear","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= (Date.now() - startOfThisYear.getTime()) / msInADay","note":{"type":"expr","code":" (Date.now() - startOfThisYear.getTime()) / msInADay"}}},{"id":4,"name":"","visibility":"result","state":{"t":"resheet.note","v":1,"level":0,"input":"= // using react:\n<p className=\"py-2\">\n  This year is already {/* preserve the space character before this comment */}\n  {daysInThisYear.toLocaleString(\"en-US\", { maximumFractionDigits: 1 })}\n  {} days long. {}\n  <span className=\"text-sm text-gray-700\">(Select this line and show or hide the code with ⌘M)</span>\n</p>","note":{"type":"expr","code":" // using react:\n<p className=\"py-2\">\n  This year is already {/* preserve the space character before this comment */}\n  {daysInThisYear.toLocaleString(\"en-US\", { maximumFractionDigits: 1 })}\n  {} days long. {}\n  <span className=\"text-sm text-gray-700\">(Select this line and show or hide the code with ⌘M)</span>\n</p>"}}},{"id":5,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"## External Libraries","note":{"type":"text","tag":"h2","text":"External Libraries"}}},{"id":6,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"[esm.sh](https://esm.sh/) works great for loading npm libraries","note":{"type":"text","tag":"p","text":"[esm.sh](https://esm.sh/) works great for loading npm libraries"}}},{"id":14,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"### Number Formatting","note":{"type":"text","tag":"h3","text":"Number Formatting"}}},{"id":7,"name":"numeral","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= import('https://esm.sh/numeral')","note":{"type":"expr","code":" import('https://esm.sh/numeral')"}}},{"id":8,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= numeral.default(123456.789).format('0,0.00')","note":{"type":"expr","code":" numeral.default(123456.789).format('0,0.00')"}}},{"id":10,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"### CSV Parsing","note":{"type":"text","tag":"h3","text":"CSV Parsing"}}},{"id":11,"name":"Papa","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= import('https://esm.sh/papaparse')","note":{"type":"expr","code":" import('https://esm.sh/papaparse')"}}},{"id":12,"name":"csv","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"id,name,age,plan,email\n0,John,28,free,john@example.com\n1,Alice,34,premium,alice@boo\n2,Bob,43,premium,bob@b.b","note":{"type":"text","tag":"p","text":"id,name,age,plan,email\n0,John,28,free,john@example.com\n1,Alice,34,premium,alice@boo\n2,Bob,43,premium,bob@b.b"}}},{"id":13,"name":"data","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= Papa.default.parse(csv.text, { header: true }).data","note":{"type":"expr","code":" Papa.default.parse(csv.text, { header: true }).data"}}},{"id":15,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"### Data Validation","note":{"type":"text","tag":"h3","text":"Data Validation"}}},{"id":16,"name":"validator","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= import('https://esm.sh/validator')","note":{"type":"expr","code":" import('https://esm.sh/validator')"}}},{"id":17,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= data.map(user => ({ ...user, validEmail: validator.default.isEmail(user.email) }))","note":{"type":"expr","code":" data.map(user => ({ ...user, validEmail: validator.default.isEmail(user.email) }))"}}},{"id":18,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"### Data Processing","note":{"type":"text","tag":"h3","text":"Data Processing"}}},{"id":19,"name":"lodash","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= import('https://esm.sh/lodash')","note":{"type":"expr","code":" import('https://esm.sh/lodash')"}}},{"id":20,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= lodash.default.groupBy(data, 'plan')","note":{"type":"expr","code":" lodash.default.groupBy(data, 'plan')"}}},{"id":21,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"### Dates","note":{"type":"text","tag":"h3","text":"Dates"}}},{"id":22,"name":"datefns","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= import('https://esm.sh/date-fns')","note":{"type":"expr","code":" import('https://esm.sh/date-fns')"}}},{"id":23,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= datefns.parse('midnight', 'B', new Date())","note":{"type":"expr","code":" datefns.parse('midnight', 'B', new Date())"}}},{"id":24,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"### Charts","note":{"type":"text","tag":"h3","text":"Charts"}}},{"id":25,"name":"recharts","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= import('https://esm.sh/recharts?external=react')","note":{"type":"expr","code":" import('https://esm.sh/recharts?external=react')"}}},{"id":27,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"/blocks.JSExpr","note":{"type":"block","isInstantiated":true,"code":"blocks.JSExpr","state":"const { ResponsiveContainer, BarChart, Bar, XAxis, YAxis } =\n  recharts;\n\n<ResponsiveContainer width=\"100px\" height=\"400px\">\n  <BarChart width={768} height={400} data={data}>\n    <Bar type=\"monotone\" dataKey=\"age\" fill=\"#8884d8\" />\n    <XAxis dataKey=\"name\"/>\n    <YAxis/>\n  </BarChart>\n</ResponsiveContainer>"}}}]}},"isCollapsed":true,"children":[]},{"id":2,"name":"Markdown","state":{"t":"resheet.selector","v":0,"mode":"run","expr":"SheetOf(Note)","inner":{"t":"resheet.sheet","v":1,"lines":[{"id":0,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"# Markdown","note":{"type":"text","tag":"h1","text":"Markdown"}}},{"id":1,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"*`*italic*`*","note":{"type":"text","tag":"p","text":"*`*italic*`*"}}},{"id":2,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"**`**bold**`**","note":{"type":"text","tag":"p","text":"**`**bold**`**"}}},{"id":3,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"`[a link](url)`","note":{"type":"text","tag":"p","text":"`[a link](url)`"}}},{"id":4,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"- Lists","note":{"type":"text","tag":"li","text":"Lists"}}},{"id":5,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"[ ] Todos","note":{"type":"checkbox","checked":false,"text":"Todos"}}},{"id":6,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"[x] Done","note":{"type":"checkbox","checked":true,"text":"Done"}}},{"id":7,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"`# Headings`","note":{"type":"text","tag":"p","text":"`# Headings`"}}},{"id":8,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"Inline <span className=\"before:block before:absolute before:-inset-0.5 before:-skew-y-1 before:bg-blue-100 relative inline-block\"><span className=\"relative text-blue-950\">Html with [tailwindcss](https://tailwindcss.com/docs/utility-first)</span></span>","note":{"type":"text","tag":"p","text":"Inline <span className=\"before:block before:absolute before:-inset-0.5 before:-skew-y-1 before:bg-blue-100 relative inline-block\"><span className=\"relative text-blue-950\">Html with [tailwindcss](https://tailwindcss.com/docs/utility-first)</span></span>"}}}]}},"isCollapsed":true,"children":[]},{"id":3,"name":"Blocks","state":{"t":"resheet.selector","v":0,"mode":"run","expr":"SheetOf(Note)","inner":{"t":"resheet.sheet","v":1,"lines":[{"id":0,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"# Blocks","note":{"type":"text","tag":"h1","text":"Blocks"}}},{"id":1,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"Blocks are the equivalent to cells in a spreadsheet. Most things in ReSheet are Blocks.","note":{"type":"text","tag":"p","text":"Blocks are the equivalent to cells in a spreadsheet. Most things in ReSheet are Blocks."}}},{"id":3,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}},{"id":2,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"Every line here contains a `Note` Block, which allows writing Markdown or Formulas.","note":{"type":"text","tag":"p","text":"Every line here contains a `Note` Block, which allows writing Markdown or Formulas."}}},{"id":4,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"A `Note` Block also allows using another Block, for example `JSExpr`. Type:","note":{"type":"text","tag":"p","text":"A `Note` Block also allows using another Block, for example `JSExpr`. Type:"}}},{"id":5,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"/blocks.JSExpr","note":{"type":"block","isInstantiated":false,"code":"blocks.JSExpr"}}},{"id":6,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"and hit ⌘`Enter` to use it:","note":{"type":"text","tag":"p","text":"and hit ⌘`Enter` to use it:"}}},{"id":7,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"/blocks.JSExpr","note":{"type":"block","isInstantiated":true,"code":"blocks.JSExpr","state":"// This is a JSExpr Block now\nfunction Mark({ children }) {\n  return (\n    <span className=\"before:block before:absolute before:-inset-0.5 before:-skew-y-2 before:bg-blue-400 relative inline-block\">\n      <span className=\"relative text-white px-0.5 tracking-wide\">\n        {children}\n      </span>\n    </span>\n  )\n}\n\n<p className=\"py-1\">\n  <Mark>Look</Mark> at it!\n</p>"}}},{"id":8,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}},{"id":9,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"All lines here are part of the `SheetOf` Block:","note":{"type":"text","tag":"p","text":"All lines here are part of the `SheetOf` Block:"}}},{"id":10,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"/blocks.SheetOf(blocks.Note)","note":{"type":"block","isInstantiated":false,"code":"blocks.SheetOf(blocks.Note)"}}},{"id":11,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"/blocks.SheetOf(blocks.Note)","note":{"type":"block","isInstantiated":true,"code":"blocks.SheetOf(blocks.Note)","state":{"t":"resheet.sheet","v":1,"lines":[{"id":0,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"Now we have a Sheet inside of a Sheet","note":{"type":"text","tag":"p","text":"Now we have a Sheet inside of a Sheet"}}},{"id":1,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= $9.text","note":{"type":"expr","code":" $9.text"}}}]}}}},{"id":12,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}},{"id":13,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}},{"id":14,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"There are other Blocks available in `blocks`. (Use completion/docs with ⌘`Space`/⌘`D`)","note":{"type":"text","tag":"p","text":"There are other Blocks available in `blocks`. (Use completion/docs with ⌘`Space`/⌘`D`)"}}},{"id":15,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= blocks","note":{"type":"expr","code":" blocks"}}},{"id":16,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}},{"id":17,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"## Custom Blocks","note":{"type":"text","tag":"h2","text":"Custom Blocks"}}},{"id":18,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"You can build your own blocks. For now you either have to shoot me a message or look at the source code of the existing blocks to find out more.","note":{"type":"text","tag":"p","text":"You can build your own blocks. For now you either have to shoot me a message or look at the source code of the existing blocks to find out more."}}},{"id":19,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}},{"id":20,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"Ok, I'll give you a small example:","note":{"type":"text","tag":"p","text":"Ok, I'll give you a small example:"}}},{"id":21,"name":"RAW","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"/blocks.JSExpr","note":{"type":"block","isInstantiated":true,"code":"blocks.JSExpr","state":"resheet.core.block.create({\n  init: \"\",\n  view({ state, dispatch, env }, ref) {\n    return (\n      <textarea\n        ref={ref}\n        value={state}\n        onChange={ev => dispatch(stateBefore => ({ state: ev.target.value }))}\n        rows={state.split('\\n').length}\n        />\n    )\n  },\n  recompute(state, update, env) {\n    return state\n  },\n  getResult(state) {\n    return state\n  },\n  fromJSON(json) {\n    return typeof json === 'string' ? json : ''\n  },\n  toJSON(state) {\n    return state\n  },\n})"}}},{"id":22,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"/RAW","note":{"type":"block","isInstantiated":false,"code":"RAW"}}},{"id":23,"name":"rawText","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"/RAW","note":{"type":"block","isInstantiated":true,"code":"RAW","state":"{\n  \"hello\": \"world\"\n}"}}},{"id":24,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= JSON.parse(rawText)","note":{"type":"expr","code":" JSON.parse(rawText)"}}}]}},"isCollapsed":true,"children":[]}]}],"viewState":{"sidebarOpen":true,"openPage":[0,1]},"template":{"id":1,"name":"","state":{"t":"resheet.selector","v":0,"mode":"run","expr":"SheetOf(Note)","inner":{"t":"resheet.sheet","v":1,"lines":[{"id":0,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}}]}},"isCollapsed":true,"children":[]}},"prev":0},{"time":1711109217239,"state":{"pages":[{"id":0,"name":"Introduction","state":{"t":"resheet.selector","v":0,"mode":"run","expr":"SheetOf(Note)","inner":{"t":"resheet.sheet","v":1,"lines":[{"id":0,"name":"","visibility":"result","state":{"t":"resheet.note","v":1,"level":0,"input":"= <h1 className=\"flex space-x-2 items-baseline my-2 text-5xl\">\n    <img className=\"h-12\" src={resheet.assets.logoSvg} alt=\"ReSheet Logo\"/>\n    <span>ReSheet</span>\n    <span className=\"text-2xl\">alpha</span>\n  </h1>","note":{"type":"expr","code":" <h1 className=\"flex space-x-2 items-baseline my-2 text-5xl\">\n    <img className=\"h-12\" src={resheet.assets.logoSvg} alt=\"ReSheet Logo\"/>\n    <span>ReSheet</span>\n    <span className=\"text-2xl\">alpha</span>\n  </h1>"}}},{"id":41,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"A notes-spreadsheet-hybrid for programmers.","note":{"type":"text","tag":"p","text":"A notes-spreadsheet-hybrid for programmers."}}},{"id":86,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}},{"id":87,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"Everything in ReSheet is a Block. A Block can be thought of like a cell in a spreadsheet.","note":{"type":"text","tag":"p","text":"Everything in ReSheet is a Block. A Block can be thought of like a cell in a spreadsheet."}}},{"id":85,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"ReSheet is heavily keyboard-focused:","note":{"type":"text","tag":"p","text":"ReSheet is heavily keyboard-focused:"}}},{"id":88,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":1,"input":"Try **⌘K/⌘⇧P** to see all commands for the currently focused block(s). (Also try **⌘?**)","note":{"type":"text","tag":"p","text":"Try **⌘K/⌘⇧P** to see all commands for the currently focused block(s). (Also try **⌘?**)"}}},{"id":89,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":1,"input":"Use the ArrowKeys or `H`/`J`/`K`/`L` and `Enter`/`Escape` to move between Blocks.","note":{"type":"text","tag":"p","text":"Use the ArrowKeys or `H`/`J`/`K`/`L` and `Enter`/`Escape` to move between Blocks."}}},{"id":90,"name":"","visibility":"result","state":{"t":"resheet.note","v":1,"level":0,"input":"= <img className=\"my-4\" alt=\"ReSheet demo animation\" src={resheet.assets.demoGif} />","note":{"type":"expr","code":" <img className=\"my-4\" alt=\"ReSheet demo animation\" src={resheet.assets.demoGif} />"}}},{"id":70,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"## Shortcuts","note":{"type":"text","tag":"h2","text":"Shortcuts"}}},{"id":76,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"*⌘ = Meta = Ctrl (can be used interchangeably, useful if the browser intercepts a variant)*","note":{"type":"text","tag":"p","text":"*⌘ = Meta = Ctrl (can be used interchangeably, useful if the browser intercepts a variant)*"}}},{"id":66,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"Command Search: **⌘K/⌘⇧P**","note":{"type":"text","tag":"p","text":"Command Search: **⌘K/⌘⇧P**"}}},{"id":67,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"Shortcut Suggestions: **⌘?**","note":{"type":"text","tag":"p","text":"Shortcut Suggestions: **⌘?**"}}},{"id":68,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"Navigation: **Arrow Keys/`HJKL`**","note":{"type":"text","tag":"p","text":"Navigation: **Arrow Keys/`HJKL`**"}}},{"id":69,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"Go in/out: **`Enter`/`Escape`**","note":{"type":"text","tag":"p","text":"Go in/out: **`Enter`/`Escape`**"}}},{"id":71,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"## Writing","note":{"type":"text","tag":"h2","text":"Writing"}}},{"id":72,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"Format with Markdown","note":{"type":"text","tag":"p","text":"Format with Markdown"}}},{"id":74,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":1,"input":"<span className=\"text-sm text-gray-800\">(`*italic* **bold** [link text](link url)` etc)</span>","note":{"type":"text","tag":"p","text":"<span className=\"text-sm text-gray-800\">(`*italic* **bold** [link text](link url)` etc)</span>"}}},{"id":7,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"\"Formulas\" (JavaScript) start with `\"=\"`","note":{"type":"text","tag":"p","text":"\"Formulas\" (JavaScript) start with `\"=\"`"}}},{"id":82,"name":"x","visibility":"block","state":{"t":"resheet.note","v":1,"level":1,"input":"= 12","note":{"type":"expr","code":" 12"}}},{"id":84,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":1,"input":"= Math.sqrt(x + x)","note":{"type":"expr","code":" Math.sqrt(x + x)"}}},{"id":80,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":1,"input":"**⌘`Space`** for completions","note":{"type":"text","tag":"p","text":"**⌘`Space`** for completions"}}},{"id":81,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":1,"input":"**⌘`D`** for docs (if available)","note":{"type":"text","tag":"p","text":"**⌘`D`** for docs (if available)"}}}]}},"isCollapsed":false,"children":[{"id":0,"name":"Tips","state":{"t":"resheet.selector","v":0,"mode":"run","expr":"SheetOf(Note)","inner":{"t":"resheet.sheet","v":1,"lines":[{"id":13,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"# Tips","note":{"type":"text","tag":"h1","text":"Tips"}}},{"id":2,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"Your document is automatically backed up to IndexedDB, but gets deleted after 7 days. So don't forget to save it to a local file.","note":{"type":"text","tag":"p","text":"Your document is automatically backed up to IndexedDB, but gets deleted after 7 days. So don't forget to save it to a local file."}}},{"id":3,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}},{"id":4,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"ReSheet gives you the full power of JavaScript and React.","note":{"type":"text","tag":"p","text":"ReSheet gives you the full power of JavaScript and React."}}},{"id":5,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"**Be aware:** You have the **power to break it** (but generally you can undo it – ⌘Z) and full responsibilty to **ensure you trust the code you run**.","note":{"type":"text","tag":"p","text":"**Be aware:** You have the **power to break it** (but generally you can undo it – ⌘Z) and full responsibilty to **ensure you trust the code you run**."}}},{"id":6,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"Also beware of side-effects in your code: Everything is automatically rerun as needed (for changes), so side-effects may execute for every character you type.","note":{"type":"text","tag":"p","text":"Also beware of side-effects in your code: Everything is automatically rerun as needed (for changes), so side-effects may execute for every character you type."}}},{"id":7,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}},{"id":8,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"If a shortcut triggers a browser action, try an alternative key combination by switching ⌘/Meta/Ctrl.","note":{"type":"text","tag":"p","text":"If a shortcut triggers a browser action, try an alternative key combination by switching ⌘/Meta/Ctrl."}}},{"id":9,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":1,"input":"For example:","note":{"type":"text","tag":"p","text":"For example:"}}},{"id":10,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":2,"input":"⌘N = Meta-N = Ctrl-N","note":{"type":"text","tag":"p","text":"⌘N = Meta-N = Ctrl-N"}}},{"id":11,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":2,"input":"⌘⇧P = Meta-Shift-P = Ctrl-Shift-P","note":{"type":"text","tag":"p","text":"⌘⇧P = Meta-Shift-P = Ctrl-Shift-P"}}},{"id":12,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":2,"input":"etc","note":{"type":"text","tag":"p","text":"etc"}}}]}},"isCollapsed":true,"children":[]},{"id":1,"name":"Formulas","state":{"t":"resheet.selector","v":0,"mode":"run","expr":"SheetOf(Note)","inner":{"t":"resheet.sheet","v":1,"lines":[{"id":0,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"# Formulas","note":{"type":"text","tag":"h1","text":"Formulas"}}},{"id":1,"name":"msInADay","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= 24 /*h*/ * 60 /*min*/ * 60 /*sec*/ * 1000 /*ms*/","note":{"type":"expr","code":" 24 /*h*/ * 60 /*min*/ * 60 /*sec*/ * 1000 /*ms*/"}}},{"id":2,"name":"startOfThisYear","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= new Date(new Date().getFullYear(), 0, 1)","note":{"type":"expr","code":" new Date(new Date().getFullYear(), 0, 1)"}}},{"id":3,"name":"daysInThisYear","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= (Date.now() - startOfThisYear.getTime()) / msInADay","note":{"type":"expr","code":" (Date.now() - startOfThisYear.getTime()) / msInADay"}}},{"id":4,"name":"","visibility":"result","state":{"t":"resheet.note","v":1,"level":0,"input":"= // using react:\n<p className=\"py-2\">\n  This year is already {/* preserve the space character before this comment */}\n  {daysInThisYear.toLocaleString(\"en-US\", { maximumFractionDigits: 1 })}\n  {} days long. {}\n  <span className=\"text-sm text-gray-700\">(Select this line and show or hide the code with ⌘M)</span>\n</p>","note":{"type":"expr","code":" // using react:\n<p className=\"py-2\">\n  This year is already {/* preserve the space character before this comment */}\n  {daysInThisYear.toLocaleString(\"en-US\", { maximumFractionDigits: 1 })}\n  {} days long. {}\n  <span className=\"text-sm text-gray-700\">(Select this line and show or hide the code with ⌘M)</span>\n</p>"}}},{"id":5,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"## External Libraries","note":{"type":"text","tag":"h2","text":"External Libraries"}}},{"id":6,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"[esm.sh](https://esm.sh/) works great for loading npm libraries","note":{"type":"text","tag":"p","text":"[esm.sh](https://esm.sh/) works great for loading npm libraries"}}},{"id":14,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"### Number Formatting","note":{"type":"text","tag":"h3","text":"Number Formatting"}}},{"id":7,"name":"numeral","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= import('https://esm.sh/numeral')","note":{"type":"expr","code":" import('https://esm.sh/numeral')"}}},{"id":8,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= numeral.default(123456.789).format('0,0.00')","note":{"type":"expr","code":" numeral.default(123456.789).format('0,0.00')"}}},{"id":10,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"### CSV Parsing","note":{"type":"text","tag":"h3","text":"CSV Parsing"}}},{"id":11,"name":"Papa","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= import('https://esm.sh/papaparse')","note":{"type":"expr","code":" import('https://esm.sh/papaparse')"}}},{"id":12,"name":"csv","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"id,name,age,plan,email\n0,John,28,free,john@example.com\n1,Alice,34,premium,alice@boo\n2,Bob,43,premium,bob@b.b","note":{"type":"text","tag":"p","text":"id,name,age,plan,email\n0,John,28,free,john@example.com\n1,Alice,34,premium,alice@boo\n2,Bob,43,premium,bob@b.b"}}},{"id":13,"name":"data","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= Papa.default.parse(csv.text, { header: true }).data","note":{"type":"expr","code":" Papa.default.parse(csv.text, { header: true }).data"}}},{"id":15,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"### Data Validation","note":{"type":"text","tag":"h3","text":"Data Validation"}}},{"id":16,"name":"validator","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= import('https://esm.sh/validator')","note":{"type":"expr","code":" import('https://esm.sh/validator')"}}},{"id":17,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= data.map(user => ({ ...user, validEmail: validator.default.isEmail(user.email) }))","note":{"type":"expr","code":" data.map(user => ({ ...user, validEmail: validator.default.isEmail(user.email) }))"}}},{"id":18,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"### Data Processing","note":{"type":"text","tag":"h3","text":"Data Processing"}}},{"id":19,"name":"lodash","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= import('https://esm.sh/lodash')","note":{"type":"expr","code":" import('https://esm.sh/lodash')"}}},{"id":20,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= lodash.default.groupBy(data, 'plan')","note":{"type":"expr","code":" lodash.default.groupBy(data, 'plan')"}}},{"id":21,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"### Dates","note":{"type":"text","tag":"h3","text":"Dates"}}},{"id":22,"name":"datefns","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= import('https://esm.sh/date-fns')","note":{"type":"expr","code":" import('https://esm.sh/date-fns')"}}},{"id":23,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= datefns.parse('midnight', 'B', new Date())","note":{"type":"expr","code":" datefns.parse('midnight', 'B', new Date())"}}},{"id":24,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"### Charts","note":{"type":"text","tag":"h3","text":"Charts"}}},{"id":25,"name":"recharts","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= import('https://esm.sh/recharts?external=react')","note":{"type":"expr","code":" import('https://esm.sh/recharts?external=react')"}}},{"id":27,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"/blocks.JSExpr","note":{"type":"block","isInstantiated":true,"code":"blocks.JSExpr","state":"const { ResponsiveContainer, BarChart, Bar, XAxis, YAxis } =\n  recharts;\n\n<BarChart width={768} height={400} data={data}>\n  <Bar type=\"monotone\" dataKey=\"age\" fill=\"#8884d8\" />\n  <XAxis dataKey=\"name\"/>\n  <YAxis/>\n</BarChart>"}}}]}},"isCollapsed":true,"children":[]},{"id":2,"name":"Markdown","state":{"t":"resheet.selector","v":0,"mode":"run","expr":"SheetOf(Note)","inner":{"t":"resheet.sheet","v":1,"lines":[{"id":0,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"# Markdown","note":{"type":"text","tag":"h1","text":"Markdown"}}},{"id":1,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"*`*italic*`*","note":{"type":"text","tag":"p","text":"*`*italic*`*"}}},{"id":2,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"**`**bold**`**","note":{"type":"text","tag":"p","text":"**`**bold**`**"}}},{"id":3,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"`[a link](url)`","note":{"type":"text","tag":"p","text":"`[a link](url)`"}}},{"id":4,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"- Lists","note":{"type":"text","tag":"li","text":"Lists"}}},{"id":5,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"[ ] Todos","note":{"type":"checkbox","checked":false,"text":"Todos"}}},{"id":6,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"[x] Done","note":{"type":"checkbox","checked":true,"text":"Done"}}},{"id":7,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"`# Headings`","note":{"type":"text","tag":"p","text":"`# Headings`"}}},{"id":8,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"Inline <span className=\"before:block before:absolute before:-inset-0.5 before:-skew-y-1 before:bg-blue-100 relative inline-block\"><span className=\"relative text-blue-950\">Html with [tailwindcss](https://tailwindcss.com/docs/utility-first)</span></span>","note":{"type":"text","tag":"p","text":"Inline <span className=\"before:block before:absolute before:-inset-0.5 before:-skew-y-1 before:bg-blue-100 relative inline-block\"><span className=\"relative text-blue-950\">Html with [tailwindcss](https://tailwindcss.com/docs/utility-first)</span></span>"}}}]}},"isCollapsed":true,"children":[]},{"id":3,"name":"Blocks","state":{"t":"resheet.selector","v":0,"mode":"run","expr":"SheetOf(Note)","inner":{"t":"resheet.sheet","v":1,"lines":[{"id":0,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"# Blocks","note":{"type":"text","tag":"h1","text":"Blocks"}}},{"id":1,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"Blocks are the equivalent to cells in a spreadsheet. Most things in ReSheet are Blocks.","note":{"type":"text","tag":"p","text":"Blocks are the equivalent to cells in a spreadsheet. Most things in ReSheet are Blocks."}}},{"id":3,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}},{"id":2,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"Every line here contains a `Note` Block, which allows writing Markdown or Formulas.","note":{"type":"text","tag":"p","text":"Every line here contains a `Note` Block, which allows writing Markdown or Formulas."}}},{"id":4,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"A `Note` Block also allows using another Block, for example `JSExpr`. Type:","note":{"type":"text","tag":"p","text":"A `Note` Block also allows using another Block, for example `JSExpr`. Type:"}}},{"id":5,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"/blocks.JSExpr","note":{"type":"block","isInstantiated":false,"code":"blocks.JSExpr"}}},{"id":6,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"and hit ⌘`Enter` to use it:","note":{"type":"text","tag":"p","text":"and hit ⌘`Enter` to use it:"}}},{"id":7,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"/blocks.JSExpr","note":{"type":"block","isInstantiated":true,"code":"blocks.JSExpr","state":"// This is a JSExpr Block now\nfunction Mark({ children }) {\n  return (\n    <span className=\"before:block before:absolute before:-inset-0.5 before:-skew-y-2 before:bg-blue-400 relative inline-block\">\n      <span className=\"relative text-white px-0.5 tracking-wide\">\n        {children}\n      </span>\n    </span>\n  )\n}\n\n<p className=\"py-1\">\n  <Mark>Look</Mark> at it!\n</p>"}}},{"id":8,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}},{"id":9,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"All lines here are part of the `SheetOf` Block:","note":{"type":"text","tag":"p","text":"All lines here are part of the `SheetOf` Block:"}}},{"id":10,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"/blocks.SheetOf(blocks.Note)","note":{"type":"block","isInstantiated":false,"code":"blocks.SheetOf(blocks.Note)"}}},{"id":11,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"/blocks.SheetOf(blocks.Note)","note":{"type":"block","isInstantiated":true,"code":"blocks.SheetOf(blocks.Note)","state":{"t":"resheet.sheet","v":1,"lines":[{"id":0,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"Now we have a Sheet inside of a Sheet","note":{"type":"text","tag":"p","text":"Now we have a Sheet inside of a Sheet"}}},{"id":1,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= $9.text","note":{"type":"expr","code":" $9.text"}}}]}}}},{"id":12,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}},{"id":13,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}},{"id":14,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"There are other Blocks available in `blocks`. (Use completion/docs with ⌘`Space`/⌘`D`)","note":{"type":"text","tag":"p","text":"There are other Blocks available in `blocks`. (Use completion/docs with ⌘`Space`/⌘`D`)"}}},{"id":15,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= blocks","note":{"type":"expr","code":" blocks"}}},{"id":16,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}},{"id":17,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"## Custom Blocks","note":{"type":"text","tag":"h2","text":"Custom Blocks"}}},{"id":18,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"You can build your own blocks. For now you either have to shoot me a message or look at the source code of the existing blocks to find out more.","note":{"type":"text","tag":"p","text":"You can build your own blocks. For now you either have to shoot me a message or look at the source code of the existing blocks to find out more."}}},{"id":19,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}},{"id":20,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"Ok, I'll give you a small example:","note":{"type":"text","tag":"p","text":"Ok, I'll give you a small example:"}}},{"id":21,"name":"RAW","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"/blocks.JSExpr","note":{"type":"block","isInstantiated":true,"code":"blocks.JSExpr","state":"resheet.core.block.create({\n  init: \"\",\n  view({ state, dispatch, env }, ref) {\n    return (\n      <textarea\n        ref={ref}\n        value={state}\n        onChange={ev => dispatch(stateBefore => ({ state: ev.target.value }))}\n        rows={state.split('\\n').length}\n        />\n    )\n  },\n  recompute(state, update, env) {\n    return state\n  },\n  getResult(state) {\n    return state\n  },\n  fromJSON(json) {\n    return typeof json === 'string' ? json : ''\n  },\n  toJSON(state) {\n    return state\n  },\n})"}}},{"id":22,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"/RAW","note":{"type":"block","isInstantiated":false,"code":"RAW"}}},{"id":23,"name":"rawText","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"/RAW","note":{"type":"block","isInstantiated":true,"code":"RAW","state":"{\n  \"hello\": \"world\"\n}"}}},{"id":24,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= JSON.parse(rawText)","note":{"type":"expr","code":" JSON.parse(rawText)"}}}]}},"isCollapsed":true,"children":[]}]}],"viewState":{"sidebarOpen":true,"openPage":[0,1]},"template":{"id":1,"name":"","state":{"t":"resheet.selector","v":0,"mode":"run","expr":"SheetOf(Note)","inner":{"t":"resheet.sheet","v":1,"lines":[{"id":0,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}}]}},"isCollapsed":true,"children":[]}},"prev":0},{"time":1711109264978,"state":{"pages":[{"id":0,"name":"Introduction","state":{"t":"resheet.selector","v":0,"mode":"run","expr":"SheetOf(Note)","inner":{"t":"resheet.sheet","v":1,"lines":[{"id":0,"name":"","visibility":"result","state":{"t":"resheet.note","v":1,"level":0,"input":"= <h1 className=\"flex space-x-2 items-baseline my-2 text-5xl\">\n    <img className=\"h-12\" src={resheet.assets.logoSvg} alt=\"ReSheet Logo\"/>\n    <span>ReSheet</span>\n    <span className=\"text-2xl\">alpha</span>\n  </h1>","note":{"type":"expr","code":" <h1 className=\"flex space-x-2 items-baseline my-2 text-5xl\">\n    <img className=\"h-12\" src={resheet.assets.logoSvg} alt=\"ReSheet Logo\"/>\n    <span>ReSheet</span>\n    <span className=\"text-2xl\">alpha</span>\n  </h1>"}}},{"id":41,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"A notes-spreadsheet-hybrid for programmers.","note":{"type":"text","tag":"p","text":"A notes-spreadsheet-hybrid for programmers."}}},{"id":86,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}},{"id":87,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"Everything in ReSheet is a Block. A Block can be thought of like a cell in a spreadsheet.","note":{"type":"text","tag":"p","text":"Everything in ReSheet is a Block. A Block can be thought of like a cell in a spreadsheet."}}},{"id":85,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"ReSheet is heavily keyboard-focused:","note":{"type":"text","tag":"p","text":"ReSheet is heavily keyboard-focused:"}}},{"id":88,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":1,"input":"Try **⌘K/⌘⇧P** to see all commands for the currently focused block(s). (Also try **⌘?**)","note":{"type":"text","tag":"p","text":"Try **⌘K/⌘⇧P** to see all commands for the currently focused block(s). (Also try **⌘?**)"}}},{"id":89,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":1,"input":"Use the ArrowKeys or `H`/`J`/`K`/`L` and `Enter`/`Escape` to move between Blocks.","note":{"type":"text","tag":"p","text":"Use the ArrowKeys or `H`/`J`/`K`/`L` and `Enter`/`Escape` to move between Blocks."}}},{"id":90,"name":"","visibility":"result","state":{"t":"resheet.note","v":1,"level":0,"input":"= <img className=\"my-4\" alt=\"ReSheet demo animation\" src={resheet.assets.demoGif} />","note":{"type":"expr","code":" <img className=\"my-4\" alt=\"ReSheet demo animation\" src={resheet.assets.demoGif} />"}}},{"id":70,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"## Shortcuts","note":{"type":"text","tag":"h2","text":"Shortcuts"}}},{"id":76,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"*⌘ = Meta = Ctrl (can be used interchangeably, useful if the browser intercepts a variant)*","note":{"type":"text","tag":"p","text":"*⌘ = Meta = Ctrl (can be used interchangeably, useful if the browser intercepts a variant)*"}}},{"id":66,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"Command Search: **⌘K/⌘⇧P**","note":{"type":"text","tag":"p","text":"Command Search: **⌘K/⌘⇧P**"}}},{"id":67,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"Shortcut Suggestions: **⌘?**","note":{"type":"text","tag":"p","text":"Shortcut Suggestions: **⌘?**"}}},{"id":68,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"Navigation: **Arrow Keys/`HJKL`**","note":{"type":"text","tag":"p","text":"Navigation: **Arrow Keys/`HJKL`**"}}},{"id":69,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"Go in/out: **`Enter`/`Escape`**","note":{"type":"text","tag":"p","text":"Go in/out: **`Enter`/`Escape`**"}}},{"id":71,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"## Writing","note":{"type":"text","tag":"h2","text":"Writing"}}},{"id":72,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"Format with Markdown","note":{"type":"text","tag":"p","text":"Format with Markdown"}}},{"id":74,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":1,"input":"<span className=\"text-sm text-gray-800\">(`*italic* **bold** [link text](link url)` etc)</span>","note":{"type":"text","tag":"p","text":"<span className=\"text-sm text-gray-800\">(`*italic* **bold** [link text](link url)` etc)</span>"}}},{"id":7,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"\"Formulas\" (JavaScript) start with `\"=\"`","note":{"type":"text","tag":"p","text":"\"Formulas\" (JavaScript) start with `\"=\"`"}}},{"id":82,"name":"x","visibility":"block","state":{"t":"resheet.note","v":1,"level":1,"input":"= 12","note":{"type":"expr","code":" 12"}}},{"id":84,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":1,"input":"= Math.sqrt(x + x)","note":{"type":"expr","code":" Math.sqrt(x + x)"}}},{"id":80,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":1,"input":"**⌘`Space`** for completions","note":{"type":"text","tag":"p","text":"**⌘`Space`** for completions"}}},{"id":81,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":1,"input":"**⌘`D`** for docs (if available)","note":{"type":"text","tag":"p","text":"**⌘`D`** for docs (if available)"}}}]}},"isCollapsed":false,"children":[{"id":0,"name":"Tips","state":{"t":"resheet.selector","v":0,"mode":"run","expr":"SheetOf(Note)","inner":{"t":"resheet.sheet","v":1,"lines":[{"id":13,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"# Tips","note":{"type":"text","tag":"h1","text":"Tips"}}},{"id":2,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"Your document is automatically backed up to IndexedDB, but gets deleted after 7 days. So don't forget to save it to a local file.","note":{"type":"text","tag":"p","text":"Your document is automatically backed up to IndexedDB, but gets deleted after 7 days. So don't forget to save it to a local file."}}},{"id":3,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}},{"id":4,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"ReSheet gives you the full power of JavaScript and React.","note":{"type":"text","tag":"p","text":"ReSheet gives you the full power of JavaScript and React."}}},{"id":5,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"**Be aware:** You have the **power to break it** (but generally you can undo it – ⌘Z) and full responsibilty to **ensure you trust the code you run**.","note":{"type":"text","tag":"p","text":"**Be aware:** You have the **power to break it** (but generally you can undo it – ⌘Z) and full responsibilty to **ensure you trust the code you run**."}}},{"id":6,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"Also beware of side-effects in your code: Everything is automatically rerun as needed (for changes), so side-effects may execute for every character you type.","note":{"type":"text","tag":"p","text":"Also beware of side-effects in your code: Everything is automatically rerun as needed (for changes), so side-effects may execute for every character you type."}}},{"id":7,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}},{"id":8,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"If a shortcut triggers a browser action, try an alternative key combination by switching ⌘/Meta/Ctrl.","note":{"type":"text","tag":"p","text":"If a shortcut triggers a browser action, try an alternative key combination by switching ⌘/Meta/Ctrl."}}},{"id":9,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":1,"input":"For example:","note":{"type":"text","tag":"p","text":"For example:"}}},{"id":10,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":2,"input":"⌘N = Meta-N = Ctrl-N","note":{"type":"text","tag":"p","text":"⌘N = Meta-N = Ctrl-N"}}},{"id":11,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":2,"input":"⌘⇧P = Meta-Shift-P = Ctrl-Shift-P","note":{"type":"text","tag":"p","text":"⌘⇧P = Meta-Shift-P = Ctrl-Shift-P"}}},{"id":12,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":2,"input":"etc","note":{"type":"text","tag":"p","text":"etc"}}}]}},"isCollapsed":true,"children":[]},{"id":1,"name":"Formulas","state":{"t":"resheet.selector","v":0,"mode":"run","expr":"SheetOf(Note)","inner":{"t":"resheet.sheet","v":1,"lines":[{"id":0,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"# Formulas","note":{"type":"text","tag":"h1","text":"Formulas"}}},{"id":1,"name":"msInADay","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= 24 /*h*/ * 60 /*min*/ * 60 /*sec*/ * 1000 /*ms*/","note":{"type":"expr","code":" 24 /*h*/ * 60 /*min*/ * 60 /*sec*/ * 1000 /*ms*/"}}},{"id":2,"name":"startOfThisYear","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= new Date(new Date().getFullYear(), 0, 1)","note":{"type":"expr","code":" new Date(new Date().getFullYear(), 0, 1)"}}},{"id":3,"name":"daysInThisYear","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= (Date.now() - startOfThisYear.getTime()) / msInADay","note":{"type":"expr","code":" (Date.now() - startOfThisYear.getTime()) / msInADay"}}},{"id":4,"name":"","visibility":"result","state":{"t":"resheet.note","v":1,"level":0,"input":"= // using react:\n<p className=\"py-2\">\n  This year is already {/* preserve the space character before this comment */}\n  {daysInThisYear.toLocaleString(\"en-US\", { maximumFractionDigits: 1 })}\n  {} days long. {}\n  <span className=\"text-sm text-gray-700\">(Select this line and show or hide the code with ⌘M)</span>\n</p>","note":{"type":"expr","code":" // using react:\n<p className=\"py-2\">\n  This year is already {/* preserve the space character before this comment */}\n  {daysInThisYear.toLocaleString(\"en-US\", { maximumFractionDigits: 1 })}\n  {} days long. {}\n  <span className=\"text-sm text-gray-700\">(Select this line and show or hide the code with ⌘M)</span>\n</p>"}}},{"id":5,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"## External Libraries","note":{"type":"text","tag":"h2","text":"External Libraries"}}},{"id":6,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"[esm.sh](https://esm.sh/) works great for loading npm libraries","note":{"type":"text","tag":"p","text":"[esm.sh](https://esm.sh/) works great for loading npm libraries"}}},{"id":14,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"### Number Formatting","note":{"type":"text","tag":"h3","text":"Number Formatting"}}},{"id":7,"name":"numeral","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= import('https://esm.sh/numeral')","note":{"type":"expr","code":" import('https://esm.sh/numeral')"}}},{"id":8,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= numeral.default(123456.789).format('0,0.00')","note":{"type":"expr","code":" numeral.default(123456.789).format('0,0.00')"}}},{"id":10,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"### CSV Parsing","note":{"type":"text","tag":"h3","text":"CSV Parsing"}}},{"id":11,"name":"Papa","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= import('https://esm.sh/papaparse')","note":{"type":"expr","code":" import('https://esm.sh/papaparse')"}}},{"id":12,"name":"csv","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"id,name,age,plan,email\n0,John,28,free,john@example.com\n1,Alice,34,premium,alice@boo\n2,Bob,43,premium,bob@b.b","note":{"type":"text","tag":"p","text":"id,name,age,plan,email\n0,John,28,free,john@example.com\n1,Alice,34,premium,alice@boo\n2,Bob,43,premium,bob@b.b"}}},{"id":13,"name":"data","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= Papa.default.parse(csv.text, { header: true }).data","note":{"type":"expr","code":" Papa.default.parse(csv.text, { header: true }).data"}}},{"id":15,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"### Data Validation","note":{"type":"text","tag":"h3","text":"Data Validation"}}},{"id":16,"name":"validator","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= import('https://esm.sh/validator')","note":{"type":"expr","code":" import('https://esm.sh/validator')"}}},{"id":17,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= data.map(user => ({ ...user, validEmail: validator.default.isEmail(user.email) }))","note":{"type":"expr","code":" data.map(user => ({ ...user, validEmail: validator.default.isEmail(user.email) }))"}}},{"id":18,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"### Data Processing","note":{"type":"text","tag":"h3","text":"Data Processing"}}},{"id":19,"name":"lodash","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= import('https://esm.sh/lodash')","note":{"type":"expr","code":" import('https://esm.sh/lodash')"}}},{"id":20,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= lodash.default.groupBy(data, 'plan')","note":{"type":"expr","code":" lodash.default.groupBy(data, 'plan')"}}},{"id":21,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"### Dates","note":{"type":"text","tag":"h3","text":"Dates"}}},{"id":22,"name":"datefns","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= import('https://esm.sh/date-fns')","note":{"type":"expr","code":" import('https://esm.sh/date-fns')"}}},{"id":23,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= datefns.parse('midnight', 'B', new Date())","note":{"type":"expr","code":" datefns.parse('midnight', 'B', new Date())"}}},{"id":24,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"### Charts","note":{"type":"text","tag":"h3","text":"Charts"}}},{"id":25,"name":"recharts","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= import('https://esm.sh/recharts?external=react')","note":{"type":"expr","code":" import('https://esm.sh/recharts?external=react')"}}},{"id":27,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"/blocks.JSExpr","note":{"type":"block","isInstantiated":true,"code":"blocks.JSExpr","state":"const {, BarChart, Bar, XAxis, YAxis } =\n  recharts;\n\n<BarChart width={768} height={400} data={data}>\n  <Bar type=\"monotone\" dataKey=\"age\" fill=\"#8884d8\" />\n  <XAxis dataKey=\"name\"/>\n  <YAxis/>\n</BarChart>"}}}]}},"isCollapsed":true,"children":[]},{"id":2,"name":"Markdown","state":{"t":"resheet.selector","v":0,"mode":"run","expr":"SheetOf(Note)","inner":{"t":"resheet.sheet","v":1,"lines":[{"id":0,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"# Markdown","note":{"type":"text","tag":"h1","text":"Markdown"}}},{"id":1,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"*`*italic*`*","note":{"type":"text","tag":"p","text":"*`*italic*`*"}}},{"id":2,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"**`**bold**`**","note":{"type":"text","tag":"p","text":"**`**bold**`**"}}},{"id":3,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"`[a link](url)`","note":{"type":"text","tag":"p","text":"`[a link](url)`"}}},{"id":4,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"- Lists","note":{"type":"text","tag":"li","text":"Lists"}}},{"id":5,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"[ ] Todos","note":{"type":"checkbox","checked":false,"text":"Todos"}}},{"id":6,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"[x] Done","note":{"type":"checkbox","checked":true,"text":"Done"}}},{"id":7,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"`# Headings`","note":{"type":"text","tag":"p","text":"`# Headings`"}}},{"id":8,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"Inline <span className=\"before:block before:absolute before:-inset-0.5 before:-skew-y-1 before:bg-blue-100 relative inline-block\"><span className=\"relative text-blue-950\">Html with [tailwindcss](https://tailwindcss.com/docs/utility-first)</span></span>","note":{"type":"text","tag":"p","text":"Inline <span className=\"before:block before:absolute before:-inset-0.5 before:-skew-y-1 before:bg-blue-100 relative inline-block\"><span className=\"relative text-blue-950\">Html with [tailwindcss](https://tailwindcss.com/docs/utility-first)</span></span>"}}}]}},"isCollapsed":true,"children":[]},{"id":3,"name":"Blocks","state":{"t":"resheet.selector","v":0,"mode":"run","expr":"SheetOf(Note)","inner":{"t":"resheet.sheet","v":1,"lines":[{"id":0,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"# Blocks","note":{"type":"text","tag":"h1","text":"Blocks"}}},{"id":1,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"Blocks are the equivalent to cells in a spreadsheet. Most things in ReSheet are Blocks.","note":{"type":"text","tag":"p","text":"Blocks are the equivalent to cells in a spreadsheet. Most things in ReSheet are Blocks."}}},{"id":3,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}},{"id":2,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"Every line here contains a `Note` Block, which allows writing Markdown or Formulas.","note":{"type":"text","tag":"p","text":"Every line here contains a `Note` Block, which allows writing Markdown or Formulas."}}},{"id":4,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"A `Note` Block also allows using another Block, for example `JSExpr`. Type:","note":{"type":"text","tag":"p","text":"A `Note` Block also allows using another Block, for example `JSExpr`. Type:"}}},{"id":5,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"/blocks.JSExpr","note":{"type":"block","isInstantiated":false,"code":"blocks.JSExpr"}}},{"id":6,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"and hit ⌘`Enter` to use it:","note":{"type":"text","tag":"p","text":"and hit ⌘`Enter` to use it:"}}},{"id":7,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"/blocks.JSExpr","note":{"type":"block","isInstantiated":true,"code":"blocks.JSExpr","state":"// This is a JSExpr Block now\nfunction Mark({ children }) {\n  return (\n    <span className=\"before:block before:absolute before:-inset-0.5 before:-skew-y-2 before:bg-blue-400 relative inline-block\">\n      <span className=\"relative text-white px-0.5 tracking-wide\">\n        {children}\n      </span>\n    </span>\n  )\n}\n\n<p className=\"py-1\">\n  <Mark>Look</Mark> at it!\n</p>"}}},{"id":8,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}},{"id":9,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"All lines here are part of the `SheetOf` Block:","note":{"type":"text","tag":"p","text":"All lines here are part of the `SheetOf` Block:"}}},{"id":10,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"/blocks.SheetOf(blocks.Note)","note":{"type":"block","isInstantiated":false,"code":"blocks.SheetOf(blocks.Note)"}}},{"id":11,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"/blocks.SheetOf(blocks.Note)","note":{"type":"block","isInstantiated":true,"code":"blocks.SheetOf(blocks.Note)","state":{"t":"resheet.sheet","v":1,"lines":[{"id":0,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"Now we have a Sheet inside of a Sheet","note":{"type":"text","tag":"p","text":"Now we have a Sheet inside of a Sheet"}}},{"id":1,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= $9.text","note":{"type":"expr","code":" $9.text"}}}]}}}},{"id":12,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}},{"id":13,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}},{"id":14,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"There are other Blocks available in `blocks`. (Use completion/docs with ⌘`Space`/⌘`D`)","note":{"type":"text","tag":"p","text":"There are other Blocks available in `blocks`. (Use completion/docs with ⌘`Space`/⌘`D`)"}}},{"id":15,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= blocks","note":{"type":"expr","code":" blocks"}}},{"id":16,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}},{"id":17,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"## Custom Blocks","note":{"type":"text","tag":"h2","text":"Custom Blocks"}}},{"id":18,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"You can build your own blocks. For now you either have to shoot me a message or look at the source code of the existing blocks to find out more.","note":{"type":"text","tag":"p","text":"You can build your own blocks. For now you either have to shoot me a message or look at the source code of the existing blocks to find out more."}}},{"id":19,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}},{"id":20,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"Ok, I'll give you a small example:","note":{"type":"text","tag":"p","text":"Ok, I'll give you a small example:"}}},{"id":21,"name":"RAW","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"/blocks.JSExpr","note":{"type":"block","isInstantiated":true,"code":"blocks.JSExpr","state":"resheet.core.block.create({\n  init: \"\",\n  view({ state, dispatch, env }, ref) {\n    return (\n      <textarea\n        ref={ref}\n        value={state}\n        onChange={ev => dispatch(stateBefore => ({ state: ev.target.value }))}\n        rows={state.split('\\n').length}\n        />\n    )\n  },\n  recompute(state, update, env) {\n    return state\n  },\n  getResult(state) {\n    return state\n  },\n  fromJSON(json) {\n    return typeof json === 'string' ? json : ''\n  },\n  toJSON(state) {\n    return state\n  },\n})"}}},{"id":22,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"/RAW","note":{"type":"block","isInstantiated":false,"code":"RAW"}}},{"id":23,"name":"rawText","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"/RAW","note":{"type":"block","isInstantiated":true,"code":"RAW","state":"{\n  \"hello\": \"world\"\n}"}}},{"id":24,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= JSON.parse(rawText)","note":{"type":"expr","code":" JSON.parse(rawText)"}}}]}},"isCollapsed":true,"children":[]}]}],"viewState":{"sidebarOpen":true,"openPage":[0,1]},"template":{"id":1,"name":"","state":{"t":"resheet.selector","v":0,"mode":"run","expr":"SheetOf(Note)","inner":{"t":"resheet.sheet","v":1,"lines":[{"id":0,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}}]}},"isCollapsed":true,"children":[]}},"prev":0},{"time":1711109268654,"state":{"pages":[{"id":0,"name":"Introduction","state":{"t":"resheet.selector","v":0,"mode":"run","expr":"SheetOf(Note)","inner":{"t":"resheet.sheet","v":1,"lines":[{"id":0,"name":"","visibility":"result","state":{"t":"resheet.note","v":1,"level":0,"input":"= <h1 className=\"flex space-x-2 items-baseline my-2 text-5xl\">\n    <img className=\"h-12\" src={resheet.assets.logoSvg} alt=\"ReSheet Logo\"/>\n    <span>ReSheet</span>\n    <span className=\"text-2xl\">alpha</span>\n  </h1>","note":{"type":"expr","code":" <h1 className=\"flex space-x-2 items-baseline my-2 text-5xl\">\n    <img className=\"h-12\" src={resheet.assets.logoSvg} alt=\"ReSheet Logo\"/>\n    <span>ReSheet</span>\n    <span className=\"text-2xl\">alpha</span>\n  </h1>"}}},{"id":41,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"A notes-spreadsheet-hybrid for programmers.","note":{"type":"text","tag":"p","text":"A notes-spreadsheet-hybrid for programmers."}}},{"id":86,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}},{"id":87,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"Everything in ReSheet is a Block. A Block can be thought of like a cell in a spreadsheet.","note":{"type":"text","tag":"p","text":"Everything in ReSheet is a Block. A Block can be thought of like a cell in a spreadsheet."}}},{"id":85,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"ReSheet is heavily keyboard-focused:","note":{"type":"text","tag":"p","text":"ReSheet is heavily keyboard-focused:"}}},{"id":88,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":1,"input":"Try **⌘K/⌘⇧P** to see all commands for the currently focused block(s). (Also try **⌘?**)","note":{"type":"text","tag":"p","text":"Try **⌘K/⌘⇧P** to see all commands for the currently focused block(s). (Also try **⌘?**)"}}},{"id":89,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":1,"input":"Use the ArrowKeys or `H`/`J`/`K`/`L` and `Enter`/`Escape` to move between Blocks.","note":{"type":"text","tag":"p","text":"Use the ArrowKeys or `H`/`J`/`K`/`L` and `Enter`/`Escape` to move between Blocks."}}},{"id":90,"name":"","visibility":"result","state":{"t":"resheet.note","v":1,"level":0,"input":"= <img className=\"my-4\" alt=\"ReSheet demo animation\" src={resheet.assets.demoGif} />","note":{"type":"expr","code":" <img className=\"my-4\" alt=\"ReSheet demo animation\" src={resheet.assets.demoGif} />"}}},{"id":70,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"## Shortcuts","note":{"type":"text","tag":"h2","text":"Shortcuts"}}},{"id":76,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"*⌘ = Meta = Ctrl (can be used interchangeably, useful if the browser intercepts a variant)*","note":{"type":"text","tag":"p","text":"*⌘ = Meta = Ctrl (can be used interchangeably, useful if the browser intercepts a variant)*"}}},{"id":66,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"Command Search: **⌘K/⌘⇧P**","note":{"type":"text","tag":"p","text":"Command Search: **⌘K/⌘⇧P**"}}},{"id":67,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"Shortcut Suggestions: **⌘?**","note":{"type":"text","tag":"p","text":"Shortcut Suggestions: **⌘?**"}}},{"id":68,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"Navigation: **Arrow Keys/`HJKL`**","note":{"type":"text","tag":"p","text":"Navigation: **Arrow Keys/`HJKL`**"}}},{"id":69,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"Go in/out: **`Enter`/`Escape`**","note":{"type":"text","tag":"p","text":"Go in/out: **`Enter`/`Escape`**"}}},{"id":71,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"## Writing","note":{"type":"text","tag":"h2","text":"Writing"}}},{"id":72,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"Format with Markdown","note":{"type":"text","tag":"p","text":"Format with Markdown"}}},{"id":74,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":1,"input":"<span className=\"text-sm text-gray-800\">(`*italic* **bold** [link text](link url)` etc)</span>","note":{"type":"text","tag":"p","text":"<span className=\"text-sm text-gray-800\">(`*italic* **bold** [link text](link url)` etc)</span>"}}},{"id":7,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"\"Formulas\" (JavaScript) start with `\"=\"`","note":{"type":"text","tag":"p","text":"\"Formulas\" (JavaScript) start with `\"=\"`"}}},{"id":82,"name":"x","visibility":"block","state":{"t":"resheet.note","v":1,"level":1,"input":"= 12","note":{"type":"expr","code":" 12"}}},{"id":84,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":1,"input":"= Math.sqrt(x + x)","note":{"type":"expr","code":" Math.sqrt(x + x)"}}},{"id":80,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":1,"input":"**⌘`Space`** for completions","note":{"type":"text","tag":"p","text":"**⌘`Space`** for completions"}}},{"id":81,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":1,"input":"**⌘`D`** for docs (if available)","note":{"type":"text","tag":"p","text":"**⌘`D`** for docs (if available)"}}}]}},"isCollapsed":false,"children":[{"id":0,"name":"Tips","state":{"t":"resheet.selector","v":0,"mode":"run","expr":"SheetOf(Note)","inner":{"t":"resheet.sheet","v":1,"lines":[{"id":13,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"# Tips","note":{"type":"text","tag":"h1","text":"Tips"}}},{"id":2,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"Your document is automatically backed up to IndexedDB, but gets deleted after 7 days. So don't forget to save it to a local file.","note":{"type":"text","tag":"p","text":"Your document is automatically backed up to IndexedDB, but gets deleted after 7 days. So don't forget to save it to a local file."}}},{"id":3,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}},{"id":4,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"ReSheet gives you the full power of JavaScript and React.","note":{"type":"text","tag":"p","text":"ReSheet gives you the full power of JavaScript and React."}}},{"id":5,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"**Be aware:** You have the **power to break it** (but generally you can undo it – ⌘Z) and full responsibilty to **ensure you trust the code you run**.","note":{"type":"text","tag":"p","text":"**Be aware:** You have the **power to break it** (but generally you can undo it – ⌘Z) and full responsibilty to **ensure you trust the code you run**."}}},{"id":6,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"Also beware of side-effects in your code: Everything is automatically rerun as needed (for changes), so side-effects may execute for every character you type.","note":{"type":"text","tag":"p","text":"Also beware of side-effects in your code: Everything is automatically rerun as needed (for changes), so side-effects may execute for every character you type."}}},{"id":7,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}},{"id":8,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"If a shortcut triggers a browser action, try an alternative key combination by switching ⌘/Meta/Ctrl.","note":{"type":"text","tag":"p","text":"If a shortcut triggers a browser action, try an alternative key combination by switching ⌘/Meta/Ctrl."}}},{"id":9,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":1,"input":"For example:","note":{"type":"text","tag":"p","text":"For example:"}}},{"id":10,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":2,"input":"⌘N = Meta-N = Ctrl-N","note":{"type":"text","tag":"p","text":"⌘N = Meta-N = Ctrl-N"}}},{"id":11,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":2,"input":"⌘⇧P = Meta-Shift-P = Ctrl-Shift-P","note":{"type":"text","tag":"p","text":"⌘⇧P = Meta-Shift-P = Ctrl-Shift-P"}}},{"id":12,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":2,"input":"etc","note":{"type":"text","tag":"p","text":"etc"}}}]}},"isCollapsed":true,"children":[]},{"id":1,"name":"Formulas","state":{"t":"resheet.selector","v":0,"mode":"run","expr":"SheetOf(Note)","inner":{"t":"resheet.sheet","v":1,"lines":[{"id":0,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"# Formulas","note":{"type":"text","tag":"h1","text":"Formulas"}}},{"id":1,"name":"msInADay","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= 24 /*h*/ * 60 /*min*/ * 60 /*sec*/ * 1000 /*ms*/","note":{"type":"expr","code":" 24 /*h*/ * 60 /*min*/ * 60 /*sec*/ * 1000 /*ms*/"}}},{"id":2,"name":"startOfThisYear","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= new Date(new Date().getFullYear(), 0, 1)","note":{"type":"expr","code":" new Date(new Date().getFullYear(), 0, 1)"}}},{"id":3,"name":"daysInThisYear","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= (Date.now() - startOfThisYear.getTime()) / msInADay","note":{"type":"expr","code":" (Date.now() - startOfThisYear.getTime()) / msInADay"}}},{"id":4,"name":"","visibility":"result","state":{"t":"resheet.note","v":1,"level":0,"input":"= // using react:\n<p className=\"py-2\">\n  This year is already {/* preserve the space character before this comment */}\n  {daysInThisYear.toLocaleString(\"en-US\", { maximumFractionDigits: 1 })}\n  {} days long. {}\n  <span className=\"text-sm text-gray-700\">(Select this line and show or hide the code with ⌘M)</span>\n</p>","note":{"type":"expr","code":" // using react:\n<p className=\"py-2\">\n  This year is already {/* preserve the space character before this comment */}\n  {daysInThisYear.toLocaleString(\"en-US\", { maximumFractionDigits: 1 })}\n  {} days long. {}\n  <span className=\"text-sm text-gray-700\">(Select this line and show or hide the code with ⌘M)</span>\n</p>"}}},{"id":5,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"## External Libraries","note":{"type":"text","tag":"h2","text":"External Libraries"}}},{"id":6,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"[esm.sh](https://esm.sh/) works great for loading npm libraries","note":{"type":"text","tag":"p","text":"[esm.sh](https://esm.sh/) works great for loading npm libraries"}}},{"id":14,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"### Number Formatting","note":{"type":"text","tag":"h3","text":"Number Formatting"}}},{"id":7,"name":"numeral","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= import('https://esm.sh/numeral')","note":{"type":"expr","code":" import('https://esm.sh/numeral')"}}},{"id":8,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= numeral.default(123456.789).format('0,0.00')","note":{"type":"expr","code":" numeral.default(123456.789).format('0,0.00')"}}},{"id":10,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"### CSV Parsing","note":{"type":"text","tag":"h3","text":"CSV Parsing"}}},{"id":11,"name":"Papa","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= import('https://esm.sh/papaparse')","note":{"type":"expr","code":" import('https://esm.sh/papaparse')"}}},{"id":12,"name":"csv","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"id,name,age,plan,email\n0,John,28,free,john@example.com\n1,Alice,34,premium,alice@boo\n2,Bob,43,premium,bob@b.b","note":{"type":"text","tag":"p","text":"id,name,age,plan,email\n0,John,28,free,john@example.com\n1,Alice,34,premium,alice@boo\n2,Bob,43,premium,bob@b.b"}}},{"id":13,"name":"data","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= Papa.default.parse(csv.text, { header: true }).data","note":{"type":"expr","code":" Papa.default.parse(csv.text, { header: true }).data"}}},{"id":15,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"### Data Validation","note":{"type":"text","tag":"h3","text":"Data Validation"}}},{"id":16,"name":"validator","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= import('https://esm.sh/validator')","note":{"type":"expr","code":" import('https://esm.sh/validator')"}}},{"id":17,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= data.map(user => ({ ...user, validEmail: validator.default.isEmail(user.email) }))","note":{"type":"expr","code":" data.map(user => ({ ...user, validEmail: validator.default.isEmail(user.email) }))"}}},{"id":18,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"### Data Processing","note":{"type":"text","tag":"h3","text":"Data Processing"}}},{"id":19,"name":"lodash","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= import('https://esm.sh/lodash')","note":{"type":"expr","code":" import('https://esm.sh/lodash')"}}},{"id":20,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= lodash.default.groupBy(data, 'plan')","note":{"type":"expr","code":" lodash.default.groupBy(data, 'plan')"}}},{"id":21,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"### Dates","note":{"type":"text","tag":"h3","text":"Dates"}}},{"id":22,"name":"datefns","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= import('https://esm.sh/date-fns')","note":{"type":"expr","code":" import('https://esm.sh/date-fns')"}}},{"id":23,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= datefns.parse('midnight', 'B', new Date())","note":{"type":"expr","code":" datefns.parse('midnight', 'B', new Date())"}}},{"id":24,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"### Charts","note":{"type":"text","tag":"h3","text":"Charts"}}},{"id":25,"name":"recharts","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= import('https://esm.sh/recharts?external=react')","note":{"type":"expr","code":" import('https://esm.sh/recharts?external=react')"}}},{"id":27,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"/blocks.JSExpr","note":{"type":"block","isInstantiated":true,"code":"blocks.JSExpr","state":"const { BarChart, Bar, XAxis, YAxis } = recharts;\n\n<BarChart width={768} height={400} data={data}>\n  <Bar type=\"monotone\" dataKey=\"age\" fill=\"#8884d8\" />\n  <XAxis dataKey=\"name\"/>\n  <YAxis/>\n</BarChart>"}}}]}},"isCollapsed":true,"children":[]},{"id":2,"name":"Markdown","state":{"t":"resheet.selector","v":0,"mode":"run","expr":"SheetOf(Note)","inner":{"t":"resheet.sheet","v":1,"lines":[{"id":0,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"# Markdown","note":{"type":"text","tag":"h1","text":"Markdown"}}},{"id":1,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"*`*italic*`*","note":{"type":"text","tag":"p","text":"*`*italic*`*"}}},{"id":2,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"**`**bold**`**","note":{"type":"text","tag":"p","text":"**`**bold**`**"}}},{"id":3,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"`[a link](url)`","note":{"type":"text","tag":"p","text":"`[a link](url)`"}}},{"id":4,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"- Lists","note":{"type":"text","tag":"li","text":"Lists"}}},{"id":5,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"[ ] Todos","note":{"type":"checkbox","checked":false,"text":"Todos"}}},{"id":6,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"[x] Done","note":{"type":"checkbox","checked":true,"text":"Done"}}},{"id":7,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"`# Headings`","note":{"type":"text","tag":"p","text":"`# Headings`"}}},{"id":8,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"Inline <span className=\"before:block before:absolute before:-inset-0.5 before:-skew-y-1 before:bg-blue-100 relative inline-block\"><span className=\"relative text-blue-950\">Html with [tailwindcss](https://tailwindcss.com/docs/utility-first)</span></span>","note":{"type":"text","tag":"p","text":"Inline <span className=\"before:block before:absolute before:-inset-0.5 before:-skew-y-1 before:bg-blue-100 relative inline-block\"><span className=\"relative text-blue-950\">Html with [tailwindcss](https://tailwindcss.com/docs/utility-first)</span></span>"}}}]}},"isCollapsed":true,"children":[]},{"id":3,"name":"Blocks","state":{"t":"resheet.selector","v":0,"mode":"run","expr":"SheetOf(Note)","inner":{"t":"resheet.sheet","v":1,"lines":[{"id":0,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"# Blocks","note":{"type":"text","tag":"h1","text":"Blocks"}}},{"id":1,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"Blocks are the equivalent to cells in a spreadsheet. Most things in ReSheet are Blocks.","note":{"type":"text","tag":"p","text":"Blocks are the equivalent to cells in a spreadsheet. Most things in ReSheet are Blocks."}}},{"id":3,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}},{"id":2,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"Every line here contains a `Note` Block, which allows writing Markdown or Formulas.","note":{"type":"text","tag":"p","text":"Every line here contains a `Note` Block, which allows writing Markdown or Formulas."}}},{"id":4,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"A `Note` Block also allows using another Block, for example `JSExpr`. Type:","note":{"type":"text","tag":"p","text":"A `Note` Block also allows using another Block, for example `JSExpr`. Type:"}}},{"id":5,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"/blocks.JSExpr","note":{"type":"block","isInstantiated":false,"code":"blocks.JSExpr"}}},{"id":6,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"and hit ⌘`Enter` to use it:","note":{"type":"text","tag":"p","text":"and hit ⌘`Enter` to use it:"}}},{"id":7,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"/blocks.JSExpr","note":{"type":"block","isInstantiated":true,"code":"blocks.JSExpr","state":"// This is a JSExpr Block now\nfunction Mark({ children }) {\n  return (\n    <span className=\"before:block before:absolute before:-inset-0.5 before:-skew-y-2 before:bg-blue-400 relative inline-block\">\n      <span className=\"relative text-white px-0.5 tracking-wide\">\n        {children}\n      </span>\n    </span>\n  )\n}\n\n<p className=\"py-1\">\n  <Mark>Look</Mark> at it!\n</p>"}}},{"id":8,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}},{"id":9,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"All lines here are part of the `SheetOf` Block:","note":{"type":"text","tag":"p","text":"All lines here are part of the `SheetOf` Block:"}}},{"id":10,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"/blocks.SheetOf(blocks.Note)","note":{"type":"block","isInstantiated":false,"code":"blocks.SheetOf(blocks.Note)"}}},{"id":11,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"/blocks.SheetOf(blocks.Note)","note":{"type":"block","isInstantiated":true,"code":"blocks.SheetOf(blocks.Note)","state":{"t":"resheet.sheet","v":1,"lines":[{"id":0,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"Now we have a Sheet inside of a Sheet","note":{"type":"text","tag":"p","text":"Now we have a Sheet inside of a Sheet"}}},{"id":1,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= $9.text","note":{"type":"expr","code":" $9.text"}}}]}}}},{"id":12,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}},{"id":13,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}},{"id":14,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"There are other Blocks available in `blocks`. (Use completion/docs with ⌘`Space`/⌘`D`)","note":{"type":"text","tag":"p","text":"There are other Blocks available in `blocks`. (Use completion/docs with ⌘`Space`/⌘`D`)"}}},{"id":15,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= blocks","note":{"type":"expr","code":" blocks"}}},{"id":16,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}},{"id":17,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"## Custom Blocks","note":{"type":"text","tag":"h2","text":"Custom Blocks"}}},{"id":18,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"You can build your own blocks. For now you either have to shoot me a message or look at the source code of the existing blocks to find out more.","note":{"type":"text","tag":"p","text":"You can build your own blocks. For now you either have to shoot me a message or look at the source code of the existing blocks to find out more."}}},{"id":19,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}},{"id":20,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"Ok, I'll give you a small example:","note":{"type":"text","tag":"p","text":"Ok, I'll give you a small example:"}}},{"id":21,"name":"RAW","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"/blocks.JSExpr","note":{"type":"block","isInstantiated":true,"code":"blocks.JSExpr","state":"resheet.core.block.create({\n  init: \"\",\n  view({ state, dispatch, env }, ref) {\n    return (\n      <textarea\n        ref={ref}\n        value={state}\n        onChange={ev => dispatch(stateBefore => ({ state: ev.target.value }))}\n        rows={state.split('\\n').length}\n        />\n    )\n  },\n  recompute(state, update, env) {\n    return state\n  },\n  getResult(state) {\n    return state\n  },\n  fromJSON(json) {\n    return typeof json === 'string' ? json : ''\n  },\n  toJSON(state) {\n    return state\n  },\n})"}}},{"id":22,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"/RAW","note":{"type":"block","isInstantiated":false,"code":"RAW"}}},{"id":23,"name":"rawText","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"/RAW","note":{"type":"block","isInstantiated":true,"code":"RAW","state":"{\n  \"hello\": \"world\"\n}"}}},{"id":24,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= JSON.parse(rawText)","note":{"type":"expr","code":" JSON.parse(rawText)"}}}]}},"isCollapsed":true,"children":[]}]}],"viewState":{"sidebarOpen":true,"openPage":[0,1]},"template":{"id":1,"name":"","state":{"t":"resheet.selector","v":0,"mode":"run","expr":"SheetOf(Note)","inner":{"t":"resheet.sheet","v":1,"lines":[{"id":0,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}}]}},"isCollapsed":true,"children":[]}},"prev":0},{"time":1711109319373,"state":{"pages":[{"id":0,"name":"Introduction","state":{"t":"resheet.selector","v":0,"mode":"run","expr":"SheetOf(Note)","inner":{"t":"resheet.sheet","v":1,"lines":[{"id":0,"name":"","visibility":"result","state":{"t":"resheet.note","v":1,"level":0,"input":"= <h1 className=\"flex space-x-2 items-baseline my-2 text-5xl\">\n    <img className=\"h-12\" src={resheet.assets.logoSvg} alt=\"ReSheet Logo\"/>\n    <span>ReSheet</span>\n    <span className=\"text-2xl\">alpha</span>\n  </h1>","note":{"type":"expr","code":" <h1 className=\"flex space-x-2 items-baseline my-2 text-5xl\">\n    <img className=\"h-12\" src={resheet.assets.logoSvg} alt=\"ReSheet Logo\"/>\n    <span>ReSheet</span>\n    <span className=\"text-2xl\">alpha</span>\n  </h1>"}}},{"id":41,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"A notes-spreadsheet-hybrid for programmers.","note":{"type":"text","tag":"p","text":"A notes-spreadsheet-hybrid for programmers."}}},{"id":86,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}},{"id":87,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"Everything in ReSheet is a Block. A Block can be thought of like a cell in a spreadsheet.","note":{"type":"text","tag":"p","text":"Everything in ReSheet is a Block. A Block can be thought of like a cell in a spreadsheet."}}},{"id":85,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"ReSheet is heavily keyboard-focused:","note":{"type":"text","tag":"p","text":"ReSheet is heavily keyboard-focused:"}}},{"id":88,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":1,"input":"Try **⌘K/⌘⇧P** to see all commands for the currently focused block(s). (Also try **⌘?**)","note":{"type":"text","tag":"p","text":"Try **⌘K/⌘⇧P** to see all commands for the currently focused block(s). (Also try **⌘?**)"}}},{"id":89,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":1,"input":"Use the ArrowKeys or `H`/`J`/`K`/`L` and `Enter`/`Escape` to move between Blocks.","note":{"type":"text","tag":"p","text":"Use the ArrowKeys or `H`/`J`/`K`/`L` and `Enter`/`Escape` to move between Blocks."}}},{"id":90,"name":"","visibility":"result","state":{"t":"resheet.note","v":1,"level":0,"input":"= <img className=\"my-4\" alt=\"ReSheet demo animation\" src={resheet.assets.demoGif} />","note":{"type":"expr","code":" <img className=\"my-4\" alt=\"ReSheet demo animation\" src={resheet.assets.demoGif} />"}}},{"id":70,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"## Shortcuts","note":{"type":"text","tag":"h2","text":"Shortcuts"}}},{"id":76,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"*⌘ = Meta = Ctrl (can be used interchangeably, useful if the browser intercepts a variant)*","note":{"type":"text","tag":"p","text":"*⌘ = Meta = Ctrl (can be used interchangeably, useful if the browser intercepts a variant)*"}}},{"id":66,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"Command Search: **⌘K/⌘⇧P**","note":{"type":"text","tag":"p","text":"Command Search: **⌘K/⌘⇧P**"}}},{"id":67,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"Shortcut Suggestions: **⌘?**","note":{"type":"text","tag":"p","text":"Shortcut Suggestions: **⌘?**"}}},{"id":68,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"Navigation: **Arrow Keys/`HJKL`**","note":{"type":"text","tag":"p","text":"Navigation: **Arrow Keys/`HJKL`**"}}},{"id":69,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"Go in/out: **`Enter`/`Escape`**","note":{"type":"text","tag":"p","text":"Go in/out: **`Enter`/`Escape`**"}}},{"id":71,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"## Writing","note":{"type":"text","tag":"h2","text":"Writing"}}},{"id":72,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"Format with Markdown","note":{"type":"text","tag":"p","text":"Format with Markdown"}}},{"id":74,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":1,"input":"<span className=\"text-sm text-gray-800\">(`*italic* **bold** [link text](link url)` etc)</span>","note":{"type":"text","tag":"p","text":"<span className=\"text-sm text-gray-800\">(`*italic* **bold** [link text](link url)` etc)</span>"}}},{"id":7,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"\"Formulas\" (JavaScript) start with `\"=\"`","note":{"type":"text","tag":"p","text":"\"Formulas\" (JavaScript) start with `\"=\"`"}}},{"id":82,"name":"x","visibility":"block","state":{"t":"resheet.note","v":1,"level":1,"input":"= 12","note":{"type":"expr","code":" 12"}}},{"id":84,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":1,"input":"= Math.sqrt(x + x)","note":{"type":"expr","code":" Math.sqrt(x + x)"}}},{"id":80,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":1,"input":"**⌘`Space`** for completions","note":{"type":"text","tag":"p","text":"**⌘`Space`** for completions"}}},{"id":81,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":1,"input":"**⌘`D`** for docs (if available)","note":{"type":"text","tag":"p","text":"**⌘`D`** for docs (if available)"}}}]}},"isCollapsed":false,"children":[{"id":0,"name":"Tips","state":{"t":"resheet.selector","v":0,"mode":"run","expr":"SheetOf(Note)","inner":{"t":"resheet.sheet","v":1,"lines":[{"id":13,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"# Tips","note":{"type":"text","tag":"h1","text":"Tips"}}},{"id":2,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"Your document is automatically backed up to IndexedDB, but gets deleted after 7 days. So don't forget to save it to a local file.","note":{"type":"text","tag":"p","text":"Your document is automatically backed up to IndexedDB, but gets deleted after 7 days. So don't forget to save it to a local file."}}},{"id":3,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}},{"id":4,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"ReSheet gives you the full power of JavaScript and React.","note":{"type":"text","tag":"p","text":"ReSheet gives you the full power of JavaScript and React."}}},{"id":5,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"**Be aware:** You have the **power to break it** (but generally you can undo it – ⌘Z) and full responsibilty to **ensure you trust the code you run**.","note":{"type":"text","tag":"p","text":"**Be aware:** You have the **power to break it** (but generally you can undo it – ⌘Z) and full responsibilty to **ensure you trust the code you run**."}}},{"id":6,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"Also beware of side-effects in your code: Everything is automatically rerun as needed (for changes), so side-effects may execute for every character you type.","note":{"type":"text","tag":"p","text":"Also beware of side-effects in your code: Everything is automatically rerun as needed (for changes), so side-effects may execute for every character you type."}}},{"id":7,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}},{"id":8,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"If a shortcut triggers a browser action, try an alternative key combination by switching ⌘/Meta/Ctrl.","note":{"type":"text","tag":"p","text":"If a shortcut triggers a browser action, try an alternative key combination by switching ⌘/Meta/Ctrl."}}},{"id":9,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":1,"input":"For example:","note":{"type":"text","tag":"p","text":"For example:"}}},{"id":10,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":2,"input":"⌘N = Meta-N = Ctrl-N","note":{"type":"text","tag":"p","text":"⌘N = Meta-N = Ctrl-N"}}},{"id":11,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":2,"input":"⌘⇧P = Meta-Shift-P = Ctrl-Shift-P","note":{"type":"text","tag":"p","text":"⌘⇧P = Meta-Shift-P = Ctrl-Shift-P"}}},{"id":12,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":2,"input":"etc","note":{"type":"text","tag":"p","text":"etc"}}}]}},"isCollapsed":true,"children":[]},{"id":1,"name":"Formulas","state":{"t":"resheet.selector","v":0,"mode":"run","expr":"SheetOf(Note)","inner":{"t":"resheet.sheet","v":1,"lines":[{"id":0,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"# Formulas","note":{"type":"text","tag":"h1","text":"Formulas"}}},{"id":1,"name":"msInADay","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= 24 /*h*/ * 60 /*min*/ * 60 /*sec*/ * 1000 /*ms*/","note":{"type":"expr","code":" 24 /*h*/ * 60 /*min*/ * 60 /*sec*/ * 1000 /*ms*/"}}},{"id":2,"name":"startOfThisYear","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= new Date(new Date().getFullYear(), 0, 1)","note":{"type":"expr","code":" new Date(new Date().getFullYear(), 0, 1)"}}},{"id":3,"name":"daysInThisYear","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= (Date.now() - startOfThisYear.getTime()) / msInADay","note":{"type":"expr","code":" (Date.now() - startOfThisYear.getTime()) / msInADay"}}},{"id":4,"name":"","visibility":"result","state":{"t":"resheet.note","v":1,"level":0,"input":"= // using react:\n<p className=\"py-2\">\n  This year is already {/* preserve the space character before this comment */}\n  {daysInThisYear.toLocaleString(\"en-US\", { maximumFractionDigits: 1 })}\n  {} days long. {}\n  <span className=\"text-sm text-gray-700\">(Select this line and show or hide the code with ⌘M)</span>\n</p>","note":{"type":"expr","code":" // using react:\n<p className=\"py-2\">\n  This year is already {/* preserve the space character before this comment */}\n  {daysInThisYear.toLocaleString(\"en-US\", { maximumFractionDigits: 1 })}\n  {} days long. {}\n  <span className=\"text-sm text-gray-700\">(Select this line and show or hide the code with ⌘M)</span>\n</p>"}}},{"id":5,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"## External Libraries","note":{"type":"text","tag":"h2","text":"External Libraries"}}},{"id":6,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"[esm.sh](https://esm.sh/) works great for loading npm libraries","note":{"type":"text","tag":"p","text":"[esm.sh](https://esm.sh/) works great for loading npm libraries"}}},{"id":14,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"### Number Formatting","note":{"type":"text","tag":"h3","text":"Number Formatting"}}},{"id":7,"name":"numeral","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= import('https://esm.sh/numeral')","note":{"type":"expr","code":" import('https://esm.sh/numeral')"}}},{"id":8,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= numeral.default(123456.789).format('0,0.00')","note":{"type":"expr","code":" numeral.default(123456.789).format('0,0.00')"}}},{"id":10,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"### CSV Parsing","note":{"type":"text","tag":"h3","text":"CSV Parsing"}}},{"id":11,"name":"Papa","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= import('https://esm.sh/papaparse')","note":{"type":"expr","code":" import('https://esm.sh/papaparse')"}}},{"id":12,"name":"csv","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"id,name,age,plan,email\n0,John,28,free,john@example.com\n1,Alice,34,premium,alice@boo\n2,Bob,43,premium,bob@b.b","note":{"type":"text","tag":"p","text":"id,name,age,plan,email\n0,John,28,free,john@example.com\n1,Alice,34,premium,alice@boo\n2,Bob,43,premium,bob@b.b"}}},{"id":13,"name":"data","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= Papa.default.parse(csv.text, { header: true }).data","note":{"type":"expr","code":" Papa.default.parse(csv.text, { header: true }).data"}}},{"id":15,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"### Data Validation","note":{"type":"text","tag":"h3","text":"Data Validation"}}},{"id":16,"name":"validator","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= import('https://esm.sh/validator')","note":{"type":"expr","code":" import('https://esm.sh/validator')"}}},{"id":17,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= data.map(user => ({ ...user, validEmail: validator.default.isEmail(user.email) }))","note":{"type":"expr","code":" data.map(user => ({ ...user, validEmail: validator.default.isEmail(user.email) }))"}}},{"id":18,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"### Data Processing","note":{"type":"text","tag":"h3","text":"Data Processing"}}},{"id":19,"name":"lodash","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= import('https://esm.sh/lodash')","note":{"type":"expr","code":" import('https://esm.sh/lodash')"}}},{"id":20,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= lodash.default.groupBy(data, 'plan')","note":{"type":"expr","code":" lodash.default.groupBy(data, 'plan')"}}},{"id":21,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"### Dates","note":{"type":"text","tag":"h3","text":"Dates"}}},{"id":22,"name":"datefns","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= import('https://esm.sh/date-fns')","note":{"type":"expr","code":" import('https://esm.sh/date-fns')"}}},{"id":23,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= datefns.parse('midnight', 'B', new Date())","note":{"type":"expr","code":" datefns.parse('midnight', 'B', new Date())"}}},{"id":24,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"### Charts","note":{"type":"text","tag":"h3","text":"Charts"}}},{"id":25,"name":"recharts","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= import('https://esm.sh/recharts?external=react')","note":{"type":"expr","code":" import('https://esm.sh/recharts?external=react')"}}},{"id":27,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"/blocks.JSExpr","note":{"type":"block","isInstantiated":true,"code":"blocks.JSExpr","state":"const { BarChart, Bar, XAxis, YAxis } = recharts;\n\n<BarChart width={768} height={400} data={data}>\n  <Bar type=\"monotone\" dataKey=\"age\" fill=\"#8884d8\" />\n  <XAxis dataKey=\"name\"/>\n  <YAxis/>\n</BarChart>"}}}]}},"isCollapsed":true,"children":[]},{"id":2,"name":"Markdown","state":{"t":"resheet.selector","v":0,"mode":"run","expr":"SheetOf(Note)","inner":{"t":"resheet.sheet","v":1,"lines":[{"id":0,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"# Markdown","note":{"type":"text","tag":"h1","text":"Markdown"}}},{"id":1,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"*`*italic*`*","note":{"type":"text","tag":"p","text":"*`*italic*`*"}}},{"id":2,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"**`**bold**`**","note":{"type":"text","tag":"p","text":"**`**bold**`**"}}},{"id":3,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"`[a link](url)`","note":{"type":"text","tag":"p","text":"`[a link](url)`"}}},{"id":4,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"- Lists","note":{"type":"text","tag":"li","text":"Lists"}}},{"id":5,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"[ ] Todos","note":{"type":"checkbox","checked":false,"text":"Todos"}}},{"id":6,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"[x] Done","note":{"type":"checkbox","checked":true,"text":"Done"}}},{"id":7,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"`# Headings`","note":{"type":"text","tag":"p","text":"`# Headings`"}}},{"id":8,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"Inline <span className=\"before:block before:absolute before:-inset-0.5 before:-skew-y-1 before:bg-blue-100 relative inline-block\"><span className=\"relative text-blue-950\">Html with [tailwindcss](https://tailwindcss.com/docs/utility-first)</span></span>","note":{"type":"text","tag":"p","text":"Inline <span className=\"before:block before:absolute before:-inset-0.5 before:-skew-y-1 before:bg-blue-100 relative inline-block\"><span className=\"relative text-blue-950\">Html with [tailwindcss](https://tailwindcss.com/docs/utility-first)</span></span>"}}}]}},"isCollapsed":true,"children":[]},{"id":3,"name":"Blocks","state":{"t":"resheet.selector","v":0,"mode":"run","expr":"SheetOf(Note)","inner":{"t":"resheet.sheet","v":1,"lines":[{"id":0,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"# Blocks","note":{"type":"text","tag":"h1","text":"Blocks"}}},{"id":1,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"Blocks are the equivalent to cells in a spreadsheet. Most things in ReSheet are Blocks.","note":{"type":"text","tag":"p","text":"Blocks are the equivalent to cells in a spreadsheet. Most things in ReSheet are Blocks."}}},{"id":3,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}},{"id":2,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"Every line here contains a `Note` Block, which allows writing Markdown or Formulas.","note":{"type":"text","tag":"p","text":"Every line here contains a `Note` Block, which allows writing Markdown or Formulas."}}},{"id":4,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"A `Note` Block also allows using another Block, for example `JSExpr`. Type:","note":{"type":"text","tag":"p","text":"A `Note` Block also allows using another Block, for example `JSExpr`. Type:"}}},{"id":5,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"/blocks.JSExpr","note":{"type":"block","isInstantiated":false,"code":"blocks.JSExpr"}}},{"id":6,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"and hit ⌘`Enter` to use it:","note":{"type":"text","tag":"p","text":"and hit ⌘`Enter` to use it:"}}},{"id":7,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"/blocks.JSExpr","note":{"type":"block","isInstantiated":true,"code":"blocks.JSExpr","state":"// This is a JSExpr Block now\nfunction Mark({ children }) {\n  return (\n    <span className=\"before:block before:absolute before:-inset-0.5 before:-skew-y-2 before:bg-blue-400 relative inline-block\">\n      <span className=\"relative text-white px-0.5 tracking-wide\">\n        {children}\n      </span>\n    </span>\n  )\n}\n\n<p className=\"py-1\">\n  <Mark>Look</Mark> at it!\n</p>"}}},{"id":8,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}},{"id":9,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"All lines here are part of the `SheetOf` Block:","note":{"type":"text","tag":"p","text":"All lines here are part of the `SheetOf` Block:"}}},{"id":10,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"/blocks.SheetOf(blocks.Note)","note":{"type":"block","isInstantiated":false,"code":"blocks.SheetOf(blocks.Note)"}}},{"id":11,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"/blocks.SheetOf(blocks.Note)","note":{"type":"block","isInstantiated":true,"code":"blocks.SheetOf(blocks.Note)","state":{"t":"resheet.sheet","v":1,"lines":[{"id":0,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"Now we have a Sheet inside of a Sheet","note":{"type":"text","tag":"p","text":"Now we have a Sheet inside of a Sheet"}}},{"id":1,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= $9.text","note":{"type":"expr","code":" $9.text"}}}]}}}},{"id":12,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}},{"id":13,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}},{"id":14,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"There are other Blocks available in `blocks`. (Use completion/docs with ⌘`Space`/⌘`D`)","note":{"type":"text","tag":"p","text":"There are other Blocks available in `blocks`. (Use completion/docs with ⌘`Space`/⌘`D`)"}}},{"id":15,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= blocks","note":{"type":"expr","code":" blocks"}}},{"id":16,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}},{"id":17,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"## Custom Blocks","note":{"type":"text","tag":"h2","text":"Custom Blocks"}}},{"id":18,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"You can build your own blocks. For now you either have to shoot me a message or look at the source code of the existing blocks to find out more.","note":{"type":"text","tag":"p","text":"You can build your own blocks. For now you either have to shoot me a message or look at the source code of the existing blocks to find out more."}}},{"id":19,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}},{"id":20,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"Ok, I'll give you a small example:","note":{"type":"text","tag":"p","text":"Ok, I'll give you a small example:"}}},{"id":21,"name":"RAW","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"/blocks.JSExpr","note":{"type":"block","isInstantiated":true,"code":"blocks.JSExpr","state":"resheet.core.block.create({\n  init: \"\",\n  view({ state, dispatch, env }, ref) {\n    return (\n      <textarea\n        ref={ref}\n        value={state}\n        onChange={ev => dispatch(stateBefore => ({ state: ev.target.value }))}\n        rows={state.split('\\n').length}\n        />\n    )\n  },\n  recompute(state, update, env) {\n    return state\n  },\n  getResult(state) {\n    return state\n  },\n  fromJSON(json) {\n    return typeof json === 'string' ? json : ''\n  },\n  toJSON(state) {\n    return state\n  },\n})"}}},{"id":22,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"/RAW","note":{"type":"block","isInstantiated":false,"code":"RAW"}}},{"id":23,"name":"rawText","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"/RAW","note":{"type":"block","isInstantiated":true,"code":"RAW","state":"{\n  \"hello\": \"world\"\n}"}}},{"id":24,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= JSON.parse(rawText)","note":{"type":"expr","code":" JSON.parse(rawText)"}}}]}},"isCollapsed":true,"children":[]}]}],"viewState":{"sidebarOpen":true,"openPage":[0]},"template":{"id":1,"name":"","state":{"t":"resheet.selector","v":0,"mode":"run","expr":"SheetOf(Note)","inner":{"t":"resheet.sheet","v":1,"lines":[{"id":0,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}}]}},"isCollapsed":true,"children":[]}},"prev":0}],"inner":{"pages":[{"id":0,"name":"Introduction","state":{"t":"resheet.selector","v":0,"mode":"run","expr":"SheetOf(Note)","inner":{"t":"resheet.sheet","v":1,"lines":[{"id":0,"name":"","visibility":"result","state":{"t":"resheet.note","v":1,"level":0,"input":"= <h1 className=\"flex space-x-2 items-baseline my-2 text-5xl\">\n    <img className=\"h-12\" src={resheet.assets.logoSvg} alt=\"ReSheet Logo\"/>\n    <span>ReSheet</span>\n    <span className=\"text-2xl\">alpha</span>\n  </h1>","note":{"type":"expr","code":" <h1 className=\"flex space-x-2 items-baseline my-2 text-5xl\">\n    <img className=\"h-12\" src={resheet.assets.logoSvg} alt=\"ReSheet Logo\"/>\n    <span>ReSheet</span>\n    <span className=\"text-2xl\">alpha</span>\n  </h1>"}}},{"id":41,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"A notes-spreadsheet-hybrid for programmers.","note":{"type":"text","tag":"p","text":"A notes-spreadsheet-hybrid for programmers."}}},{"id":86,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}},{"id":87,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"Everything in ReSheet is a Block. A Block can be thought of like a cell in a spreadsheet.","note":{"type":"text","tag":"p","text":"Everything in ReSheet is a Block. A Block can be thought of like a cell in a spreadsheet."}}},{"id":85,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"ReSheet is heavily keyboard-focused:","note":{"type":"text","tag":"p","text":"ReSheet is heavily keyboard-focused:"}}},{"id":88,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":1,"input":"Try **⌘K/⌘⇧P** to see all commands for the currently focused block(s). (Also try **⌘?**)","note":{"type":"text","tag":"p","text":"Try **⌘K/⌘⇧P** to see all commands for the currently focused block(s). (Also try **⌘?**)"}}},{"id":89,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":1,"input":"Use the ArrowKeys or `H`/`J`/`K`/`L` and `Enter`/`Escape` to move between Blocks.","note":{"type":"text","tag":"p","text":"Use the ArrowKeys or `H`/`J`/`K`/`L` and `Enter`/`Escape` to move between Blocks."}}},{"id":90,"name":"","visibility":"result","state":{"t":"resheet.note","v":1,"level":0,"input":"= <img className=\"my-4\" alt=\"ReSheet demo animation\" src={resheet.assets.demoGif} />","note":{"type":"expr","code":" <img className=\"my-4\" alt=\"ReSheet demo animation\" src={resheet.assets.demoGif} />"}}},{"id":70,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"## Shortcuts","note":{"type":"text","tag":"h2","text":"Shortcuts"}}},{"id":76,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"*⌘ = Meta = Ctrl (can be used interchangeably, useful if the browser intercepts a variant)*","note":{"type":"text","tag":"p","text":"*⌘ = Meta = Ctrl (can be used interchangeably, useful if the browser intercepts a variant)*"}}},{"id":66,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"Command Search: **⌘K/⌘⇧P**","note":{"type":"text","tag":"p","text":"Command Search: **⌘K/⌘⇧P**"}}},{"id":67,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"Shortcut Suggestions: **⌘?**","note":{"type":"text","tag":"p","text":"Shortcut Suggestions: **⌘?**"}}},{"id":68,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"Navigation: **Arrow Keys/`HJKL`**","note":{"type":"text","tag":"p","text":"Navigation: **Arrow Keys/`HJKL`**"}}},{"id":69,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"Go in/out: **`Enter`/`Escape`**","note":{"type":"text","tag":"p","text":"Go in/out: **`Enter`/`Escape`**"}}},{"id":71,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"## Writing","note":{"type":"text","tag":"h2","text":"Writing"}}},{"id":72,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"Format with Markdown","note":{"type":"text","tag":"p","text":"Format with Markdown"}}},{"id":74,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":1,"input":"<span className=\"text-sm text-gray-800\">(`*italic* **bold** [link text](link url)` etc)</span>","note":{"type":"text","tag":"p","text":"<span className=\"text-sm text-gray-800\">(`*italic* **bold** [link text](link url)` etc)</span>"}}},{"id":7,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"\"Formulas\" (JavaScript) start with `\"=\"`","note":{"type":"text","tag":"p","text":"\"Formulas\" (JavaScript) start with `\"=\"`"}}},{"id":82,"name":"x","visibility":"block","state":{"t":"resheet.note","v":1,"level":1,"input":"= 12","note":{"type":"expr","code":" 12"}}},{"id":84,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":1,"input":"= Math.sqrt(x + x)","note":{"type":"expr","code":" Math.sqrt(x + x)"}}},{"id":80,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":1,"input":"**⌘`Space`** for completions","note":{"type":"text","tag":"p","text":"**⌘`Space`** for completions"}}},{"id":81,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":1,"input":"**⌘`D`** for docs (if available)","note":{"type":"text","tag":"p","text":"**⌘`D`** for docs (if available)"}}}]}},"isCollapsed":false,"children":[{"id":0,"name":"Tips","state":{"t":"resheet.selector","v":0,"mode":"run","expr":"SheetOf(Note)","inner":{"t":"resheet.sheet","v":1,"lines":[{"id":13,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"# Tips","note":{"type":"text","tag":"h1","text":"Tips"}}},{"id":2,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"Your document is automatically backed up to IndexedDB, but gets deleted after 7 days. So don't forget to save it to a local file.","note":{"type":"text","tag":"p","text":"Your document is automatically backed up to IndexedDB, but gets deleted after 7 days. So don't forget to save it to a local file."}}},{"id":3,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}},{"id":4,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"ReSheet gives you the full power of JavaScript and React.","note":{"type":"text","tag":"p","text":"ReSheet gives you the full power of JavaScript and React."}}},{"id":5,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"**Be aware:** You have the **power to break it** (but generally you can undo it – ⌘Z) and full responsibilty to **ensure you trust the code you run**.","note":{"type":"text","tag":"p","text":"**Be aware:** You have the **power to break it** (but generally you can undo it – ⌘Z) and full responsibilty to **ensure you trust the code you run**."}}},{"id":6,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"Also beware of side-effects in your code: Everything is automatically rerun as needed (for changes), so side-effects may execute for every character you type.","note":{"type":"text","tag":"p","text":"Also beware of side-effects in your code: Everything is automatically rerun as needed (for changes), so side-effects may execute for every character you type."}}},{"id":7,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}},{"id":8,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"If a shortcut triggers a browser action, try an alternative key combination by switching ⌘/Meta/Ctrl.","note":{"type":"text","tag":"p","text":"If a shortcut triggers a browser action, try an alternative key combination by switching ⌘/Meta/Ctrl."}}},{"id":9,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":1,"input":"For example:","note":{"type":"text","tag":"p","text":"For example:"}}},{"id":10,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":2,"input":"⌘N = Meta-N = Ctrl-N","note":{"type":"text","tag":"p","text":"⌘N = Meta-N = Ctrl-N"}}},{"id":11,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":2,"input":"⌘⇧P = Meta-Shift-P = Ctrl-Shift-P","note":{"type":"text","tag":"p","text":"⌘⇧P = Meta-Shift-P = Ctrl-Shift-P"}}},{"id":12,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":2,"input":"etc","note":{"type":"text","tag":"p","text":"etc"}}}]}},"isCollapsed":true,"children":[]},{"id":1,"name":"Formulas","state":{"t":"resheet.selector","v":0,"mode":"run","expr":"SheetOf(Note)","inner":{"t":"resheet.sheet","v":1,"lines":[{"id":0,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"# Formulas","note":{"type":"text","tag":"h1","text":"Formulas"}}},{"id":1,"name":"msInADay","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= 24 /*h*/ * 60 /*min*/ * 60 /*sec*/ * 1000 /*ms*/","note":{"type":"expr","code":" 24 /*h*/ * 60 /*min*/ * 60 /*sec*/ * 1000 /*ms*/"}}},{"id":2,"name":"startOfThisYear","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= new Date(new Date().getFullYear(), 0, 1)","note":{"type":"expr","code":" new Date(new Date().getFullYear(), 0, 1)"}}},{"id":3,"name":"daysInThisYear","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= (Date.now() - startOfThisYear.getTime()) / msInADay","note":{"type":"expr","code":" (Date.now() - startOfThisYear.getTime()) / msInADay"}}},{"id":4,"name":"","visibility":"result","state":{"t":"resheet.note","v":1,"level":0,"input":"= // using react:\n<p className=\"py-2\">\n  This year is already {/* preserve the space character before this comment */}\n  {daysInThisYear.toLocaleString(\"en-US\", { maximumFractionDigits: 1 })}\n  {} days long. {}\n  <span className=\"text-sm text-gray-700\">(Select this line and show or hide the code with ⌘M)</span>\n</p>","note":{"type":"expr","code":" // using react:\n<p className=\"py-2\">\n  This year is already {/* preserve the space character before this comment */}\n  {daysInThisYear.toLocaleString(\"en-US\", { maximumFractionDigits: 1 })}\n  {} days long. {}\n  <span className=\"text-sm text-gray-700\">(Select this line and show or hide the code with ⌘M)</span>\n</p>"}}},{"id":5,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"## External Libraries","note":{"type":"text","tag":"h2","text":"External Libraries"}}},{"id":6,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"[esm.sh](https://esm.sh/) works great for loading npm libraries","note":{"type":"text","tag":"p","text":"[esm.sh](https://esm.sh/) works great for loading npm libraries"}}},{"id":14,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"### Number Formatting","note":{"type":"text","tag":"h3","text":"Number Formatting"}}},{"id":7,"name":"numeral","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= import('https://esm.sh/numeral')","note":{"type":"expr","code":" import('https://esm.sh/numeral')"}}},{"id":8,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= numeral.default(123456.789).format('0,0.00')","note":{"type":"expr","code":" numeral.default(123456.789).format('0,0.00')"}}},{"id":10,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"### CSV Parsing","note":{"type":"text","tag":"h3","text":"CSV Parsing"}}},{"id":11,"name":"Papa","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= import('https://esm.sh/papaparse')","note":{"type":"expr","code":" import('https://esm.sh/papaparse')"}}},{"id":12,"name":"csv","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"id,name,age,plan,email\n0,John,28,free,john@example.com\n1,Alice,34,premium,alice@boo\n2,Bob,43,premium,bob@b.b","note":{"type":"text","tag":"p","text":"id,name,age,plan,email\n0,John,28,free,john@example.com\n1,Alice,34,premium,alice@boo\n2,Bob,43,premium,bob@b.b"}}},{"id":13,"name":"data","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= Papa.default.parse(csv.text, { header: true }).data","note":{"type":"expr","code":" Papa.default.parse(csv.text, { header: true }).data"}}},{"id":15,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"### Data Validation","note":{"type":"text","tag":"h3","text":"Data Validation"}}},{"id":16,"name":"validator","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= import('https://esm.sh/validator')","note":{"type":"expr","code":" import('https://esm.sh/validator')"}}},{"id":17,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= data.map(user => ({ ...user, validEmail: validator.default.isEmail(user.email) }))","note":{"type":"expr","code":" data.map(user => ({ ...user, validEmail: validator.default.isEmail(user.email) }))"}}},{"id":18,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"### Data Processing","note":{"type":"text","tag":"h3","text":"Data Processing"}}},{"id":19,"name":"lodash","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= import('https://esm.sh/lodash')","note":{"type":"expr","code":" import('https://esm.sh/lodash')"}}},{"id":20,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= lodash.default.groupBy(data, 'plan')","note":{"type":"expr","code":" lodash.default.groupBy(data, 'plan')"}}},{"id":21,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"### Dates","note":{"type":"text","tag":"h3","text":"Dates"}}},{"id":22,"name":"datefns","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= import('https://esm.sh/date-fns')","note":{"type":"expr","code":" import('https://esm.sh/date-fns')"}}},{"id":23,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= datefns.parse('midnight', 'B', new Date())","note":{"type":"expr","code":" datefns.parse('midnight', 'B', new Date())"}}},{"id":24,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"### Charts","note":{"type":"text","tag":"h3","text":"Charts"}}},{"id":25,"name":"recharts","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= import('https://esm.sh/recharts?external=react')","note":{"type":"expr","code":" import('https://esm.sh/recharts?external=react')"}}},{"id":27,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"/blocks.JSExpr","note":{"type":"block","isInstantiated":true,"code":"blocks.JSExpr","state":"const { BarChart, Bar, XAxis, YAxis } = recharts;\n\n<BarChart width={768} height={400} data={data}>\n  <Bar type=\"monotone\" dataKey=\"age\" fill=\"#8884d8\" />\n  <XAxis dataKey=\"name\"/>\n  <YAxis/>\n</BarChart>"}}}]}},"isCollapsed":true,"children":[]},{"id":2,"name":"Markdown","state":{"t":"resheet.selector","v":0,"mode":"run","expr":"SheetOf(Note)","inner":{"t":"resheet.sheet","v":1,"lines":[{"id":0,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"# Markdown","note":{"type":"text","tag":"h1","text":"Markdown"}}},{"id":1,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"*`*italic*`*","note":{"type":"text","tag":"p","text":"*`*italic*`*"}}},{"id":2,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"**`**bold**`**","note":{"type":"text","tag":"p","text":"**`**bold**`**"}}},{"id":3,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"`[a link](url)`","note":{"type":"text","tag":"p","text":"`[a link](url)`"}}},{"id":4,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"- Lists","note":{"type":"text","tag":"li","text":"Lists"}}},{"id":5,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"[ ] Todos","note":{"type":"checkbox","checked":false,"text":"Todos"}}},{"id":6,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"[x] Done","note":{"type":"checkbox","checked":true,"text":"Done"}}},{"id":7,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"`# Headings`","note":{"type":"text","tag":"p","text":"`# Headings`"}}},{"id":8,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"Inline <span className=\"before:block before:absolute before:-inset-0.5 before:-skew-y-1 before:bg-blue-100 relative inline-block\"><span className=\"relative text-blue-950\">Html with [tailwindcss](https://tailwindcss.com/docs/utility-first)</span></span>","note":{"type":"text","tag":"p","text":"Inline <span className=\"before:block before:absolute before:-inset-0.5 before:-skew-y-1 before:bg-blue-100 relative inline-block\"><span className=\"relative text-blue-950\">Html with [tailwindcss](https://tailwindcss.com/docs/utility-first)</span></span>"}}}]}},"isCollapsed":true,"children":[]},{"id":3,"name":"Blocks","state":{"t":"resheet.selector","v":0,"mode":"run","expr":"SheetOf(Note)","inner":{"t":"resheet.sheet","v":1,"lines":[{"id":0,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"# Blocks","note":{"type":"text","tag":"h1","text":"Blocks"}}},{"id":1,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"Blocks are the equivalent to cells in a spreadsheet. Most things in ReSheet are Blocks.","note":{"type":"text","tag":"p","text":"Blocks are the equivalent to cells in a spreadsheet. Most things in ReSheet are Blocks."}}},{"id":3,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}},{"id":2,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"Every line here contains a `Note` Block, which allows writing Markdown or Formulas.","note":{"type":"text","tag":"p","text":"Every line here contains a `Note` Block, which allows writing Markdown or Formulas."}}},{"id":4,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"A `Note` Block also allows using another Block, for example `JSExpr`. Type:","note":{"type":"text","tag":"p","text":"A `Note` Block also allows using another Block, for example `JSExpr`. Type:"}}},{"id":5,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"/blocks.JSExpr","note":{"type":"block","isInstantiated":false,"code":"blocks.JSExpr"}}},{"id":6,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"and hit ⌘`Enter` to use it:","note":{"type":"text","tag":"p","text":"and hit ⌘`Enter` to use it:"}}},{"id":7,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"/blocks.JSExpr","note":{"type":"block","isInstantiated":true,"code":"blocks.JSExpr","state":"// This is a JSExpr Block now\nfunction Mark({ children }) {\n  return (\n    <span className=\"before:block before:absolute before:-inset-0.5 before:-skew-y-2 before:bg-blue-400 relative inline-block\">\n      <span className=\"relative text-white px-0.5 tracking-wide\">\n        {children}\n      </span>\n    </span>\n  )\n}\n\n<p className=\"py-1\">\n  <Mark>Look</Mark> at it!\n</p>"}}},{"id":8,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}},{"id":9,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"All lines here are part of the `SheetOf` Block:","note":{"type":"text","tag":"p","text":"All lines here are part of the `SheetOf` Block:"}}},{"id":10,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"/blocks.SheetOf(blocks.Note)","note":{"type":"block","isInstantiated":false,"code":"blocks.SheetOf(blocks.Note)"}}},{"id":11,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"/blocks.SheetOf(blocks.Note)","note":{"type":"block","isInstantiated":true,"code":"blocks.SheetOf(blocks.Note)","state":{"t":"resheet.sheet","v":1,"lines":[{"id":0,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"Now we have a Sheet inside of a Sheet","note":{"type":"text","tag":"p","text":"Now we have a Sheet inside of a Sheet"}}},{"id":1,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= $9.text","note":{"type":"expr","code":" $9.text"}}}]}}}},{"id":12,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}},{"id":13,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}},{"id":14,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"There are other Blocks available in `blocks`. (Use completion/docs with ⌘`Space`/⌘`D`)","note":{"type":"text","tag":"p","text":"There are other Blocks available in `blocks`. (Use completion/docs with ⌘`Space`/⌘`D`)"}}},{"id":15,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= blocks","note":{"type":"expr","code":" blocks"}}},{"id":16,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}},{"id":17,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"## Custom Blocks","note":{"type":"text","tag":"h2","text":"Custom Blocks"}}},{"id":18,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"You can build your own blocks. For now you either have to shoot me a message or look at the source code of the existing blocks to find out more.","note":{"type":"text","tag":"p","text":"You can build your own blocks. For now you either have to shoot me a message or look at the source code of the existing blocks to find out more."}}},{"id":19,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}},{"id":20,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"Ok, I'll give you a small example:","note":{"type":"text","tag":"p","text":"Ok, I'll give you a small example:"}}},{"id":21,"name":"RAW","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"/blocks.JSExpr","note":{"type":"block","isInstantiated":true,"code":"blocks.JSExpr","state":"resheet.core.block.create({\n  init: \"\",\n  view({ state, dispatch, env }, ref) {\n    return (\n      <textarea\n        ref={ref}\n        value={state}\n        onChange={ev => dispatch(stateBefore => ({ state: ev.target.value }))}\n        rows={state.split('\\n').length}\n        />\n    )\n  },\n  recompute(state, update, env) {\n    return state\n  },\n  getResult(state) {\n    return state\n  },\n  fromJSON(json) {\n    return typeof json === 'string' ? json : ''\n  },\n  toJSON(state) {\n    return state\n  },\n})"}}},{"id":22,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"/RAW","note":{"type":"block","isInstantiated":false,"code":"RAW"}}},{"id":23,"name":"rawText","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"/RAW","note":{"type":"block","isInstantiated":true,"code":"RAW","state":"{\n  \"hello\": \"world\"\n}"}}},{"id":24,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"= JSON.parse(rawText)","note":{"type":"expr","code":" JSON.parse(rawText)"}}}]}},"isCollapsed":true,"children":[]}]}],"viewState":{"sidebarOpen":true,"openPage":[0]},"template":{"id":1,"name":"","state":{"t":"resheet.selector","v":0,"mode":"run","expr":"SheetOf(Note)","inner":{"t":"resheet.sheet","v":1,"lines":[{"id":0,"name":"","visibility":"block","state":{"t":"resheet.note","v":1,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}}]}},"isCollapsed":true,"children":[]}}}